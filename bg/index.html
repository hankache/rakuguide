<!DOCTYPE html>
<html lang="bg">
<head>
<!-- Matomo -->
<script>
  var _paq = window._paq = window._paq || [];
  /* tracker methods like "setCustomDimension" should be called before "trackPageView" */
  _paq.push(["setDocumentTitle", document.domain + "/" + document.title]);
  _paq.push(["setCookieDomain", "*.raku.guide"]);
  _paq.push(["setDomains", ["*.raku.guide"]]);
  _paq.push(["setDoNotTrack", true]);
  _paq.push(['trackPageView']);
  _paq.push(['enableLinkTracking']);
  (function() {
    var u="https://hankache.com/matomo/";
    _paq.push(['setTrackerUrl', u+'matomo.php']);
    _paq.push(['setSiteId', '2']);
    var d=document, g=d.createElement('script'), s=d.getElementsByTagName('script')[0];
    g.async=true; g.src=u+'matomo.js'; s.parentNode.insertBefore(g,s);
  })();
</script>
<!-- End Matomo Code -->

<link rel="shortcut icon" type="image/x-icon" href="../favicon.ico">

<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 2.0.20">
<meta name="description" content="Общо въведение в Perl 6">
<meta name="keywords" content="perl6, perl 6, въведение, perl6intro, въведение в perl 6, урок по пърл 6, увод в perl 6">
<meta name="author" content="Naoum Hankache, Красимир Беров">
<title>Увод в Perl 6</title>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700">
<style>
/*! Asciidoctor default stylesheet | MIT License | https://asciidoctor.org */
/* Uncomment the following line when using as a custom stylesheet */
/* @import "https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700"; */
html{font-family:sans-serif;-webkit-text-size-adjust:100%}
a{background:none}
a:focus{outline:thin dotted}
a:active,a:hover{outline:0}
h1{font-size:2em;margin:.67em 0}
b,strong{font-weight:bold}
abbr{font-size:.9em}
abbr[title]{cursor:help;border-bottom:1px dotted #dddddf;text-decoration:none}
dfn{font-style:italic}
hr{height:0}
mark{background:#ff0;color:#000}
code,kbd,pre,samp{font-family:monospace;font-size:1em}
pre{white-space:pre-wrap}
q{quotes:"\201C" "\201D" "\2018" "\2019"}
small{font-size:80%}
sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}
sup{top:-.5em}
sub{bottom:-.25em}
img{border:0}
svg:not(:root){overflow:hidden}
figure{margin:0}
audio,video{display:inline-block}
audio:not([controls]){display:none;height:0}
fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}
legend{border:0;padding:0}
button,input,select,textarea{font-family:inherit;font-size:100%;margin:0}
button,input{line-height:normal}
button,select{text-transform:none}
button,html input[type=button],input[type=reset],input[type=submit]{-webkit-appearance:button;cursor:pointer}
button[disabled],html input[disabled]{cursor:default}
input[type=checkbox],input[type=radio]{padding:0}
button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}
textarea{overflow:auto;vertical-align:top}
table{border-collapse:collapse;border-spacing:0}
*,::before,::after{box-sizing:border-box}
html,body{font-size:100%}
body{background:#fff;color:rgba(0,0,0,.8);padding:0;margin:0;font-family:"Noto Serif","DejaVu Serif",serif;line-height:1;position:relative;cursor:auto;-moz-tab-size:4;-o-tab-size:4;tab-size:4;word-wrap:anywhere;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased}
a:hover{cursor:pointer}
img,object,embed{max-width:100%;height:auto}
object,embed{height:100%}
img{-ms-interpolation-mode:bicubic}
.left{float:left!important}
.right{float:right!important}
.text-left{text-align:left!important}
.text-right{text-align:right!important}
.text-center{text-align:center!important}
.text-justify{text-align:justify!important}
.hide{display:none}
img,object,svg{display:inline-block;vertical-align:middle}
textarea{height:auto;min-height:50px}
select{width:100%}
.subheader,.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{line-height:1.45;color:#7a2518;font-weight:400;margin-top:0;margin-bottom:.25em}
div,dl,dt,dd,ul,ol,li,h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6,pre,form,p,blockquote,th,td{margin:0;padding:0}
a{color:#2156a5;text-decoration:underline;line-height:inherit}
a:hover,a:focus{color:#1d4b8f}
a img{border:0}
p{line-height:1.6;margin-bottom:1.25em;text-rendering:optimizeLegibility}
p aside{font-size:.875em;line-height:1.35;font-style:italic}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{font-family:"Open Sans","DejaVu Sans",sans-serif;font-weight:300;font-style:normal;color:#ba3925;text-rendering:optimizeLegibility;margin-top:1em;margin-bottom:.5em;line-height:1.0125em}
h1 small,h2 small,h3 small,#toctitle small,.sidebarblock>.content>.title small,h4 small,h5 small,h6 small{font-size:60%;color:#e99b8f;line-height:0}
h1{font-size:2.125em}
h2{font-size:1.6875em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.375em}
h4,h5{font-size:1.125em}
h6{font-size:1em}
hr{border:solid #dddddf;border-width:1px 0 0;clear:both;margin:1.25em 0 1.1875em}
em,i{font-style:italic;line-height:inherit}
strong,b{font-weight:bold;line-height:inherit}
small{font-size:60%;line-height:inherit}
code{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;color:rgba(0,0,0,.9)}
ul,ol,dl{line-height:1.6;margin-bottom:1.25em;list-style-position:outside;font-family:inherit}
ul,ol{margin-left:1.5em}
ul li ul,ul li ol{margin-left:1.25em;margin-bottom:0}
ul.circle{list-style-type:circle}
ul.disc{list-style-type:disc}
ul.square{list-style-type:square}
ul.circle ul:not([class]),ul.disc ul:not([class]),ul.square ul:not([class]){list-style:inherit}
ol li ul,ol li ol{margin-left:1.25em;margin-bottom:0}
dl dt{margin-bottom:.3125em;font-weight:bold}
dl dd{margin-bottom:1.25em}
blockquote{margin:0 0 1.25em;padding:.5625em 1.25em 0 1.1875em;border-left:1px solid #ddd}
blockquote,blockquote p{line-height:1.6;color:rgba(0,0,0,.85)}
@media screen and (min-width:768px){h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2}
h1{font-size:2.75em}
h2{font-size:2.3125em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.6875em}
h4{font-size:1.4375em}}
table{background:#fff;margin-bottom:1.25em;border:1px solid #dedede;word-wrap:normal}
table thead,table tfoot{background:#f7f8f7}
table thead tr th,table thead tr td,table tfoot tr th,table tfoot tr td{padding:.5em .625em .625em;font-size:inherit;color:rgba(0,0,0,.8);text-align:left}
table tr th,table tr td{padding:.5625em .625em;font-size:inherit;color:rgba(0,0,0,.8)}
table tr.even,table tr.alt{background:#f8f8f7}
table thead tr th,table tfoot tr th,table tbody tr td,table tr td,table tfoot tr td{line-height:1.6}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2;word-spacing:-.05em}
h1 strong,h2 strong,h3 strong,#toctitle strong,.sidebarblock>.content>.title strong,h4 strong,h5 strong,h6 strong{font-weight:400}
.center{margin-left:auto;margin-right:auto}
.stretch{width:100%}
.clearfix::before,.clearfix::after,.float-group::before,.float-group::after{content:" ";display:table}
.clearfix::after,.float-group::after{clear:both}
:not(pre).nobreak{word-wrap:normal}
:not(pre).nowrap{white-space:nowrap}
:not(pre).pre-wrap{white-space:pre-wrap}
:not(pre):not([class^=L])>code{font-size:.9375em;font-style:normal!important;letter-spacing:0;padding:.1em .5ex;word-spacing:-.15em;background:#f7f7f8;border-radius:4px;line-height:1.45;text-rendering:optimizeSpeed}
pre{color:rgba(0,0,0,.9);font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;line-height:1.45;text-rendering:optimizeSpeed}
pre code,pre pre{color:inherit;font-size:inherit;line-height:inherit}
pre>code{display:block}
pre.nowrap,pre.nowrap pre{white-space:pre;word-wrap:normal}
em em{font-style:normal}
strong strong{font-weight:400}
.keyseq{color:rgba(51,51,51,.8)}
kbd{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;display:inline-block;color:rgba(0,0,0,.8);font-size:.65em;line-height:1.45;background:#f7f7f7;border:1px solid #ccc;border-radius:3px;box-shadow:0 1px 0 rgba(0,0,0,.2),inset 0 0 0 .1em #fff;margin:0 .15em;padding:.2em .5em;vertical-align:middle;position:relative;top:-.1em;white-space:nowrap}
.keyseq kbd:first-child{margin-left:0}
.keyseq kbd:last-child{margin-right:0}
.menuseq,.menuref{color:#000}
.menuseq b:not(.caret),.menuref{font-weight:inherit}
.menuseq{word-spacing:-.02em}
.menuseq b.caret{font-size:1.25em;line-height:.8}
.menuseq i.caret{font-weight:bold;text-align:center;width:.45em}
b.button::before,b.button::after{position:relative;top:-1px;font-weight:400}
b.button::before{content:"[";padding:0 3px 0 2px}
b.button::after{content:"]";padding:0 2px 0 3px}
p a>code:hover{color:rgba(0,0,0,.9)}
#header,#content,#footnotes,#footer{width:100%;margin:0 auto;max-width:62.5em;*zoom:1;position:relative;padding-left:.9375em;padding-right:.9375em}
#header::before,#header::after,#content::before,#content::after,#footnotes::before,#footnotes::after,#footer::before,#footer::after{content:" ";display:table}
#header::after,#content::after,#footnotes::after,#footer::after{clear:both}
#content{margin-top:1.25em}
#content::before{content:none}
#header>h1:first-child{color:rgba(0,0,0,.85);margin-top:2.25rem;margin-bottom:0}
#header>h1:first-child+#toc{margin-top:8px;border-top:1px solid #dddddf}
#header>h1:only-child,body.toc2 #header>h1:nth-last-child(2){border-bottom:1px solid #dddddf;padding-bottom:8px}
#header .details{border-bottom:1px solid #dddddf;line-height:1.45;padding-top:.25em;padding-bottom:.25em;padding-left:.25em;color:rgba(0,0,0,.6);display:flex;flex-flow:row wrap}
#header .details span:first-child{margin-left:-.125em}
#header .details span.email a{color:rgba(0,0,0,.85)}
#header .details br{display:none}
#header .details br+span::before{content:"\00a0\2013\00a0"}
#header .details br+span.author::before{content:"\00a0\22c5\00a0";color:rgba(0,0,0,.85)}
#header .details br+span#revremark::before{content:"\00a0|\00a0"}
#header #revnumber{text-transform:capitalize}
#header #revnumber::after{content:"\00a0"}
#content>h1:first-child:not([class]){color:rgba(0,0,0,.85);border-bottom:1px solid #dddddf;padding-bottom:8px;margin-top:0;padding-top:1rem;margin-bottom:1.25rem}
#toc{border-bottom:1px solid #e7e7e9;padding-bottom:.5em}
#toc>ul{margin-left:.125em}
#toc ul.sectlevel0>li>a{font-style:italic}
#toc ul.sectlevel0 ul.sectlevel1{margin:.5em 0}
#toc ul{font-family:"Open Sans","DejaVu Sans",sans-serif;list-style-type:none}
#toc li{line-height:1.3334;margin-top:.3334em}
#toc a{text-decoration:none}
#toc a:active{text-decoration:underline}
#toctitle{color:#7a2518;font-size:1.2em}
@media screen and (min-width:768px){#toctitle{font-size:1.375em}
body.toc2{padding-left:15em;padding-right:0}
#toc.toc2{margin-top:0!important;background:#f8f8f7;position:fixed;width:15em;left:0;top:0;border-right:1px solid #e7e7e9;border-top-width:0!important;border-bottom-width:0!important;z-index:1000;padding:1.25em 1em;height:100%;overflow:auto}
#toc.toc2 #toctitle{margin-top:0;margin-bottom:.8rem;font-size:1.2em}
#toc.toc2>ul{font-size:.9em;margin-bottom:0}
#toc.toc2 ul ul{margin-left:0;padding-left:1em}
#toc.toc2 ul.sectlevel0 ul.sectlevel1{padding-left:0;margin-top:.5em;margin-bottom:.5em}
body.toc2.toc-right{padding-left:0;padding-right:15em}
body.toc2.toc-right #toc.toc2{border-right-width:0;border-left:1px solid #e7e7e9;left:auto;right:0}}
@media screen and (min-width:1280px){body.toc2{padding-left:20em;padding-right:0}
#toc.toc2{width:20em}
#toc.toc2 #toctitle{font-size:1.375em}
#toc.toc2>ul{font-size:.95em}
#toc.toc2 ul ul{padding-left:1.25em}
body.toc2.toc-right{padding-left:0;padding-right:20em}}
#content #toc{border:1px solid #e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;border-radius:4px}
#content #toc>:first-child{margin-top:0}
#content #toc>:last-child{margin-bottom:0}
#footer{max-width:none;background:rgba(0,0,0,.8);padding:1.25em}
#footer-text{color:hsla(0,0%,100%,.8);line-height:1.44}
#content{margin-bottom:.625em}
.sect1{padding-bottom:.625em}
@media screen and (min-width:768px){#content{margin-bottom:1.25em}
.sect1{padding-bottom:1.25em}}
.sect1:last-child{padding-bottom:0}
.sect1+.sect1{border-top:1px solid #e7e7e9}
#content h1>a.anchor,h2>a.anchor,h3>a.anchor,#toctitle>a.anchor,.sidebarblock>.content>.title>a.anchor,h4>a.anchor,h5>a.anchor,h6>a.anchor{position:absolute;z-index:1001;width:1.5ex;margin-left:-1.5ex;display:block;text-decoration:none!important;visibility:hidden;text-align:center;font-weight:400}
#content h1>a.anchor::before,h2>a.anchor::before,h3>a.anchor::before,#toctitle>a.anchor::before,.sidebarblock>.content>.title>a.anchor::before,h4>a.anchor::before,h5>a.anchor::before,h6>a.anchor::before{content:"\00A7";font-size:.85em;display:block;padding-top:.1em}
#content h1:hover>a.anchor,#content h1>a.anchor:hover,h2:hover>a.anchor,h2>a.anchor:hover,h3:hover>a.anchor,#toctitle:hover>a.anchor,.sidebarblock>.content>.title:hover>a.anchor,h3>a.anchor:hover,#toctitle>a.anchor:hover,.sidebarblock>.content>.title>a.anchor:hover,h4:hover>a.anchor,h4>a.anchor:hover,h5:hover>a.anchor,h5>a.anchor:hover,h6:hover>a.anchor,h6>a.anchor:hover{visibility:visible}
#content h1>a.link,h2>a.link,h3>a.link,#toctitle>a.link,.sidebarblock>.content>.title>a.link,h4>a.link,h5>a.link,h6>a.link{color:#ba3925;text-decoration:none}
#content h1>a.link:hover,h2>a.link:hover,h3>a.link:hover,#toctitle>a.link:hover,.sidebarblock>.content>.title>a.link:hover,h4>a.link:hover,h5>a.link:hover,h6>a.link:hover{color:#a53221}
details,.audioblock,.imageblock,.literalblock,.listingblock,.stemblock,.videoblock{margin-bottom:1.25em}
details{margin-left:1.25rem}
details>summary{cursor:pointer;display:block;position:relative;line-height:1.6;margin-bottom:.625rem;outline:none;-webkit-tap-highlight-color:transparent}
details>summary::-webkit-details-marker{display:none}
details>summary::before{content:"";border:solid transparent;border-left:solid;border-width:.3em 0 .3em .5em;position:absolute;top:.5em;left:-1.25rem;transform:translateX(15%)}
details[open]>summary::before{border:solid transparent;border-top:solid;border-width:.5em .3em 0;transform:translateY(15%)}
details>summary::after{content:"";width:1.25rem;height:1em;position:absolute;top:.3em;left:-1.25rem}
.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{text-rendering:optimizeLegibility;text-align:left;font-family:"Noto Serif","DejaVu Serif",serif;font-size:1rem;font-style:italic}
table.tableblock.fit-content>caption.title{white-space:nowrap;width:0}
.paragraph.lead>p,#preamble>.sectionbody>[class=paragraph]:first-of-type p{font-size:1.21875em;line-height:1.6;color:rgba(0,0,0,.85)}
.admonitionblock>table{border-collapse:separate;border:0;background:none;width:100%}
.admonitionblock>table td.icon{text-align:center;width:80px}
.admonitionblock>table td.icon img{max-width:none}
.admonitionblock>table td.icon .title{font-weight:bold;font-family:"Open Sans","DejaVu Sans",sans-serif;text-transform:uppercase}
.admonitionblock>table td.content{padding-left:1.125em;padding-right:1.25em;border-left:1px solid #dddddf;color:rgba(0,0,0,.6);word-wrap:anywhere}
.admonitionblock>table td.content>:last-child>:last-child{margin-bottom:0}
.exampleblock>.content{border:1px solid #e6e6e6;margin-bottom:1.25em;padding:1.25em;background:#fff;border-radius:4px}
.sidebarblock{border:1px solid #dbdbd6;margin-bottom:1.25em;padding:1.25em;background:#f3f3f2;border-radius:4px}
.sidebarblock>.content>.title{color:#7a2518;margin-top:0;text-align:center}
.exampleblock>.content>:first-child,.sidebarblock>.content>:first-child{margin-top:0}
.exampleblock>.content>:last-child,.exampleblock>.content>:last-child>:last-child,.exampleblock>.content .olist>ol>li:last-child>:last-child,.exampleblock>.content .ulist>ul>li:last-child>:last-child,.exampleblock>.content .qlist>ol>li:last-child>:last-child,.sidebarblock>.content>:last-child,.sidebarblock>.content>:last-child>:last-child,.sidebarblock>.content .olist>ol>li:last-child>:last-child,.sidebarblock>.content .ulist>ul>li:last-child>:last-child,.sidebarblock>.content .qlist>ol>li:last-child>:last-child{margin-bottom:0}
.literalblock pre,.listingblock>.content>pre{border-radius:4px;overflow-x:auto;padding:1em;font-size:.8125em}
@media screen and (min-width:768px){.literalblock pre,.listingblock>.content>pre{font-size:.90625em}}
@media screen and (min-width:1280px){.literalblock pre,.listingblock>.content>pre{font-size:1em}}
.literalblock pre,.listingblock>.content>pre:not(.highlight),.listingblock>.content>pre[class=highlight],.listingblock>.content>pre[class^="highlight "]{background:#f7f7f8}
.literalblock.output pre{color:#f7f7f8;background:rgba(0,0,0,.9)}
.listingblock>.content{position:relative}
.listingblock code[data-lang]::before{display:none;content:attr(data-lang);position:absolute;font-size:.75em;top:.425rem;right:.5rem;line-height:1;text-transform:uppercase;color:inherit;opacity:.5}
.listingblock:hover code[data-lang]::before{display:block}
.listingblock.terminal pre .command::before{content:attr(data-prompt);padding-right:.5em;color:inherit;opacity:.5}
.listingblock.terminal pre .command:not([data-prompt])::before{content:"$"}
.listingblock pre.highlightjs{padding:0}
.listingblock pre.highlightjs>code{padding:1em;border-radius:4px}
.listingblock pre.prettyprint{border-width:0}
.prettyprint{background:#f7f7f8}
pre.prettyprint .linenums{line-height:1.45;margin-left:2em}
pre.prettyprint li{background:none;list-style-type:inherit;padding-left:0}
pre.prettyprint li code[data-lang]::before{opacity:1}
pre.prettyprint li:not(:first-child) code[data-lang]::before{display:none}
table.linenotable{border-collapse:separate;border:0;margin-bottom:0;background:none}
table.linenotable td[class]{color:inherit;vertical-align:top;padding:0;line-height:inherit;white-space:normal}
table.linenotable td.code{padding-left:.75em}
table.linenotable td.linenos,pre.pygments .linenos{border-right:1px solid;opacity:.35;padding-right:.5em;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}
pre.pygments span.linenos{display:inline-block;margin-right:.75em}
.quoteblock{margin:0 1em 1.25em 1.5em;display:table}
.quoteblock:not(.excerpt)>.title{margin-left:-1.5em;margin-bottom:.75em}
.quoteblock blockquote,.quoteblock p{color:rgba(0,0,0,.85);font-size:1.15rem;line-height:1.75;word-spacing:.1em;letter-spacing:0;font-style:italic;text-align:justify}
.quoteblock blockquote{margin:0;padding:0;border:0}
.quoteblock blockquote::before{content:"\201c";float:left;font-size:2.75em;font-weight:bold;line-height:.6em;margin-left:-.6em;color:#7a2518;text-shadow:0 1px 2px rgba(0,0,0,.1)}
.quoteblock blockquote>.paragraph:last-child p{margin-bottom:0}
.quoteblock .attribution{margin-top:.75em;margin-right:.5ex;text-align:right}
.verseblock{margin:0 1em 1.25em}
.verseblock pre{font-family:"Open Sans","DejaVu Sans",sans-serif;font-size:1.15rem;color:rgba(0,0,0,.85);font-weight:300;text-rendering:optimizeLegibility}
.verseblock pre strong{font-weight:400}
.verseblock .attribution{margin-top:1.25rem;margin-left:.5ex}
.quoteblock .attribution,.verseblock .attribution{font-size:.9375em;line-height:1.45;font-style:italic}
.quoteblock .attribution br,.verseblock .attribution br{display:none}
.quoteblock .attribution cite,.verseblock .attribution cite{display:block;letter-spacing:-.025em;color:rgba(0,0,0,.6)}
.quoteblock.abstract blockquote::before,.quoteblock.excerpt blockquote::before,.quoteblock .quoteblock blockquote::before{display:none}
.quoteblock.abstract blockquote,.quoteblock.abstract p,.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{line-height:1.6;word-spacing:0}
.quoteblock.abstract{margin:0 1em 1.25em;display:block}
.quoteblock.abstract>.title{margin:0 0 .375em;font-size:1.15em;text-align:center}
.quoteblock.excerpt>blockquote,.quoteblock .quoteblock{padding:0 0 .25em 1em;border-left:.25em solid #dddddf}
.quoteblock.excerpt,.quoteblock .quoteblock{margin-left:0}
.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{color:inherit;font-size:1.0625rem}
.quoteblock.excerpt .attribution,.quoteblock .quoteblock .attribution{color:inherit;font-size:.85rem;text-align:left;margin-right:0}
p.tableblock:last-child{margin-bottom:0}
td.tableblock>.content{margin-bottom:1.25em;word-wrap:anywhere}
td.tableblock>.content>:last-child{margin-bottom:-1.25em}
table.tableblock,th.tableblock,td.tableblock{border:0 solid #dedede}
table.grid-all>*>tr>*{border-width:1px}
table.grid-cols>*>tr>*{border-width:0 1px}
table.grid-rows>*>tr>*{border-width:1px 0}
table.frame-all{border-width:1px}
table.frame-ends{border-width:1px 0}
table.frame-sides{border-width:0 1px}
table.frame-none>colgroup+*>:first-child>*,table.frame-sides>colgroup+*>:first-child>*{border-top-width:0}
table.frame-none>:last-child>:last-child>*,table.frame-sides>:last-child>:last-child>*{border-bottom-width:0}
table.frame-none>*>tr>:first-child,table.frame-ends>*>tr>:first-child{border-left-width:0}
table.frame-none>*>tr>:last-child,table.frame-ends>*>tr>:last-child{border-right-width:0}
table.stripes-all>*>tr,table.stripes-odd>*>tr:nth-of-type(odd),table.stripes-even>*>tr:nth-of-type(even),table.stripes-hover>*>tr:hover{background:#f8f8f7}
th.halign-left,td.halign-left{text-align:left}
th.halign-right,td.halign-right{text-align:right}
th.halign-center,td.halign-center{text-align:center}
th.valign-top,td.valign-top{vertical-align:top}
th.valign-bottom,td.valign-bottom{vertical-align:bottom}
th.valign-middle,td.valign-middle{vertical-align:middle}
table thead th,table tfoot th{font-weight:bold}
tbody tr th{background:#f7f8f7}
tbody tr th,tbody tr th p,tfoot tr th,tfoot tr th p{color:rgba(0,0,0,.8);font-weight:bold}
p.tableblock>code:only-child{background:none;padding:0}
p.tableblock{font-size:1em}
ol{margin-left:1.75em}
ul li ol{margin-left:1.5em}
dl dd{margin-left:1.125em}
dl dd:last-child,dl dd:last-child>:last-child{margin-bottom:0}
li p,ul dd,ol dd,.olist .olist,.ulist .ulist,.ulist .olist,.olist .ulist{margin-bottom:.625em}
ul.checklist,ul.none,ol.none,ul.no-bullet,ol.no-bullet,ol.unnumbered,ul.unstyled,ol.unstyled{list-style-type:none}
ul.no-bullet,ol.no-bullet,ol.unnumbered{margin-left:.625em}
ul.unstyled,ol.unstyled{margin-left:0}
li>p:empty:only-child::before{content:"";display:inline-block}
ul.checklist>li>p:first-child{margin-left:-1em}
ul.checklist>li>p:first-child>.fa-square-o:first-child,ul.checklist>li>p:first-child>.fa-check-square-o:first-child{width:1.25em;font-size:.8em;position:relative;bottom:.125em}
ul.checklist>li>p:first-child>input[type=checkbox]:first-child{margin-right:.25em}
ul.inline{display:flex;flex-flow:row wrap;list-style:none;margin:0 0 .625em -1.25em}
ul.inline>li{margin-left:1.25em}
.unstyled dl dt{font-weight:400;font-style:normal}
ol.arabic{list-style-type:decimal}
ol.decimal{list-style-type:decimal-leading-zero}
ol.loweralpha{list-style-type:lower-alpha}
ol.upperalpha{list-style-type:upper-alpha}
ol.lowerroman{list-style-type:lower-roman}
ol.upperroman{list-style-type:upper-roman}
ol.lowergreek{list-style-type:lower-greek}
.hdlist>table,.colist>table{border:0;background:none}
.hdlist>table>tbody>tr,.colist>table>tbody>tr{background:none}
td.hdlist1,td.hdlist2{vertical-align:top;padding:0 .625em}
td.hdlist1{font-weight:bold;padding-bottom:1.25em}
td.hdlist2{word-wrap:anywhere}
.literalblock+.colist,.listingblock+.colist{margin-top:-.5em}
.colist td:not([class]):first-child{padding:.4em .75em 0;line-height:1;vertical-align:top}
.colist td:not([class]):first-child img{max-width:none}
.colist td:not([class]):last-child{padding:.25em 0}
.thumb,.th{line-height:0;display:inline-block;border:4px solid #fff;box-shadow:0 0 0 1px #ddd}
.imageblock.left{margin:.25em .625em 1.25em 0}
.imageblock.right{margin:.25em 0 1.25em .625em}
.imageblock>.title{margin-bottom:0}
.imageblock.thumb,.imageblock.th{border-width:6px}
.imageblock.thumb>.title,.imageblock.th>.title{padding:0 .125em}
.image.left,.image.right{margin-top:.25em;margin-bottom:.25em;display:inline-block;line-height:0}
.image.left{margin-right:.625em}
.image.right{margin-left:.625em}
a.image{text-decoration:none;display:inline-block}
a.image object{pointer-events:none}
sup.footnote,sup.footnoteref{font-size:.875em;position:static;vertical-align:super}
sup.footnote a,sup.footnoteref a{text-decoration:none}
sup.footnote a:active,sup.footnoteref a:active{text-decoration:underline}
#footnotes{padding-top:.75em;padding-bottom:.75em;margin-bottom:.625em}
#footnotes hr{width:20%;min-width:6.25em;margin:-.25em 0 .75em;border-width:1px 0 0}
#footnotes .footnote{padding:0 .375em 0 .225em;line-height:1.3334;font-size:.875em;margin-left:1.2em;margin-bottom:.2em}
#footnotes .footnote a:first-of-type{font-weight:bold;text-decoration:none;margin-left:-1.05em}
#footnotes .footnote:last-of-type{margin-bottom:0}
#content #footnotes{margin-top:-.625em;margin-bottom:0;padding:.75em 0}
div.unbreakable{page-break-inside:avoid}
.big{font-size:larger}
.small{font-size:smaller}
.underline{text-decoration:underline}
.overline{text-decoration:overline}
.line-through{text-decoration:line-through}
.aqua{color:#00bfbf}
.aqua-background{background:#00fafa}
.black{color:#000}
.black-background{background:#000}
.blue{color:#0000bf}
.blue-background{background:#0000fa}
.fuchsia{color:#bf00bf}
.fuchsia-background{background:#fa00fa}
.gray{color:#606060}
.gray-background{background:#7d7d7d}
.green{color:#006000}
.green-background{background:#007d00}
.lime{color:#00bf00}
.lime-background{background:#00fa00}
.maroon{color:#600000}
.maroon-background{background:#7d0000}
.navy{color:#000060}
.navy-background{background:#00007d}
.olive{color:#606000}
.olive-background{background:#7d7d00}
.purple{color:#600060}
.purple-background{background:#7d007d}
.red{color:#bf0000}
.red-background{background:#fa0000}
.silver{color:#909090}
.silver-background{background:#bcbcbc}
.teal{color:#006060}
.teal-background{background:#007d7d}
.white{color:#bfbfbf}
.white-background{background:#fafafa}
.yellow{color:#bfbf00}
.yellow-background{background:#fafa00}
span.icon>.fa{cursor:default}
a span.icon>.fa{cursor:inherit}
.admonitionblock td.icon [class^="fa icon-"]{font-size:2.5em;text-shadow:1px 1px 2px rgba(0,0,0,.5);cursor:default}
.admonitionblock td.icon .icon-note::before{content:"\f05a";color:#19407c}
.admonitionblock td.icon .icon-tip::before{content:"\f0eb";text-shadow:1px 1px 2px rgba(155,155,0,.8);color:#111}
.admonitionblock td.icon .icon-warning::before{content:"\f071";color:#bf6900}
.admonitionblock td.icon .icon-caution::before{content:"\f06d";color:#bf3400}
.admonitionblock td.icon .icon-important::before{content:"\f06a";color:#bf0000}
.conum[data-value]{display:inline-block;color:#fff!important;background:rgba(0,0,0,.8);border-radius:50%;text-align:center;font-size:.75em;width:1.67em;height:1.67em;line-height:1.67em;font-family:"Open Sans","DejaVu Sans",sans-serif;font-style:normal;font-weight:bold}
.conum[data-value] *{color:#fff!important}
.conum[data-value]+b{display:none}
.conum[data-value]::after{content:attr(data-value)}
pre .conum[data-value]{position:relative;top:-.125em}
b.conum *{color:inherit!important}
.conum:not([data-value]):empty{display:none}
dt,th.tableblock,td.content,div.footnote{text-rendering:optimizeLegibility}
h1,h2,p,td.content,span.alt,summary{letter-spacing:-.01em}
p strong,td.content strong,div.footnote strong{letter-spacing:-.005em}
p,blockquote,dt,td.content,td.hdlist1,span.alt,summary{font-size:1.0625rem}
p{margin-bottom:1.25rem}
.sidebarblock p,.sidebarblock dt,.sidebarblock td.content,p.tableblock{font-size:1em}
.exampleblock>.content{background:#fffef7;border-color:#e0e0dc;box-shadow:0 1px 4px #e0e0dc}
.print-only{display:none!important}
@page{margin:1.25cm .75cm}
@media print{*{box-shadow:none!important;text-shadow:none!important}
html{font-size:80%}
a{color:inherit!important;text-decoration:underline!important}
a.bare,a[href^="#"],a[href^="mailto:"]{text-decoration:none!important}
a[href^="http:"]:not(.bare)::after,a[href^="https:"]:not(.bare)::after{content:"(" attr(href) ")";display:inline-block;font-size:.875em;padding-left:.25em}
abbr[title]{border-bottom:1px dotted}
abbr[title]::after{content:" (" attr(title) ")"}
pre,blockquote,tr,img,object,svg{page-break-inside:avoid}
thead{display:table-header-group}
svg{max-width:100%}
p,blockquote,dt,td.content{font-size:1em;orphans:3;widows:3}
h2,h3,#toctitle,.sidebarblock>.content>.title{page-break-after:avoid}
#header,#content,#footnotes,#footer{max-width:none}
#toc,.sidebarblock,.exampleblock>.content{background:none!important}
#toc{border-bottom:1px solid #dddddf!important;padding-bottom:0!important}
body.book #header{text-align:center}
body.book #header>h1:first-child{border:0!important;margin:2.5em 0 1em}
body.book #header .details{border:0!important;display:block;padding:0!important}
body.book #header .details span:first-child{margin-left:0!important}
body.book #header .details br{display:block}
body.book #header .details br+span::before{content:none!important}
body.book #toc{border:0!important;text-align:left!important;padding:0!important;margin:0!important}
body.book #toc,body.book #preamble,body.book h1.sect0,body.book .sect1>h2{page-break-before:always}
.listingblock code[data-lang]::before{display:block}
#footer{padding:0 .9375em}
.hide-on-print{display:none!important}
.print-only{display:block!important}
.hide-for-print{display:none!important}
.show-for-print{display:inherit!important}}
@media amzn-kf8,print{#header>h1:first-child{margin-top:1.25rem}
.sect1{padding:0!important}
.sect1+.sect1{border:0}
#footer{background:none}
#footer-text{color:rgba(0,0,0,.6);font-size:.9em}}
@media amzn-kf8{#header,#content,#footnotes,#footer{padding:0}}
</style>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
<style>
pre.pygments .hll { background-color: #ffffcc }
pre.pygments { background: #f8f8f8; }
pre.pygments .tok-c { color: #3D7B7B; font-style: italic } /* Comment */
pre.pygments .tok-err { border: 1px solid #FF0000 } /* Error */
pre.pygments .tok-k { color: #008000; font-weight: bold } /* Keyword */
pre.pygments .tok-o { color: #666666 } /* Operator */
pre.pygments .tok-ch { color: #3D7B7B; font-style: italic } /* Comment.Hashbang */
pre.pygments .tok-cm { color: #3D7B7B; font-style: italic } /* Comment.Multiline */
pre.pygments .tok-cp { color: #9C6500 } /* Comment.Preproc */
pre.pygments .tok-cpf { color: #3D7B7B; font-style: italic } /* Comment.PreprocFile */
pre.pygments .tok-c1 { color: #3D7B7B; font-style: italic } /* Comment.Single */
pre.pygments .tok-cs { color: #3D7B7B; font-style: italic } /* Comment.Special */
pre.pygments .tok-gd { color: #A00000 } /* Generic.Deleted */
pre.pygments .tok-ge { font-style: italic } /* Generic.Emph */
pre.pygments .tok-gr { color: #E40000 } /* Generic.Error */
pre.pygments .tok-gh { color: #000080; font-weight: bold } /* Generic.Heading */
pre.pygments .tok-gi { color: #008400 } /* Generic.Inserted */
pre.pygments .tok-go { color: #717171 } /* Generic.Output */
pre.pygments .tok-gp { color: #000080; font-weight: bold } /* Generic.Prompt */
pre.pygments .tok-gs { font-weight: bold } /* Generic.Strong */
pre.pygments .tok-gu { color: #800080; font-weight: bold } /* Generic.Subheading */
pre.pygments .tok-gt { color: #0044DD } /* Generic.Traceback */
pre.pygments .tok-kc { color: #008000; font-weight: bold } /* Keyword.Constant */
pre.pygments .tok-kd { color: #008000; font-weight: bold } /* Keyword.Declaration */
pre.pygments .tok-kn { color: #008000; font-weight: bold } /* Keyword.Namespace */
pre.pygments .tok-kp { color: #008000 } /* Keyword.Pseudo */
pre.pygments .tok-kr { color: #008000; font-weight: bold } /* Keyword.Reserved */
pre.pygments .tok-kt { color: #B00040 } /* Keyword.Type */
pre.pygments .tok-m { color: #666666 } /* Literal.Number */
pre.pygments .tok-s { color: #BA2121 } /* Literal.String */
pre.pygments .tok-na { color: #687822 } /* Name.Attribute */
pre.pygments .tok-nb { color: #008000 } /* Name.Builtin */
pre.pygments .tok-nc { color: #0000FF; font-weight: bold } /* Name.Class */
pre.pygments .tok-no { color: #880000 } /* Name.Constant */
pre.pygments .tok-nd { color: #AA22FF } /* Name.Decorator */
pre.pygments .tok-ni { color: #717171; font-weight: bold } /* Name.Entity */
pre.pygments .tok-ne { color: #CB3F38; font-weight: bold } /* Name.Exception */
pre.pygments .tok-nf { color: #0000FF } /* Name.Function */
pre.pygments .tok-nl { color: #767600 } /* Name.Label */
pre.pygments .tok-nn { color: #0000FF; font-weight: bold } /* Name.Namespace */
pre.pygments .tok-nt { color: #008000; font-weight: bold } /* Name.Tag */
pre.pygments .tok-nv { color: #19177C } /* Name.Variable */
pre.pygments .tok-ow { color: #AA22FF; font-weight: bold } /* Operator.Word */
pre.pygments .tok-w { color: #bbbbbb } /* Text.Whitespace */
pre.pygments .tok-mb { color: #666666 } /* Literal.Number.Bin */
pre.pygments .tok-mf { color: #666666 } /* Literal.Number.Float */
pre.pygments .tok-mh { color: #666666 } /* Literal.Number.Hex */
pre.pygments .tok-mi { color: #666666 } /* Literal.Number.Integer */
pre.pygments .tok-mo { color: #666666 } /* Literal.Number.Oct */
pre.pygments .tok-sa { color: #BA2121 } /* Literal.String.Affix */
pre.pygments .tok-sb { color: #BA2121 } /* Literal.String.Backtick */
pre.pygments .tok-sc { color: #BA2121 } /* Literal.String.Char */
pre.pygments .tok-dl { color: #BA2121 } /* Literal.String.Delimiter */
pre.pygments .tok-sd { color: #BA2121; font-style: italic } /* Literal.String.Doc */
pre.pygments .tok-s2 { color: #BA2121 } /* Literal.String.Double */
pre.pygments .tok-se { color: #AA5D1F; font-weight: bold } /* Literal.String.Escape */
pre.pygments .tok-sh { color: #BA2121 } /* Literal.String.Heredoc */
pre.pygments .tok-si { color: #A45A77; font-weight: bold } /* Literal.String.Interpol */
pre.pygments .tok-sx { color: #008000 } /* Literal.String.Other */
pre.pygments .tok-sr { color: #A45A77 } /* Literal.String.Regex */
pre.pygments .tok-s1 { color: #BA2121 } /* Literal.String.Single */
pre.pygments .tok-ss { color: #19177C } /* Literal.String.Symbol */
pre.pygments .tok-bp { color: #008000 } /* Name.Builtin.Pseudo */
pre.pygments .tok-fm { color: #0000FF } /* Name.Function.Magic */
pre.pygments .tok-vc { color: #19177C } /* Name.Variable.Class */
pre.pygments .tok-vg { color: #19177C } /* Name.Variable.Global */
pre.pygments .tok-vi { color: #19177C } /* Name.Variable.Instance */
pre.pygments .tok-vm { color: #19177C } /* Name.Variable.Magic */
pre.pygments .tok-il { color: #666666 } /* Literal.Number.Integer.Long */
</style>
</head>
<body class="book toc2 toc-left">
<div id="header">
<h1>Увод в Perl 6</h1>
<div class="details">
<span id="author" class="author">Naoum Hankache</span><br>
<span id="email" class="email"><a href="mailto:naoum@hankache.com">naoum@hankache.com</a></span><br>
<span id="author2" class="author">Красимир Беров</span><br>
<span id="email2" class="email"><a href="mailto:berov@cpan.org">berov@cpan.org</a></span><br>
</div>
<div id="toc" class="toc2">
<div id="toctitle">Съдържание</div>
<ul class="sectlevel1">
<li><a href="#_увод">1. Увод</a>
<ul class="sectlevel2">
<li><a href="#_какво_е_perl_6">1.1. Какво е Perl 6</a></li>
<li><a href="#_понятия">1.2. Понятия</a></li>
<li><a href="#_инсталиране_на_пърл_6">1.3. Инсталиране на Пърл 6</a></li>
<li><a href="#_изпълнение_на_код_написан_на_perl_6">1.4. Изпълнение на код, написан на Perl 6</a></li>
<li><a href="#_редактори">1.5. Редактори</a></li>
<li><a href="#_здравей_свят">1.6. Здравей, Свят!</a></li>
<li><a href="#_преглед_на_синтаксиса">1.7. Преглед на синтаксиса</a></li>
</ul>
</li>
<li><a href="#_оператори">2. Оператори</a>
<ul class="sectlevel2">
<li><a href="#_често_използувани_оператори">2.1. Често използувани оператори</a></li>
<li><a href="#_обърнати_оператори">2.2. Обърнати Оператори</a></li>
<li><a href="#_съкращаващи_оператори">2.3. Съкращаващи Оператори</a></li>
</ul>
</li>
<li><a href="#_променливи">3. Променливи</a>
<ul class="sectlevel2">
<li><a href="#_скалари">3.1. Скалари</a></li>
<li><a href="#_масиви">3.2. Масиви</a></li>
<li><a href="#_хешове">3.3. Хешове</a></li>
<li><a href="#_типове">3.4. Типове</a></li>
<li><a href="#_самонаблюдение">3.5. Самонаблюдение</a></li>
<li><a href="#_видимост">3.6. Видимост</a></li>
<li><a href="#_присвояване_и_обвързване">3.7. Присвояване и Обвързване</a></li>
</ul>
</li>
<li><a href="#_функции_и_мутатори">4. Функции и мутатори</a></li>
<li><a href="#_цикли_и_условия">5. Цикли и условия</a>
<ul class="sectlevel2">
<li><a href="#_if">5.1. if</a></li>
<li><a href="#_unless">5.2. unless</a></li>
<li><a href="#_with">5.3. with</a></li>
<li><a href="#_for">5.4. for</a></li>
<li><a href="#_given">5.5. given</a></li>
<li><a href="#_loop">5.6. loop</a></li>
</ul>
</li>
<li><a href="#_io">6. I/O</a>
<ul class="sectlevel2">
<li><a href="#_основни_действия_в_терминал">6.1. Основни действия в терминал</a></li>
<li><a href="#_изпълнение_на_външни_команди">6.2. Изпълнение на външни команди</a></li>
<li><a href="#_писане_в_и_четене_от_файлове">6.3. Писане в и четене от файлове</a></li>
<li><a href="#_работа_с_файлове_и_папки">6.4. Работа с файлове и папки</a></li>
</ul>
</li>
<li><a href="#_подпрограми">7. Подпрограми</a>
<ul class="sectlevel2">
<li><a href="#_създаване">7.1. Създаване</a></li>
<li><a href="#_списък_с_параметри">7.2. Списък с параметри</a></li>
<li><a href="#_многократност">7.3. Многократност</a></li>
<li><a href="#_незадължителни_и_подразбиращи_се_параметри">7.4. Незадължителни и подразбиращи се параметри</a></li>
<li><a href="#_връщане_на_стойности">7.5. Връщане на стойности</a></li>
</ul>
</li>
<li><a href="#_функционално_програмиране">8. Функционално Програмиране</a>
<ul class="sectlevel2">
<li><a href="#_функциите_са_граждани_първа_класа">8.1. Функциите са граждани първа класа</a></li>
<li><a href="#_безименни_функции">8.2. Безименни функции</a></li>
<li><a href="#_верижност_chaining">8.3. Верижност (Chaining)</a></li>
<li><a href="#_оператор_за_подаване">8.4. Оператор за подаване</a></li>
<li><a href="#_свръх_оператор">8.5. Свръх-оператор</a></li>
<li><a href="#_сливания">8.6. Сливания</a></li>
<li><a href="#_мързеливи_списъци">8.7. Мързеливи списъци</a></li>
<li><a href="#_затваряния">8.8. Затваряния</a></li>
</ul>
</li>
<li><a href="#_класове_и_обекти">9. Класове и обекти</a>
<ul class="sectlevel2">
<li><a href="#_въведение">9.1. Въведение</a></li>
<li><a href="#_капсулиране">9.2. Капсулиране</a></li>
<li><a href="#_именувани_и_позиционни_параметри">9.3. Именувани и позиционни параметри</a></li>
<li><a href="#_методи">9.4. Методи</a></li>
<li><a href="#_атрибути_на_клас">9.5. Атрибути на клас</a></li>
<li><a href="#_тип_на_достъпа">9.6. Тип на достъпа</a></li>
<li><a href="#_наследяване">9.7. Наследяване</a></li>
<li><a href="#_множествено_наследяване">9.8. Множествено наследяване</a></li>
<li><a href="#_роли">9.9. Роли</a></li>
<li><a href="#_самонаблюдение_2">9.10. Самонаблюдение</a></li>
</ul>
</li>
<li><a href="#_обработка_на_изключения">10. Обработка на Изключения</a>
<ul class="sectlevel2">
<li><a href="#_прихващане_на_изключения">10.1. Прихващане на Изключения</a></li>
<li><a href="#_хвърляне_на_изключения">10.2. Хвърляне на Изключения</a></li>
</ul>
</li>
<li><a href="#_изрази_за_съвпадения">11. Изрази за съвпадения</a>
<ul class="sectlevel2">
<li><a href="#_обявяване_на_шаблон">11.1. Обявяване на шаблон</a></li>
<li><a href="#_намиране_съвпадения_на_знаци">11.2. Намиране съвпадения на знаци</a></li>
<li><a href="#_намиране_на_знаци_по_категории">11.3. Намиране на знаци по категории</a></li>
<li><a href="#_уникод_свойства">11.4. Уникод-свойства</a></li>
<li><a href="#_заместващи_знаци">11.5. Заместващи знаци</a></li>
<li><a href="#_количествени_указатели">11.6. Количествени указатели</a></li>
<li><a href="#_резултати_от_съвпадението">11.7. Резултати от съвпадението</a></li>
<li><a href="#_пример">11.8. Пример</a></li>
</ul>
</li>
<li><a href="#_модули_в_пърл_6">12. Модули в Пърл 6</a>
<ul class="sectlevel2">
<li><a href="#_използване_на_модули">12.1. Използване на модули</a></li>
</ul>
</li>
<li><a href="#_уникод">13. Уникод</a>
<ul class="sectlevel2">
<li><a href="#_използване_на_уникод">13.1. Използване на Уникод</a></li>
</ul>
</li>
<li><a href="#_успоредност_съгласуваност_и_неедновременност">14. Успоредност, Съгласуваност и Неедновременност</a>
<ul class="sectlevel2">
<li><a href="#_успоредност_parallelism">14.1. Успоредност (Parallelism)</a></li>
<li><a href="#_съгласуваност_и_неедновременност_concurrency_and_asynchrony">14.2. Съгласуваност и Неедновременност (Concurrency and Asynchrony)</a></li>
</ul>
</li>
<li><a href="#_общността">15. Общността</a></li>
</ul>
</div>
</div>
<div id="content">
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>Предназначението на това писание е да ви въведе набързо в езика за програмиране Perl 6.  Ако за
първи път се сблъсквате с езика, то ще ви даде начален тласък в използуването и изучаването му.</p>
</div>
<div class="paragraph">
<p>В някои от разделите ще намерите препратки към други, по-пълни и точни части от
<a href="http://docs.perl6.org">документацията на Perl 6</a>.  Така ще можете да четете
направо от източника, в случай че се нуждаете от повече информация по
определена тема.</p>
</div>
<div class="paragraph">
<p>В този урок ще намерите примери по най-обсъжданите теми.
За да ги разберете по-добре, отделяйте време да правите всеки от примерите.</p>
</div>
<div class="paragraph">
<div class="title">Лиценз</div>
<p>Тази работа е лицензирана под "Признание - Споделяне на Споделеното 4.0 Международен Лиценз".
За да видите лиценза, посетете</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="https://creativecommons.org/licenses/by-sa/4.0/" class="bare">https://creativecommons.org/licenses/by-sa/4.0/</a>.</p>
</li>
</ul>
</div>
<div class="paragraph">
<div class="title">Принос</div>
<p>Ако желаете да допринесете за подобряването на това писание, отидете на</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="https://github.com/hankache/perl6intro" class="bare">https://github.com/hankache/perl6intro</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<div class="title">Отзиви</div>
<p>Всякакви отзиви са добре дошли:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="mailto:naoum@hankache.com">naoum@hankache.com</a></p>
</li>
<li>
<p><a href="mailto:berov@cpan.org">berov@cpan.org</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Ако тази работа ви харесва, отбележете хранилището със звезда на следния адрес:
<a href="https://github.com/hankache/perl6intro">Github</a>.</p>
</div>
<div class="ulist">
<div class="title">Преводи</div>
<ul>
<li>
<p>Български: <a href="https://raku.guide/bg" class="bare">https://raku.guide/bg</a></p>
</li>
<li>
<p>Испански: <a href="https://raku.guide/es" class="bare">https://raku.guide/es</a></p>
</li>
<li>
<p>Китайски: <a href="https://raku.guide/zh" class="bare">https://raku.guide/zh</a></p>
</li>
<li>
<p>Немски: <a href="https://raku.guide/de" class="bare">https://raku.guide/de</a></p>
</li>
<li>
<p>Португалски: <a href="https://raku.guide/pt" class="bare">https://raku.guide/pt</a></p>
</li>
<li>
<p>Френски: <a href="https://raku.guide/fr" class="bare">https://raku.guide/fr</a></p>
</li>
<li>
<p>Холандски: <a href="https://raku.guide/nl" class="bare">https://raku.guide/nl</a></p>
</li>
<li>
<p>Японски: <a href="https://raku.guide/ja" class="bare">https://raku.guide/ja</a></p>
</li>
<li>
<p>Украински: <a href="https://raku.guide/uk" class="bare">https://raku.guide/uk</a></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_увод">1. Увод</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_какво_е_perl_6">1.1. Какво е Perl 6</h3>
<div class="paragraph">
<p>Perl 6 е език от високо ниво, с общо предназначение и постепенна типизация на променливите.
Perl 6 е многопарадигмен. Той поддържа процедурно, обектно-ориентирано и функционално програмиране.</p>
</div>
<div class="ulist">
<div class="title">Девизи на Perl 6:</div>
<ul>
<li>
<p>ИННН Има няколко начина да се направи. TMTOWTDI (Произнася се Tim Toady):
There is more than one way to do it.</p>
</li>
<li>
<p>Лесните неща трябва да са лесни, трудните да стават по-лесни, а невъзможните - трудни.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_понятия">1.2. Понятия</h3>
<div class="ulist">
<ul>
<li>
<p><strong>Perl 6</strong>: Това е спецификация за език за програмиране с набор от тестове.
Реализации, които изпълняват тестовете без грешка, могат да се нарекат Perl 6.</p>
</li>
<li>
<p><strong>Rakudo</strong>: Е компилатор за Пърл 6.</p>
</li>
<li>
<p><strong>Rakudobrew</strong>: Е програма за управление инсталациите на Ракудо.</p>
</li>
<li>
<p><strong>Zef</strong>: Е инсталатор на модули за Пърл 6.</p>
</li>
<li>
<p><strong>Rakudo Star</strong>: Е вързоп: Ракудо, Зеф, набор от модули за Пърл 6 и документация.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_инсталиране_на_пърл_6">1.3. Инсталиране на Пърл 6</h3>
<div class="olist arabic">
<div class="title">Линукс</div>
<ol class="arabic">
<li>
<p>Инсталирайте Ракудобрю: <a href="https://github.com/tadzik/rakudobrew" class="bare">https://github.com/tadzik/rakudobrew</a></p>
</li>
<li>
<p>Инсталирайте Ракудо: Изпълнете следната команда в терминал <code>rakudobrew build moar</code></p>
</li>
<li>
<p>Инсталирайте Зеф: Изпълнете следната команда в терминал <code>rakudobrew build zef</code></p>
</li>
<li>
<p>Инсталирайте Task::Star. Това е мета-пакет, съдържащ модулите, които вървят с
изданието Rakudo Star. Изпълнете следната команда в терминал <code>zef install Task::Star</code></p>
</li>
</ol>
</div>
<div class="paragraph">
<p>За да видите други възможности за инсталация, посетете
 <a href="http://rakudo.org/how-to-get-rakudo/\#Installing-Rakudo-Star-Linux" class="bare">http://rakudo.org/how-to-get-rakudo/\#Installing-Rakudo-Star-Linux</a></p>
</div>
<div class="paragraph">
<div class="title">OSX</div>
<p>Имате четири възможности:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Следвайте същите стъпки като в Линукс</p>
</li>
<li>
<p>Инсталирайте с хоумбрю: <code>brew install rakudo-star</code></p>
</li>
<li>
<p>Инсталирайте с МакПортс: <code>sudo port install rakudo</code></p>
</li>
<li>
<p>Свалете най-новия инсталатор (файл с разширение .dmg) от <a href="http://rakudo.org/downloads/star/" class="bare">http://rakudo.org/downloads/star/</a></p>
</li>
</ul>
</div>
<div class="olist arabic">
<div class="title">Windows</div>
<ol class="arabic">
<li>
<p>Свалете най-новия инсталатор (файл с разширение .msi) от
<a href="http://rakudo.org/downloads/star/" class="bare">http://rakudo.org/downloads/star/</a> Ако архитектурата на системата ви е
32-битова, свалете файла с x86 в името; ако е 64-битова, свалете файла съдържащ
x86_64 в името.</p>
</li>
<li>
<p>След инсталацията се уверете, че <code>C:\rakudo\bin</code> се намира в системната
променлива PATH.</p>
</li>
</ol>
</div>
<div class="olist arabic">
<div class="title">Docker</div>
<ol class="arabic">
<li>
<p>Вземете официалното изображение за Docker <code>docker pull rakudo-star</code></p>
</li>
<li>
<p>След това стартирайте контейнер с изображението <code>docker run -it rakudo-star</code></p>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="_изпълнение_на_код_написан_на_perl_6">1.4. Изпълнение на код, написан на Perl 6</h3>
<div class="paragraph">
<p>Можете да изпълнявате код на Пърл 6, като използувате директно неговата
интерактивна конзола - REPL (Read-Eval-Print Loop). За да направите това,
отворете терминал, напишете <code>perl6</code> в терминала и натиснете [Enter]. Това ще
отвори конзолата и в нея ще се появи <code>&gt;</code>.  След това напишете някакъв програмен
код и натиснете [Enter]. На следващия ред в конзолата ще се появи резултатът от
изпълнението на кода.  Въведете друг ред, съдържащ програмен код, или въведете
<code>exit</code> и натиснете [Enter], за да напуснете конзолата (REPL).</p>
</div>
<div class="paragraph">
<p>Друг начин за изпълнение е, като въведете програмния код във файл, запишете го и
го изпълните. Препоръчва се за разширение на скриптовете, написани на Пърл 6, да
се използува <code>.pl6</code>. Изпълнете файла, като напишете в терминал <code>perl6
filename.pl6</code> и натиснете  [Enter]. За разлика от интерактивната конзола
(REPL), всеки ред код ще се изпълни последователно, но резултатът не ще се
изпише на екрана автоматично. Кодът трябва да съдържа израз, използуващ командата
<code>say</code>, за да изведе нещо на стандартния изход (екрана).</p>
</div>
<div class="paragraph">
<p>Интерактивната конзола се използува най-вече за пробване на специфични парченца
код, обикновено едноредови изрази. За програми, състоящи се от повече редове, се
препоръчва да се записват във файл и след това да се изпълняват.</p>
</div>
<div class="paragraph">
<p>Едноредови изрази могат да се изпробват и на командния ред без интерактиванта
конзола, като напишете <code>perl6 -e 'your code here'</code> и натиснете [Enter].</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Rakudo Star върви с едноредов редактор, който се използува в интерактивната конзола (REPL).</p>
</div>
<div class="paragraph">
<p>Ако сте инсталирали обикновен Rakudo, вместо Rakudo Star, най-вероятно
интерактивната конзола не ви дава възможност да редактирате текущия ред, да
ползвате стрелка нагоре и надолу (за да извиквате предишни команди и
да ги променяте) или да ползвате табулация (клавишът TAB) за допълване на
частично въведени низове. Изпълнете една от следните команда и сте готови.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>zef install Linenoise</code> ще работи в Windows, Linux и OSX</p>
</li>
<li>
<p><code>zef install Readline</code> - ако сте на Линукс и предпочитате библиотеката <em>Readline</em></p>
</li>
</ul>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_редактори">1.5. Редактори</h3>
<div class="paragraph">
<p>Тъй като през повечето време ще записваме програмите си във файлове, ни е нужен
приличен текстов редактор, който разпознава синтаксиса на Пърл 6.</p>
</div>
<div class="paragraph">
<p>Аз лично използувам и препоръчвам <a href="https://atom.io/">Atom</a>. Това е модерен редактор
и поддържа синтаксиса на Пърл 6.
<a href="https://atom.io/packages/language-perl6fe">Perl6 FE</a> е допълнителен пакет за
оцветяване на кода на Пърл 6 за Атом. Той произхожда от оригиналния пакет,
който идва с Атом, но съдържа много подобрения и поправени грешки.</p>
</div>
<div class="paragraph">
<p>Други членове на общността използуват също <a href="http://www.vim.org/">Vim</a>, <a href="https://www.gnu.org/software/emacs/">Emacs</a> или <a href="http://padre.perlide.org/">Padre</a>.</p>
</div>
<div class="paragraph">
<p>По-новите версии на Vim идват по подразбиране с поддръжка на синтаксиса на Пърл
6. Emacs и Padre изискват инсталиране на допълнителни пакети.</p>
</div>
</div>
<div class="sect2">
<h3 id="_здравей_свят">1.6. Здравей, Свят!</h3>
<div class="paragraph">
<p>Ще започнем с ритуала <code>hello world</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-nb">say</span> <span class="tok-s">&#39;Здравей, Свят!&#39;</span>;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Това може да бъде написано и така:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-s">&#39;Здравей, Свят!&#39;</span>.<span class="tok-nb">say</span>;</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_преглед_на_синтаксиса">1.7. Преглед на синтаксиса</h3>
<div class="paragraph">
<p>Пърл 6 е <strong>свободна форма</strong>: Свободни сте (през повечето време) да използувате
колкото ви е угодно празни пространства (за разлика от Питон - бел. прев.).</p>
</div>
<div class="paragraph">
<p><strong>Твърденията</strong> са обикновено логически ред код. Те завършват с точка и запетая.<br>
<code>say "Здрасти" if True;</code></p>
</div>
<div class="paragraph">
<p><strong>Изразите</strong> са специален тип твърдение, което връща стойност:
<code>1+2</code> ще върне <code>3</code></p>
</div>
<div class="paragraph">
<p>Изразите се състоят от <strong>Членове</strong> и <strong>Оператори</strong>.</p>
</div>
<div class="paragraph">
<p><strong>Членове</strong>. Те са:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Променливи</strong>: Съдържат стойност, която може да бъде променяна.</p>
</li>
<li>
<p><strong>Буквални стойности (литерали)</strong>: Непроменяема, буквална стойност - число или низ.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>Оператори</strong>. Те са няколко типа:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Тип</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Обяснение</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Пример</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Представка</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Преди члена.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>++1</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Вставка</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Между членовете</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>1+2</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Наставка</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">След члена</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>1++</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ограждащ</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Около члена</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>(1)</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ограждаща наставка</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">След един член и ограждащ друг член</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Array[1]</code></p></td>
</tr>
</tbody>
</table>
<div class="sect3">
<h4 id="_идентификатори_имена">1.7.1. Идентификатори (Имена)</h4>
<div class="paragraph">
<p>Идентификаторите представляват имена, дадени на членовете.</p>
</div>
<div class="ulist">
<div class="title">Правила:</div>
<ul>
<li>
<p>Трябва да започват с буква или знак за подчертавка.</p>
</li>
<li>
<p>Могат да съдържат числа (ако не са първия знак в името на променливата).</p>
</li>
<li>
<p>Могат да съдържат тирета или апострофи (ако не са първи или последен знак).
От дясната страна на тирето или апострофа винаги трябва да има буква.</p>
</li>
</ul>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Правилно</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Неправилно</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>var1</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>1var</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>var-one</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>var-1</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>var&#8217;one</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>var'1</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>var1_</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>var1'</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>_var</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>-var</code></p></td>
</tr>
</tbody>
</table>
<div class="ulist">
<div class="title">Честo използувани начини за именуване (конвенции):</div>
<ul>
<li>
<p>КамилоОбразно: <code>variableNo1</code></p>
</li>
<li>
<p>шиш-кебап: <code>variable-no1</code></p>
</li>
<li>
<p>змие_видно: <code>variable_no1</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Можете да именувате променливите си както искате, но е добра практика да се
спрете на един вариант и да го следвате.</p>
</div>
<div class="paragraph">
<p>Като използувате смислени имена, ще улесните живота на всички - и вашият, и на вашите колеги.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>var1 = var2 * var3</code> е правилно синтактично, но безсмислено.</p>
</li>
<li>
<p><code>monthly-salary = daily-rate * working-days</code> тези са по-смислени имена за променливи.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_коментари">1.7.2. Коментари</h4>
<div class="paragraph">
<p>Коментарът е текст, който се пропуска от компилатора, и се ползва като бележка или пояснение.</p>
</div>
<div class="paragraph">
<p>Коментарите са три типа:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Едноредови:</p>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-c1"># Това е едноредов коментар</span></code></pre>
</div>
</div>
</li>
<li>
<p>Вложен/вмъкнат:</p>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-nb">say</span> <span class="tok-cm">#`(Това е вмъкнат коментар)</span> <span class="tok-s">&quot;Hello World.&quot;</span></code></pre>
</div>
</div>
</li>
<li>
<p>Многоредови:</p>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-cm">=begin comment</span>
<span class="tok-cm">Това е многоредов коментар.</span>
<span class="tok-cm">Първа бележка</span>
<span class="tok-cm">Второ пояснение</span>
<span class="tok-cm">=end comment</span></code></pre>
</div>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_кавички">1.7.3. Кавички</h4>
<div class="paragraph">
<p>Низовете се ограждат с двойни или единични кавички.</p>
</div>
<div class="paragraph">
<p>Използувайте двойни кавички, когато:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>низът ви съдържа апостроф;</p>
</li>
<li>
<p>низът ви съдържа променливи.</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-nb">say</span> <span class="tok-s">&#39;Hello World&#39;</span>;   <span class="tok-c1"># Hello World</span>
<span class="tok-nb">say</span> <span class="tok-s">&quot;Hello World&quot;</span>;   <span class="tok-c1"># Hello World</span>
<span class="tok-nb">say</span> <span class="tok-s">&quot;Don&#39;t&quot;</span>;         <span class="tok-c1"># Don&#39;t</span>
<span class="tok-k">my</span> <span class="tok-nv">$name</span> = <span class="tok-s">&#39;John Doe&#39;</span>;
<span class="tok-nb">say</span> <span class="tok-s">&#39;Hello $name&#39;</span>;   <span class="tok-c1"># Hello $name</span>
<span class="tok-nb">say</span> <span class="tok-s">&quot;Hello $name&quot;</span>;   <span class="tok-c1"># Hello John Doe</span></code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_оператори">2. Оператори</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_често_използувани_оператори">2.1. Често използувани оператори</h3>
<div class="paragraph">
<p>Следващата таблица изрежда най-често използуваните оператори.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 7.1428%;">
<col style="width: 7.1428%;">
<col style="width: 28.5714%;">
<col style="width: 28.5714%;">
<col style="width: 28.5716%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-middle">Оператор</th>
<th class="tableblock halign-center valign-middle">Тип</th>
<th class="tableblock halign-left valign-middle">Описание</th>
<th class="tableblock halign-left valign-middle">Пример</th>
<th class="tableblock halign-left valign-middle">Резултат</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>+</code></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>Вставка</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">Събиране</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>1 + 2</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>3</code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>-</code></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>Вставка</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">Изваждане</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>3 - 1</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>2</code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>*</code></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>Вставка</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">Умножение</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>3 * 2</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>6</code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>**</code></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>Вставка</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">Степенуване</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>3 ** 2</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>9</code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>/</code></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>Вставка</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">Деление</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>3 / 2</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>1.5</code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>div</code></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>Вставка</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">Деление на цели числа (закръгля надолу)</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>3 div 2</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>1</code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>%</code></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>Вставка</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">Деление до остатък</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>7 % 4</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>3</code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle" rowspan="2"><p class="tableblock"><code>%%</code></p></td>
<td class="tableblock halign-center valign-middle" rowspan="2"><p class="tableblock"><code>Вставка</code></p></td>
<td class="tableblock halign-left valign-middle" rowspan="2"><p class="tableblock">Делимост</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>6 %% 4</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>False</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>6 %% 3</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>True</code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>gcd</code></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>Вставка</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">Най-голям общ делител</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>6 gcd 9</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>3</code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>lcm</code></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>Вставка</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">Най-малко общо кратно</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>6 lcm 9</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>18</code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>==</code></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>Вставка</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">Цифрово равенство</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>9 == 7</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>False</code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>!=</code></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>Вставка</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">Цифрово неравенство</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>9 != 7</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>True</code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>&lt;</code></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>Вставка</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">По-малко</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>9 &lt; 7</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>False</code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>&gt;</code></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>Вставка</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">По-голямо</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>9 &gt; 7</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>True</code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>&lt;=</code></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>Вставка</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">По-малко или равно</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>7 &lt;= 7</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>True</code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>&gt;=</code></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>Вставка</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">По-голямо или равно</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>9 &gt;= 7</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>True</code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>eq</code></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>Вставка</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">Еднаквост между низове</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>"John" eq "John"</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>True</code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>ne</code></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>Вставка</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">Низовете не са еднакви</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>"John" ne "Jane"</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>True</code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>=</code></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>Вставка</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">Присвояване</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>my $var = 7</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>Присвояване на стойността <code>7</code> на променливата <code>$var</code></code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle" rowspan="2"><p class="tableblock"><code>~</code></p></td>
<td class="tableblock halign-center valign-middle" rowspan="2"><p class="tableblock"><code>Вставка</code></p></td>
<td class="tableblock halign-left valign-middle" rowspan="2"><p class="tableblock">Свързване на низове</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>9 ~ 7</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>97</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>"Ей, " ~ "здрасти"</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>Ей, здрасти</code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle" rowspan="2"><p class="tableblock"><code>x</code></p></td>
<td class="tableblock halign-center valign-middle" rowspan="2"><p class="tableblock"><code>Вставка</code></p></td>
<td class="tableblock halign-left valign-middle" rowspan="2"><p class="tableblock">Повторение на низове</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>13 x 3</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>131313</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>"Здрасти " x 3</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>Здрасти Здрасти Здрасти</code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle" rowspan="5"><p class="tableblock"><code>~~</code></p></td>
<td class="tableblock halign-center valign-middle" rowspan="5"><p class="tableblock"><code>Вставка</code></p></td>
<td class="tableblock halign-left valign-middle" rowspan="5"><p class="tableblock">Умно съвпадение</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>2 ~~ 2</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>True</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>2 ~~ Int</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>True</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>"Perl 6" ~~ "Perl 6"</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>True</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>"Perl 6" ~~ Str</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>True</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>"enlightenment" ~~ /light/</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>｢light｣</code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle" rowspan="2"><p class="tableblock"><code>++</code></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>Представка</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">Увеличаване</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>my $var = 2; ++$var;</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>Увеличава стойността на променливата с 1 и връща резулата <code>3</code></code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>Наставка</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">Увеличаване</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>my $var = 2; $var++;</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>Връща стойността на променливата <code>2</code> и след това я увеличава с 1</code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle" rowspan="2"><p class="tableblock"><code>--</code></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>Представка</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">Намаляване</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>my $var = 2; --$var;</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>Намалява стойността на променливата с 1 и връща резултата <code>1</code></code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>Наставка</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">Намаляване</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>my $var = 2; $var--;</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>Връща стойността на променливата <code>2</code> и след това я намалява</code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle" rowspan="3"><p class="tableblock"><code>+</code></p></td>
<td class="tableblock halign-center valign-middle" rowspan="3"><p class="tableblock"><code>Представка</code></p></td>
<td class="tableblock halign-left valign-middle" rowspan="3"><p class="tableblock">Свежда операнда до числова стойност</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>+"3"</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>3</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>+True</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>1</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>+False</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>0</code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle" rowspan="3"><p class="tableblock"><code>-</code></p></td>
<td class="tableblock halign-center valign-middle" rowspan="3"><p class="tableblock"><code>Представка</code></p></td>
<td class="tableblock halign-left valign-middle" rowspan="3"><p class="tableblock">Свежда операнда до числова стойност и връща отрицанието</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>-"3"</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>-3</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>-True</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>-1</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>-False</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>0</code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle" rowspan="6"><p class="tableblock"><code>?</code></p></td>
<td class="tableblock halign-center valign-middle" rowspan="6"><p class="tableblock"><code>Представка</code></p></td>
<td class="tableblock halign-left valign-middle" rowspan="6"><p class="tableblock">Свежда операнда до булева стойност</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>?0</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>False</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>?9.8</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>True</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>?"Hello"</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>True</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>?""</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>False</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>my $var; ?$var;</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>False</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>my $var = 7; ?$var;</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>True</code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>!</code></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>Представка</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">Свежда операнда до булева стойност и връща отрицанието</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>!4</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>False</code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>..</code></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>Вставка</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">Създател на поредица</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>0..5</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>Създава поредица от 0 до 5</code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>..^</code></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>Вставка</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">Създател на поредица</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>0..^5</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>Създава поредица от 0 до 4</code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>^..</code></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>Вставка</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">Създател на поредица</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>0^..5</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>Създава поредица от 1 до 5</code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>^..^</code></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>Вставка</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">Създател на поредица</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>0^..^5</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>Създава поредица от 1 до 4</code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>^</code></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>Представка</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">Създател на поредица</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>^5</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>Също като 0..^5 Създава поредица от 0 до 4</code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>&#8230;&#8203;</code></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>Вставка</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">Мързелив създател на списък</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>0&#8230;&#8203;9999</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>връща елементите само при поискване</code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle" rowspan="2"><p class="tableblock"><code>|</code></p></td>
<td class="tableblock halign-center valign-middle" rowspan="2"><p class="tableblock"><code>Представка</code></p></td>
<td class="tableblock halign-left valign-middle" rowspan="2"><p class="tableblock">Сплескване</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>|(0..5)</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>(0 1 2 3 4 5)</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>|(0^..^5)</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>(1 2 3 4)</code></p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="_обърнати_оператори">2.2. Обърнати Оператори</h3>
<div class="paragraph">
<p>Добавяне на <code>R</code> преди който и да е оператор ще обърне операндите му.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-middle">Нормална операция</th>
<th class="tableblock halign-left valign-middle">Резултат</th>
<th class="tableblock halign-left valign-middle">Обърнат Оператор</th>
<th class="tableblock halign-left valign-middle">Резултат</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>2 / 3</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>0.666667</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>2 R/ 3</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>1.5</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>2 - 1</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>1</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>2 R- 1</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>-1</code></p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="_съкращаващи_оператори">2.3. Съкращаващи Оператори</h3>
<div class="paragraph">
<p>Операторите за съкращения се прилагат върху списък от стойности.
Съставят се, като операторът се огради със <code>[]</code></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-middle">Нормална операция</th>
<th class="tableblock halign-left valign-middle">Резултат</th>
<th class="tableblock halign-left valign-middle">Съкращаващ оператор</th>
<th class="tableblock halign-left valign-middle">Резултат</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>1 + 2 + 3 + 4 + 5</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>15</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>[+] 1,2,3,4,5</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>15</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>1 * 2 * 3 * 4 * 5</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>120</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>[*] 1,2,3,4,5</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>120</code></p></td>
</tr>
</tbody>
</table>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
За да видите пълния списък с оператори и приоритетите им, отидете на
<a href="https://docs.perl6.org/language/operators" class="bare">https://docs.perl6.org/language/operators</a>
</td>
</tr>
</table>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_променливи">3. Променливи</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Променливите в Пърл 6 биват три типа - Скалари, Масиви и Хешове.</p>
</div>
<div class="paragraph">
<p>Променливите се различават по т.нар <strong>сиджил</strong> (означава "знак" на латински). Този
знак се намира в началото на всяка променлива.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>$</code> се използува за скалари</p>
</li>
<li>
<p><code>@</code> се използува за масиви</p>
</li>
<li>
<p><code>%</code> се използува за хешове</p>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="_скалари">3.1. Скалари</h3>
<div class="paragraph">
<p>Скаларът (Scalar) съдържа единична стойност или указател (reference).</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Бел. прев.:
Указателите в Пърл не са като указателите в C, и затова са познати
повече като референции. Все пак по-подходящата дума е указател, а не
референция.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-c1"># Низ (String)</span>
<span class="tok-k">my</span> <span class="tok-nv">$name</span> = <span class="tok-s">&#39;Перко Наумов&#39;</span>;
<span class="tok-nb">say</span> <span class="tok-nv">$name</span>;

<span class="tok-c1"># Цяло число (Integer)</span>
<span class="tok-k">my</span> <span class="tok-nv">$age</span> = <span class="tok-mi">99</span>;
<span class="tok-nb">say</span> <span class="tok-nv">$age</span>;</code></pre>
</div>
</div>
<div class="paragraph">
<p>В зависимост от стойността, която съдържа скаларната променлива (нейния тип),
върху нея могат да се извършват различни действия.</p>
</div>
<div class="listingblock">
<div class="title">Низ</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">my</span> <span class="tok-nv">$name</span> = <span class="tok-s">&#39;Перко Наумов&#39;</span>;
<span class="tok-nb">say</span> <span class="tok-nv">$name</span>.<span class="tok-nb">uc</span>;
<span class="tok-nb">say</span> <span class="tok-nv">$name</span>.<span class="tok-nb">chars</span>;
<span class="tok-nb">say</span> <span class="tok-nv">$name</span>.<span class="tok-nb">flip</span>;</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-n">ПЕРКО</span> <span class="tok-n">НАУМОВ</span>
<span class="tok-mi">12</span>
<span class="tok-n">вомуаН</span> <span class="tok-n">окреП</span></code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
За да видите пълния списък с методите, приложими върху низове (скаларни
променливи от тип Str), вижте <a href="https://docs.perl6.org/type/Str" class="bare">https://docs.perl6.org/type/Str</a>
</td>
</tr>
</table>
</div>
<div class="listingblock">
<div class="title">Цяло число</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">my</span> <span class="tok-nv">$age</span> = <span class="tok-mi">17</span>;
<span class="tok-nb">say</span> <span class="tok-nv">$age</span>.<span class="tok-nb">is-prime</span>;</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-nb">True</span></code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
За да видите пълния списък с методите, приложими върху цели числа
(скаларни променливи от тип Int), вижте <a href="https://docs.perl6.org/type/Int" class="bare">https://docs.perl6.org/type/Int</a>
</td>
</tr>
</table>
</div>
<div class="listingblock">
<div class="title">Рационално число</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">my</span> <span class="tok-nv">$age</span> = <span class="tok-mf">2.3</span>;
<span class="tok-nb">say</span> <span class="tok-nv">$age</span>.<span class="tok-nb">numerator</span>;
<span class="tok-nb">say</span> <span class="tok-nv">$age</span>.<span class="tok-nb">denominator</span>;
<span class="tok-nb">say</span> <span class="tok-nv">$age</span>.<span class="tok-nb">nude</span>;</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-mi">23</span>
<span class="tok-mi">10</span>
(<span class="tok-mi">23</span> <span class="tok-mi">10</span>)</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
За да видите пълния списък с методите, приложими върху рационални числа
(десетични дроби), вижте <a href="https://docs.perl6.org/type/Rat" class="bare">https://docs.perl6.org/type/Rat</a>
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_масиви">3.2. Масиви</h3>
<div class="paragraph">
<p>Масивите (Arrays) са списъци, които съдържат множество стойности.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">my</span> <span class="tok-nv">@animals</span> = <span class="tok-s">&#39;камила&#39;</span>,<span class="tok-s">&#39;лама&#39;</span>,<span class="tok-s">&#39;сова&#39;</span>;
<span class="tok-nb">say</span> <span class="tok-nv">@animals</span>;</code></pre>
</div>
</div>
<div class="paragraph">
<p>От долния пример се вижда, че върху масивите могат да се извършват много операции:</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
Тилдата <code>~</code> се използува за свързване на низове.
</td>
</tr>
</table>
</div>
<div class="listingblock">
<div class="title"><code>Script</code></div>
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">my</span> <span class="tok-nv">@animals</span> = <span class="tok-s">&#39;camel&#39;</span>,<span class="tok-s">&#39;vicuña&#39;</span>,<span class="tok-s">&#39;llama&#39;</span>;
<span class="tok-nb">say</span> <span class="tok-s">&quot;В зоологическата градина има &quot;</span> ~ <span class="tok-nv">@animals</span>.<span class="tok-nb">elems</span> ~ <span class="tok-s">&quot; животни.&quot;</span>;
<span class="tok-nb">say</span> <span class="tok-s">&quot;Животните са: &quot;</span> ~ <span class="tok-nv">@animals</span>;
<span class="tok-nb">say</span> <span class="tok-s">&quot;Аз ще осиновя една сова&quot;</span>;
<span class="tok-nv">@animals</span>.<span class="tok-nb">push</span>(<span class="tok-s">&quot;owl&quot;</span>);
<span class="tok-nb">say</span> <span class="tok-s">&quot;Сега в градината ми има: &quot;</span> ~ <span class="tok-nv">@animals</span>;
<span class="tok-nb">say</span> <span class="tok-s">&quot;The first animal we adopted was the &quot;</span> ~ <span class="tok-nv">@animals</span>[<span class="tok-mi">0</span>];
<span class="tok-nv">@animals</span>.<span class="tok-nb">pop</span>;
<span class="tok-nb">say</span> <span class="tok-s">&quot;Unfortunately the owl got away and we&#39;re left with: &quot;</span> ~ <span class="tok-nv">@animals</span>;
<span class="tok-nb">say</span> <span class="tok-s">&quot;We&#39;re closing the zoo and keeping one animal only&quot;</span>;
<span class="tok-nb">say</span> <span class="tok-s">&quot;We&#39;re going to let go: &quot;</span> ~ <span class="tok-nv">@animals</span>.<span class="tok-nb">splice</span>(<span class="tok-mi">1</span>,<span class="tok-mi">2</span>) ~ <span class="tok-s">&quot; and keep the &quot;</span> ~ <span class="tok-nv">@animals</span>;</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title"><code>Изход</code></div>
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-n">В</span> <span class="tok-n">зоологическата</span> <span class="tok-n">градина</span> <span class="tok-n">има</span> <span class="tok-mi">3</span> <span class="tok-n">животни</span>.
<span class="tok-n">Животните</span> <span class="tok-n">са:</span> <span class="tok-n">camel</span> <span class="tok-n">vicuña</span> <span class="tok-n">llama</span>
<span class="tok-n">Аз</span> <span class="tok-n">ще</span> <span class="tok-n">осиновя</span> <span class="tok-n">една</span> <span class="tok-n">сова</span>
<span class="tok-n">Сега</span> <span class="tok-n">в</span> <span class="tok-n">градината</span> <span class="tok-n">ми</span> <span class="tok-n">има:</span> <span class="tok-n">camel</span> <span class="tok-n">vicuña</span> <span class="tok-n">llama</span> <span class="tok-n">owl</span>
<span class="tok-n">The</span> <span class="tok-nb">first</span> <span class="tok-n">animal</span> <span class="tok-n">we</span> <span class="tok-n">adopted</span> <span class="tok-n">was</span> <span class="tok-n">the</span> <span class="tok-n">camel</span>
<span class="tok-n">Unfortunately</span> <span class="tok-n">the</span> <span class="tok-n">owl</span> <span class="tok-nb">got</span> <span class="tok-n">away</span> <span class="tok-o">and</span> <span class="tok-n">we&#39;re</span> <span class="tok-n">left</span> <span class="tok-n">with:</span> <span class="tok-n">camel</span> <span class="tok-n">vicuña</span> <span class="tok-n">llama</span>
<span class="tok-n">We&#39;re</span> <span class="tok-n">closing</span> <span class="tok-n">the</span> <span class="tok-n">zoo</span> <span class="tok-o">and</span> <span class="tok-n">keeping</span> <span class="tok-nb">one</span> <span class="tok-n">animal</span> <span class="tok-n">only</span>
<span class="tok-n">We&#39;re</span> <span class="tok-n">going</span> <span class="tok-nb">to</span> <span class="tok-k">let</span> <span class="tok-n">go:</span> <span class="tok-n">vicuña</span> <span class="tok-n">llama</span> <span class="tok-o">and</span> <span class="tok-nb">keep</span> <span class="tok-n">the</span> <span class="tok-n">camel</span></code></pre>
</div>
</div>
<div class="paragraph">
<div class="title">Обяснение</div>
<p><code>.elems</code> връща броя на елементите в масива.<br>
<code>.push()</code> добавя един или повече елементи към масива.<br>
Можем да достъпим отделен елемент от масива като укажем мястото му <code>@animals[0]</code>.<br>
<code>.pop</code> премахва последния елемент от масива и го връща.<br>
<code>.splice(a,b)</code> ще премахне <code>b</code> елемента като започне от позиция <code>a</code>.</p>
</div>
<div class="sect3">
<h4 id="_масиви_с_предопределен_размер">3.2.1. Масиви с предопределен размер</h4>
<div class="paragraph">
<p>Обикновено масив се обявява по следния начин:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">my</span> <span class="tok-nv">@array</span>;</code></pre>
</div>
</div>
<div class="paragraph">
<p>По подразбиране масивът има неопределен брой елементи, и затова го наричат
автоматично-разширяващ се. Масивът ще приеме какъвто и да е брой стойности без
ограничение.</p>
</div>
<div class="paragraph">
<p>Но можем да създаваме и масиви с определен брой елементи. В такива масиви не
можете да достъпите или добавяте елементи извън определения размер на масива.</p>
</div>
<div class="paragraph">
<p>За да обявите масив с определен брой елементи, добавете броя на елементите в
квадратни скоби веднага след името на масива.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">my</span> <span class="tok-nv">@array</span>[<span class="tok-mi">3</span>];</code></pre>
</div>
</div>
<div class="paragraph">
<p>Този масив ще може да съдържа най-много три стойности с места от 0 до 2.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">my</span> <span class="tok-nv">@array</span>[<span class="tok-mi">3</span>];
<span class="tok-nv">@array</span>[<span class="tok-mi">0</span>] = <span class="tok-s">&quot;първа стойност&quot;</span>;
<span class="tok-nv">@array</span>[<span class="tok-mi">1</span>] = <span class="tok-s">&quot;втора стойност&quot;</span>;
<span class="tok-nv">@array</span>[<span class="tok-mi">2</span>] = <span class="tok-s">&quot;трета стойност&quot;</span>;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Не можете да добавите четвърта стойност в този масив:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">my</span> <span class="tok-nv">@array</span>[<span class="tok-mi">3</span>];
<span class="tok-nv">@array</span>[<span class="tok-mi">0</span>] = <span class="tok-s">&quot;първа стойност&quot;</span>;
<span class="tok-nv">@array</span>[<span class="tok-mi">1</span>] = <span class="tok-s">&quot;втора стойност&quot;</span>;
<span class="tok-nv">@array</span>[<span class="tok-mi">2</span>] = <span class="tok-s">&quot;трета стойност&quot;</span>;
<span class="tok-nv">@array</span>[<span class="tok-mi">3</span>] = <span class="tok-s">&quot;четвърта стойност&quot;</span>;</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-n">Стойност</span> <span class="tok-mi">3</span> (<span class="tok-n">четвърта</span> <span class="tok-n">стойност</span>) <span class="tok-n">е</span> <span class="tok-n">извън</span> <span class="tok-n">обхвата</span> <span class="tok-n">на</span> <span class="tok-n">масива</span> (<span class="tok-n">стойностите</span> <span class="tok-n">могат</span> <span class="tok-n">да</span> <span class="tok-n">са</span> <span class="tok-n">най-много</span> <span class="tok-n">три</span> - <span class="tok-n">от</span> <span class="tok-mi">0</span> <span class="tok-n">до</span> <span class="tok-mi">2</span>)</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_многомерни_масиви">3.2.2. Многомерни масиви</h4>
<div class="paragraph">
<p>Масивите, които видяхме до тук, са едномерни. За щастие, можем да създаваме и
многомерни масиви в Пърл 6.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">my</span> <span class="tok-nv">@tbl</span>[<span class="tok-mi">3</span>;<span class="tok-mi">2</span>];</code></pre>
</div>
</div>
<div class="paragraph">
<p>Този масив е двумерен.
Първото измерение може да съдържа най-много 3 стойности, а второто - най-много 2.</p>
</div>
<div class="paragraph">
<p>Представете си го като таблица с 3 реда и 2 колони.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">my</span> <span class="tok-nv">@tbl</span>[<span class="tok-mi">3</span>;<span class="tok-mi">2</span>];
<span class="tok-nv">@tbl</span>[<span class="tok-mi">0</span>;<span class="tok-mi">0</span>] = <span class="tok-mi">1</span>;
<span class="tok-nv">@tbl</span>[<span class="tok-mi">0</span>;<span class="tok-mi">1</span>] = <span class="tok-s">&quot;x&quot;</span>;
<span class="tok-nv">@tbl</span>[<span class="tok-mi">1</span>;<span class="tok-mi">0</span>] = <span class="tok-mi">2</span>;
<span class="tok-nv">@tbl</span>[<span class="tok-mi">1</span>;<span class="tok-mi">1</span>] = <span class="tok-s">&quot;y&quot;</span>;
<span class="tok-nv">@tbl</span>[<span class="tok-mi">2</span>;<span class="tok-mi">0</span>] = <span class="tok-mi">3</span>;
<span class="tok-nv">@tbl</span>[<span class="tok-mi">2</span>;<span class="tok-mi">1</span>] = <span class="tok-s">&quot;z&quot;</span>;
<span class="tok-nb">say</span> <span class="tok-nv">@tbl</span></code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span>[[<span class="tok-mi">1</span> <span class="tok-nb">x</span>] [<span class="tok-mi">2</span> <span class="tok-n">y</span>] [<span class="tok-mi">3</span> <span class="tok-nb">z</span>]]</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Нагледно представяне на масива:</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span>[<span class="tok-mi">1</span> <span class="tok-nb">x</span>]
[<span class="tok-mi">2</span> <span class="tok-n">y</span>]
[<span class="tok-mi">3</span> <span class="tok-nb">z</span>]</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
За да видите пълния справочник за масив (Array), посетете
<a href="https://docs.perl6.org/type/Array" class="bare">https://docs.perl6.org/type/Array</a>
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_хешове">3.3. Хешове</h3>
<div class="listingblock">
<div class="title">Хешът (Hash) е набор от двойки Ключ/Стойност.</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">my</span> <span class="tok-nv">%столици</span> = (<span class="tok-s">&#39;UK&#39;</span>,<span class="tok-s">&#39;London&#39;</span>,<span class="tok-s">&#39;Germany&#39;</span>,<span class="tok-s">&#39;Berlin&#39;</span>);
<span class="tok-nb">say</span> <span class="tok-nv">%столици</span>;</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Ето и друг сбит начин за попълване на хеша:</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">my</span> <span class="tok-nv">%capitals</span> = (<span class="tok-n">UK</span> =&gt; <span class="tok-s">&#39;London&#39;</span>, <span class="tok-n">Germany</span> =&gt; <span class="tok-s">&#39;Berlin&#39;</span>);
<span class="tok-nb">say</span> <span class="tok-nv">%capitals</span>;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Някои от методите, които могат да се извикват върху хешове, са:</p>
</div>
<div class="listingblock">
<div class="title"><code>Скрипт</code></div>
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">my</span> <span class="tok-nv">%capitals</span> = (<span class="tok-n">UK</span> =&gt; <span class="tok-s">&#39;London&#39;</span>, <span class="tok-n">Germany</span> =&gt; <span class="tok-s">&#39;Berlin&#39;</span>);
<span class="tok-nv">%capitals</span>.<span class="tok-n">push:</span> (<span class="tok-n">France</span> =&gt; <span class="tok-s">&#39;Paris&#39;</span>);
<span class="tok-nb">say</span> <span class="tok-nv">%capitals</span>.<span class="tok-nb">kv</span>;
<span class="tok-nb">say</span> <span class="tok-nv">%capitals</span>.<span class="tok-nb">keys</span>;
<span class="tok-nb">say</span> <span class="tok-nv">%capitals</span>.<span class="tok-nb">values</span>;
<span class="tok-nb">say</span> <span class="tok-s">&quot;The capital of France is: &quot;</span> ~ <span class="tok-nv">%capitals&lt;France&gt;</span>;</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title"><code>Изход</code></div>
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span>(<span class="tok-n">France</span> <span class="tok-n">Paris</span> <span class="tok-n">Germany</span> <span class="tok-n">Berlin</span> <span class="tok-n">UK</span> <span class="tok-n">London</span>)
(<span class="tok-n">France</span> <span class="tok-n">Germany</span> <span class="tok-n">UK</span>)
(<span class="tok-n">Paris</span> <span class="tok-n">Berlin</span> <span class="tok-n">London</span>)
<span class="tok-n">The</span> <span class="tok-n">capital</span> <span class="tok-nb">of</span> <span class="tok-n">France</span> <span class="tok-n">is:</span> <span class="tok-n">Paris</span></code></pre>
</div>
</div>
<div class="paragraph">
<div class="title">Обяснение</div>
<p><code>.push: (key =&gt; 'Value')</code> добавя нова двойка ключ/стойност.<br>
<code>.kv</code> връща списък, съдържащ всички ключове и стойности.<br>
<code>.keys</code> връща списък, съдържащ всички ключове.<br>
<code>.values</code> връща списък, съдържащ всички стойности.<br>
Можем да достъпим отделна стойност в хеша, като укажем нейния ключ <code>%hash&lt;key&gt;</code></p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
За да видите пълния справочник за хешовете, посетете <a href="https://docs.perl6.org/type/Hash" class="bare">https://docs.perl6.org/type/Hash</a>
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_типове">3.4. Типове</h3>
<div class="paragraph">
<p>В примерите досега не задавахме типа стойност, който да съдържа променливата.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
<code>.WHAT</code> Ще върне типа на стойността, съдържаща се в променливата.
</td>
</tr>
</table>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">my</span> <span class="tok-nv">$var</span> = <span class="tok-s">&#39;Text&#39;</span>;
<span class="tok-nb">say</span> <span class="tok-nv">$var</span>;
<span class="tok-nb">say</span> <span class="tok-nv">$var</span>.<span class="tok-nb">WHAT</span>;

<span class="tok-nv">$var</span> = <span class="tok-mi">123</span>;
<span class="tok-nb">say</span> <span class="tok-nv">$var</span>;
<span class="tok-nb">say</span> <span class="tok-nv">$var</span>.<span class="tok-nb">WHAT</span>;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Както виждате от горния пример, типът на стойността в променливата <code>$var</code> първо
беше (Str), а след това (Int).</p>
</div>
<div class="paragraph">
<p>Този начин на програмиране се нарича динамично типизиране. Динамично означава,
че променливите могат да съдържат стойности от <strong>Всякакъв</strong> (Any) тип.</p>
</div>
<div class="paragraph">
<p>Сега опитайте да изпълните следния пример. Обърнете внимание на използуването на
<code>Int</code> пред името на променливата.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">my</span> <span class="tok-nb">Int</span> <span class="tok-nv">$var</span> = <span class="tok-s">&#39;Text&#39;</span>;
<span class="tok-nb">say</span> <span class="tok-nv">$var</span>;
<span class="tok-nb">say</span> <span class="tok-nv">$var</span>.<span class="tok-nb">WHAT</span>;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Присвояването ще се провали и ще върне следната грешка:<br>
 <code>Type check failed in assignment to $var; expected Int but got Str</code><br>
 <code>Проверката за тип е неуспешна при присвояване на $var; очакваше се Int, но бе подаден Str</code></p>
</div>
<div class="paragraph">
<p>Този път указахме, че типа на променливата ще бъде (Int).
Опитът да му присвоим низ (Str) не беше успешен.</p>
</div>
<div class="paragraph">
<p>Този начин на програмиране се нарича статично типизиране. Статично означава, че типа на променливите се указва предварително и не може да бъде променян.</p>
</div>
<div class="paragraph">
<p>Пърл 6 е <strong>постепенно типизиран</strong>; позволява и <strong>статично</strong>, и <strong>динамично</strong> типизиране.</p>
</div>
<div class="listingblock">
<div class="title">Масивите и хешовете също могат да бъдат статично типизирани:</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">my</span> <span class="tok-nb">Int</span> <span class="tok-nv">@array</span> = <span class="tok-mi">1</span>,<span class="tok-mi">2</span>,<span class="tok-mi">3</span>;
<span class="tok-nb">say</span> <span class="tok-nv">@array</span>;
<span class="tok-nb">say</span> <span class="tok-nv">@array</span>.<span class="tok-nb">WHAT</span>;

<span class="tok-k">my</span> <span class="tok-nb">Str</span> <span class="tok-nv">@multilingual</span> = <span class="tok-s">&quot;Здравей&quot;</span>, <span class="tok-s">&quot;Hello&quot;</span>,<span class="tok-s">&quot;Salut&quot;</span>,<span class="tok-s">&quot;Hallo&quot;</span>,<span class="tok-s">&quot;您好&quot;</span>,<span class="tok-s">&quot;안녕하세요&quot;</span>,<span class="tok-s">&quot;こんにちは&quot;</span>;
<span class="tok-nb">say</span> <span class="tok-nv">@multilingual</span>;
<span class="tok-nb">say</span> <span class="tok-nv">@multilingual</span>.<span class="tok-nb">WHAT</span>;

<span class="tok-k">my</span> <span class="tok-nb">Str</span> <span class="tok-nv">%capitals</span> = (<span class="tok-n">UK</span> =&gt; <span class="tok-s">&#39;London&#39;</span>, <span class="tok-n">Germany</span> =&gt; <span class="tok-s">&#39;Berlin&#39;</span>);
<span class="tok-nb">say</span> <span class="tok-nv">%capitals</span>;
<span class="tok-nb">say</span> <span class="tok-nv">%capitals</span>.<span class="tok-nb">WHAT</span>;

<span class="tok-k">my</span> <span class="tok-nb">Int</span> <span class="tok-nv">%country-codes</span> = (<span class="tok-n">UK</span> =&gt; <span class="tok-mi">44</span>, <span class="tok-n">Germany</span> =&gt; <span class="tok-mi">49</span>);
<span class="tok-nb">say</span> <span class="tok-nv">%country-codes</span>;
<span class="tok-nb">say</span> <span class="tok-nv">%country-codes</span>.<span class="tok-nb">WHAT</span>;</code></pre>
</div>
</div>
<div class="paragraph">
<div class="title">Ето списък с най-често използуваните типове:</div>
<p>Най-вероятно никога няма да използувате първите два, но са упоменати, да ги знаете.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 14.2857%;">
<col style="width: 42.8571%;">
<col style="width: 28.5714%;">
<col style="width: 14.2858%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code><strong>Тип</strong></code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code><strong>Описание</strong></code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code><strong>Пример</strong></code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code><strong>Резултат</strong></code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>Mu</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>Коренът на йерархията на типовете в Перл 6</code></p></td>
<td class="tableblock halign-left valign-middle"></td>
<td class="tableblock halign-left valign-middle"></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>Any</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>Подразбиращият се родителски клас за нови класове и за повечето стандартни класове</code></p></td>
<td class="tableblock halign-left valign-middle"></td>
<td class="tableblock halign-left valign-middle"></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>Cool</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>Стойност, която може да бъде ползвана като низ и число едновременно</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>my Cool $var = 31; say $var.flip; say $var * 2;</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>13 62</code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>Str</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>Низ от знакове</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>my Str $var = "NEON"; say $var.flip;</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>NOEN</code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>Int</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>Цяло число (случайна точност)</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>7 + 7</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>14</code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>Rat</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>Рационално число (ограничена точност)</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>0.1 + 0.2</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>0.3</code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>Bool</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>Булева стойност (Истина или Лъжа)</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>!True</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>False</code></p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="_самонаблюдение">3.5. Самонаблюдение</h3>
<div class="paragraph">
<p>Самонаблюдение (Introspection) е действието по взимане на информация за даден обект, например какъв е типът му.<br>
В един от предишните примери използувахме <code>.WHAT</code>, за да върнем типа на променливата.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">my</span> <span class="tok-nb">Int</span> <span class="tok-nv">$var</span>;
<span class="tok-nb">say</span> <span class="tok-nv">$var</span>.<span class="tok-nb">WHAT</span>;    <span class="tok-c1"># (Int)</span>
<span class="tok-k">my</span> <span class="tok-nv">$var2</span>;
<span class="tok-nb">say</span> <span class="tok-nv">$var2</span>.<span class="tok-nb">WHAT</span>;   <span class="tok-c1"># (Any)</span>
<span class="tok-nv">$var2</span> = <span class="tok-mi">1</span>;
<span class="tok-nb">say</span> <span class="tok-nv">$var2</span>.<span class="tok-nb">WHAT</span>;   <span class="tok-c1"># (Int)</span>
<span class="tok-nv">$var2</span> = <span class="tok-s">&quot;Hello&quot;</span>;
<span class="tok-nb">say</span> <span class="tok-nv">$var2</span>.<span class="tok-nb">WHAT</span>;   <span class="tok-c1"># (Str)</span>
<span class="tok-nv">$var2</span> = <span class="tok-nb">True</span>;
<span class="tok-nb">say</span> <span class="tok-nv">$var2</span>.<span class="tok-nb">WHAT</span>;   <span class="tok-c1"># (Bool)</span>
<span class="tok-nv">$var2</span> = <span class="tok-nb">Nil</span>;
<span class="tok-nb">say</span> <span class="tok-nv">$var2</span>.<span class="tok-nb">WHAT</span>;   <span class="tok-c1"># (Any)</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Типът на дадена променлива показва каква стойност може да съдържа.<br>
Типът на <strong>твърдо</strong> обявена празна променлива е типът, с който е била обявена.<br>
Типът на празна променлива, която не е твърдо обявена, е <strong>Всякакъв</strong> <code>(Any)</code><br>
За да изчистите стойността на променлива, присвойте ѝ <code>Nil</code>.</p>
</div>
</div>
<div class="sect2">
<h3 id="_видимост">3.6. Видимост</h3>
<div class="paragraph">
<p>Преди да използувате променлива за първи път, трябва да я обявите.</p>
</div>
<div class="paragraph">
<p>В Пърл 6 се използуват няколко начина за обявяване на променливи. В примерите
досега използувахме <code>my</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">my</span> <span class="tok-nv">$var</span>=<span class="tok-mi">1</span>;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Операторът <code>my</code> дава на променливата <strong>словна</strong> (<strong>lexical</strong>) видимост.
Иначе казано, променливата ще бъде видима (използваема) само в блока от код, в който е обявена.</p>
</div>
<div class="paragraph">
<p>В Пърл 6 блокът представлява всичко, намиращо се между двойка отваряща и затваряща фигурни скоби - <code>{ }</code>.
Ако няма определен блок, променливата е достъпна в целия скрипт.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span>{
  <span class="tok-k">my</span> <span class="tok-nb">Str</span> <span class="tok-nv">$var</span> = <span class="tok-s">&#39;Text&#39;</span>;
  <span class="tok-nb">say</span> <span class="tok-nv">$var</span>; <span class="tok-c1"># е достъпна</span>
}
<span class="tok-nb">say</span> <span class="tok-nv">$var</span>; <span class="tok-c1"># е недостъпна, връща грешка</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Тъй като променливата е видима само в блока, в който е обявена, можете да
ползвате същото име за друга променлива в друг блок.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span>{
  <span class="tok-k">my</span> <span class="tok-nb">Str</span> <span class="tok-nv">$var</span> = <span class="tok-s">&#39;Text&#39;</span>;
  <span class="tok-nb">say</span> <span class="tok-nv">$var</span>;
}
<span class="tok-k">my</span> <span class="tok-nb">Int</span> <span class="tok-nv">$var</span> = <span class="tok-mi">123</span>;
<span class="tok-nb">say</span> <span class="tok-nv">$var</span>;</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_присвояване_и_обвързване">3.7. Присвояване и Обвързване</h3>
<div class="paragraph">
<p>В предишните примери видяхме как да <strong>присвояваме</strong> стойности на променливи.<br>
<strong>Присвояването</strong> се прави с помощта на оператора <code>=</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">my</span> <span class="tok-nb">Int</span> <span class="tok-nv">$var</span> = <span class="tok-mi">123</span>;
<span class="tok-nb">say</span> <span class="tok-nv">$var</span>;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Можем да променим стойността, присвоена на променлива:</p>
</div>
<div class="listingblock">
<div class="title">Присвояване</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">my</span> <span class="tok-nb">Int</span> <span class="tok-nv">$var</span> = <span class="tok-mi">123</span>;
<span class="tok-nb">say</span> <span class="tok-nv">$var</span>;
<span class="tok-nv">$var</span> = <span class="tok-mi">999</span>;
<span class="tok-nb">say</span> <span class="tok-nv">$var</span>;</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title"><code>Изход</code></div>
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-mi">123</span>
<span class="tok-mi">999</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>И напротив - когато <strong>обвързваме</strong> стойност с променлива, не можем да променим стойността.<br>
<strong>Обвързването</strong> се извършва с помощта на оператора <code>:=</code>.</p>
</div>
<div class="listingblock">
<div class="title">Обвързване</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">my</span> <span class="tok-nb">Int</span> <span class="tok-nv">$var</span> := <span class="tok-mi">123</span>;
<span class="tok-nb">say</span> <span class="tok-nv">$var</span>;
<span class="tok-nv">$var</span> = <span class="tok-mi">999</span>;
<span class="tok-nb">say</span> <span class="tok-nv">$var</span>;</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title"><code>Изход</code></div>
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-mi">123</span>
<span class="tok-n">Cannot</span> <span class="tok-n">assign</span> <span class="tok-nb">to</span> <span class="tok-n">an</span> <span class="tok-n">immutable</span> <span class="tok-nb">value</span>
<span class="tok-n">Не</span> <span class="tok-n">може</span> <span class="tok-n">да</span> <span class="tok-n">се</span> <span class="tok-n">присвои</span> <span class="tok-n">към</span> <span class="tok-n">непроменяема</span> <span class="tok-n">стойност</span></code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Променливите могат да бъдат обвързвани и с други променливи:</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">my</span> <span class="tok-nv">$a</span>;
<span class="tok-k">my</span> <span class="tok-nv">$b</span>;
<span class="tok-nv">$b</span> := <span class="tok-nv">$a</span>;
<span class="tok-nv">$a</span> = <span class="tok-mi">7</span>;
<span class="tok-nb">say</span> <span class="tok-nv">$b</span>;
<span class="tok-nv">$b</span> = <span class="tok-mi">8</span>;
<span class="tok-nb">say</span> <span class="tok-nv">$a</span>;</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title"><code>Изход</code></div>
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-mi">7</span>
<span class="tok-mi">8</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Обвързването на променливи една с друга е двупосочно.<br>
Резултатът от <code>$a := $b</code> и <code>$b := $a</code> е един и същ.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Повече за променливите ще научите на адрес <a href="https://docs.perl6.org/language/variables" class="bare">https://docs.perl6.org/language/variables</a>
</td>
</tr>
</table>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_функции_и_мутатори">4. Функции и мутатори</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Важно е да се прави разлика между функции и мутатори.<br>
Функциите не променят състоянието на обектите, върху които са извикани.<br>
Мутаторите (менячи - бел. прев.) променят състоянието на обекта.</p>
</div>
<div class="listingblock">
<div class="title"><code>Скрипт</code></div>
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><div class="lineno"><table class="linenotable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span></pre></div></td><td class="code"><div><pre><span></span><span class="tok-k">my</span> <span class="tok-nv">@числа</span> = [<span class="tok-mi">7</span>,<span class="tok-mi">2</span>,<span class="tok-mi">4</span>,<span class="tok-mi">9</span>,<span class="tok-mi">11</span>,<span class="tok-mi">3</span>];

<span class="tok-nv">@числа</span>.<span class="tok-nb">push</span>(<span class="tok-mi">99</span>);
<span class="tok-nb">say</span> <span class="tok-nv">@числа</span>;      <span class="tok-c1">#1</span>

<span class="tok-nb">say</span> <span class="tok-nv">@числа</span>.<span class="tok-nb">sort</span>; <span class="tok-c1">#2</span>
<span class="tok-nb">say</span> <span class="tok-nv">@числа</span>;      <span class="tok-c1">#3</span>

<span class="tok-nv">@числа</span>.=<span class="tok-nb">sort</span>;
<span class="tok-nb">say</span> <span class="tok-nv">@числа</span>;      <span class="tok-c1">#4</span>
</pre></div></td></tr></table></div></code></pre>
</div>
</div>
<div class="listingblock">
<div class="title"><code>Изход</code></div>
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span>[<span class="tok-mi">7</span> <span class="tok-mi">2</span> <span class="tok-mi">4</span> <span class="tok-mi">9</span> <span class="tok-mi">11</span> <span class="tok-mi">3</span> <span class="tok-mi">99</span>] <span class="tok-c1">#1</span>
(<span class="tok-mi">2</span> <span class="tok-mi">3</span> <span class="tok-mi">4</span> <span class="tok-mi">7</span> <span class="tok-mi">9</span> <span class="tok-mi">11</span> <span class="tok-mi">99</span>) <span class="tok-c1">#2</span>
[<span class="tok-mi">7</span> <span class="tok-mi">2</span> <span class="tok-mi">4</span> <span class="tok-mi">9</span> <span class="tok-mi">11</span> <span class="tok-mi">3</span> <span class="tok-mi">99</span>] <span class="tok-c1">#3</span>
[<span class="tok-mi">2</span> <span class="tok-mi">3</span> <span class="tok-mi">4</span> <span class="tok-mi">7</span> <span class="tok-mi">9</span> <span class="tok-mi">11</span> <span class="tok-mi">99</span>] <span class="tok-c1">#4</span></code></pre>
</div>
</div>
<div class="paragraph">
<div class="title">Обяснение</div>
<p><code>.push</code> е меняч (мутатор); той променя състоянието на масива (#1)</p>
</div>
<div class="paragraph">
<p><code>.sort</code> е функция; тя връща подреден масив, но не променя състоянието на масива, върху който се използува:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>(#2) показва, че връща подреден масив.</p>
</li>
<li>
<p>(#3) показва, че състоянието на масива е все така непроменено.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>За да накараме дадена функция да действа като мутатор, използуваме <code>.=</code> вместо <code>.</code> (#4) (ред 9 от скрипта)</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_цикли_и_условия">5. Цикли и условия</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Пърл 6 има много изрази за условия и цикли.</p>
</div>
<div class="sect2">
<h3 id="_if">5.1. if</h3>
<div class="paragraph">
<p>Кодът се изпълнява, само ако условието е изпълнено. Иначе казано - ако изразът се изчисли като Истина (<code>True</code>).</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">my</span> <span class="tok-nv">$age</span> = <span class="tok-mi">19</span>;

<span class="tok-k">if</span> <span class="tok-nv">$age</span> &gt; <span class="tok-mi">18</span> {
  <span class="tok-nb">say</span> <span class="tok-s">&#39;Welcome&#39;</span>
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>В Пърл 6 можем да сменим местата на условието и кода.<br>
Макар местата да са сменени, проверката на условието винаги се изпълнява първа.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">my</span> <span class="tok-nv">$age</span> = <span class="tok-mi">19</span>;

<span class="tok-nb">say</span> <span class="tok-s">&#39;Добре дошъл&#39;</span> <span class="tok-k">if</span> <span class="tok-nv">$age</span> &gt; <span class="tok-mi">18</span>;</code></pre>
</div>
</div>
<div class="paragraph">
<p>В случай че условието не се изпълни, можем да укажем алтернативни блокове код чрез:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>else</code></p>
</li>
<li>
<p><code>elsif</code></p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-c1"># изпълнение на различен код при различни стойности на променливата</span>
<span class="tok-k">my</span> <span class="tok-nv">$брой-места</span> = <span class="tok-mi">9</span>;

<span class="tok-k">if</span> <span class="tok-nv">$брой-места</span> &lt;= <span class="tok-mi">5</span> {
  <span class="tok-nb">say</span> <span class="tok-s">&#39;Аз съм седан&#39;</span>
} <span class="tok-k">elsif</span> <span class="tok-nv">$брой-места</span>  &lt;= <span class="tok-mi">7</span> {
  <span class="tok-nb">say</span> <span class="tok-s">&#39;Аз съм мини-ван&#39;</span>
} <span class="tok-k">else</span> {
  <span class="tok-nb">say</span> <span class="tok-s">&#39;Аз съм ван&#39;</span>
}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_unless">5.2. unless</h3>
<div class="paragraph">
<p>Отрицанието на твърдението, проверявано чрез <code>if</code>, може да бъде изразено чрез <code>unless</code>.</p>
</div>
<div class="paragraph">
<p>Следният код:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">my</span> <span class="tok-nv">$чисти-обувки</span> = <span class="tok-nb">False</span>;

<span class="tok-k">if</span> <span class="tok-nb">not</span> <span class="tok-nv">$чисти-обувки</span> {
  <span class="tok-nb">say</span> <span class="tok-s">&#39;Почисти си обувките!&#39;</span>
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>може да бъде написан като:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">my</span> <span class="tok-nv">$чисти-обувки</span> = <span class="tok-nb">False</span>;

<span class="tok-k">unless</span> <span class="tok-nv">$чисти-обувки</span> {
  <span class="tok-nb">say</span> <span class="tok-s">&#39;Почисти си обувките!&#39;</span>
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Отрицание на дадено твърдение се постига чрез <code>!</code> или <code>not</code>.</p>
</div>
<div class="paragraph">
<p><code>unless (условие)</code> се използува вместо <code>if not (условие)</code>.</p>
</div>
<div class="paragraph">
<p><code>unless</code> не може да има съответстваща <code>else</code> клауза.</p>
</div>
</div>
<div class="sect2">
<h3 id="_with">5.3. with</h3>
<div class="paragraph">
<p><code>with</code> е като <code>if</code>, но проверява дали променливата има присвоена стойност.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">my</span> <span class="tok-nb">Int</span> <span class="tok-nv">$var</span>=<span class="tok-mi">1</span>;

<span class="tok-k">with</span> <span class="tok-nv">$var</span> {
  <span class="tok-nb">say</span> <span class="tok-s">&#39;Hello&#39;</span>
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Ако изпълните кода, без да сте присвоили стойност на променливата, нищо няма да се изведе на екрана.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">my</span> <span class="tok-nb">Int</span> <span class="tok-nv">$var</span>;

<span class="tok-k">with</span> <span class="tok-nv">$var</span> {
  <span class="tok-nb">say</span> <span class="tok-s">&#39;Hello&#39;</span>
}</code></pre>
</div>
</div>
<div class="paragraph">
<p><code>without</code> е обратното на <code>with</code>. Същото, каквото е <code>unless</code> за <code>if</code>.</p>
</div>
<div class="paragraph">
<p>Ако първото <code>with</code> условие не е изпълнено, може да укажете друго условие с <code>orwith</code>.<br>
<code>with</code> и <code>orwith</code> са подобни на <code>if</code> и <code>elsif</code>.</p>
</div>
</div>
<div class="sect2">
<h3 id="_for">5.4. for</h3>
<div class="paragraph">
<p>Цикълът <code>for</code> повтаря действието върху множество стойности.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">my</span> <span class="tok-nv">@array</span> = [<span class="tok-mi">1</span>,<span class="tok-mi">2</span>,<span class="tok-mi">3</span>];

<span class="tok-k">for</span> <span class="tok-nv">@array</span> -&gt; <span class="tok-nv">$array-item</span> {
  <span class="tok-nb">say</span> <span class="tok-nv">$array-item</span> * <span class="tok-mi">100</span>
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Забележете, че създадохме променливата <code>$array-item</code> и приложихме действието
<code>*100</code> върху всеки елемент от масива.</p>
</div>
</div>
<div class="sect2">
<h3 id="_given">5.5. given</h3>
<div class="paragraph">
<p><code>given</code> в Пърл 6 е същото като <code>switch</code> в другите езици, но много по-мощно.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">my</span> <span class="tok-nv">$var</span> = <span class="tok-mi">42</span>;

<span class="tok-k">given</span> <span class="tok-nv">$var</span> {
    <span class="tok-k">when</span> <span class="tok-mi">0</span><span class="tok-o">..</span><span class="tok-mi">50</span> { <span class="tok-nb">say</span> <span class="tok-s">&#39;По-малко или равно на 50&#39;</span> }
    <span class="tok-k">when</span> <span class="tok-nb">Int</span> { <span class="tok-nb">say</span> <span class="tok-s">&quot;е Int&quot;</span> }
    <span class="tok-k">when</span> <span class="tok-mi">42</span>  { <span class="tok-nb">say</span> <span class="tok-mi">42</span> }
    <span class="tok-k">default</span>  { <span class="tok-nb">say</span> <span class="tok-s">&quot;к&#39;во?&quot;</span> }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>При успешно съвпадение, процесът на търсене на удовлетворяване на условието,
следващо <code>when</code>, се прекратява.</p>
</div>
<div class="paragraph">
<p>Ако обаче добавите <code>proceed</code> в блока за изпълнение, процесът на търсене на
съвпадение продължава.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">my</span> <span class="tok-nv">$var</span> = <span class="tok-mi">42</span>;

<span class="tok-k">given</span> <span class="tok-nv">$var</span> {
    <span class="tok-k">when</span> <span class="tok-mi">0</span><span class="tok-o">..</span><span class="tok-mi">50</span> { <span class="tok-nb">say</span> <span class="tok-s">&#39;По-малко или равно на 50&#39;</span>; <span class="tok-k">proceed</span> }
    <span class="tok-k">when</span> <span class="tok-nb">Int</span> { <span class="tok-nb">say</span> <span class="tok-s">&quot;е Int&quot;</span>; <span class="tok-k">proceed</span> }
    <span class="tok-k">when</span> <span class="tok-mi">42</span>  { <span class="tok-nb">say</span> <span class="tok-mi">42</span> }
    <span class="tok-k">default</span>  { <span class="tok-nb">say</span> <span class="tok-s">&quot;к&#39;во?&quot;</span> }
}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_loop">5.6. loop</h3>
<div class="paragraph">
<p><code>loop</code> е друг начин за писане на <code>for</code> цикъл.</p>
</div>
<div class="paragraph">
<p>Всъщност <code>loop</code> е начинът, по който се пишат <code>for</code> циклите в езиците, подобни на C.</p>
</div>
<div class="paragraph">
<p>Пърл 6 принадлежи към това семейство.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">loop</span> (<span class="tok-k">my</span> <span class="tok-nv">$i</span> = <span class="tok-mi">0</span>; <span class="tok-nv">$i</span> &lt; <span class="tok-mi">5</span>; <span class="tok-nv">$i</span>++) {
  <span class="tok-nb">say</span> <span class="tok-s">&quot;Текущото число е $i&quot;</span>
}</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
За да научите повече за циклите и условните изрази, погледнете
<a href="https://docs.perl6.org/language/control" class="bare">https://docs.perl6.org/language/control</a>
</td>
</tr>
</table>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_io">6. I/O</h2>
<div class="sectionbody">
<div class="paragraph">
<p>В Пърл 6 най-често използуваните <em>входно-изходни</em> интерфейси са <em>терминалът</em> и <em>файловете</em>.</p>
</div>
<div class="sect2">
<h3 id="_основни_действия_в_терминал">6.1. Основни действия в терминал</h3>
<div class="sect3">
<h4 id="_say">6.1.1. say</h4>
<div class="paragraph">
<p><code>say</code> пише в стандартния изход. Добавя нов ред в края. С други думи, следният код</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-nb">say</span> <span class="tok-s">&#39;Hello Mam.&#39;</span>;
<span class="tok-nb">say</span> <span class="tok-s">&#39;Hello Sir.&#39;</span>;</code></pre>
</div>
</div>
<div class="paragraph">
<p>ще изведе текста в кавичките на два отделни реда.</p>
</div>
</div>
<div class="sect3">
<h4 id="_print">6.1.2. print</h4>
<div class="paragraph">
<p><code>print</code> има подобно поведение като <code>say</code>, но не добавя нов ред.</p>
</div>
<div class="paragraph">
<p>Заместете <code>say</code> с <code>print</code> и сравнете изхода от действията.</p>
</div>
</div>
<div class="sect3">
<h4 id="_get">6.1.3. get</h4>
<div class="paragraph">
<p><code>get</code> се използува за прихващане на входни данни от терминала.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">my</span> <span class="tok-nv">$name</span>;

<span class="tok-nb">say</span> <span class="tok-s">&quot;Hi, what&#39;s your name?&quot;</span>;
<span class="tok-nv">$name</span> = <span class="tok-nb">get</span>;

<span class="tok-nb">say</span> <span class="tok-s">&quot;Dear $name welcome to Perl 6&quot;</span>;</code></pre>
</div>
</div>
<div class="paragraph">
<p>При изпълнение на горния код, терминалът ще чака да въведете името си. Въведете го и натиснете
[Enter]. След това ще видите поздрава.</p>
</div>
</div>
<div class="sect3">
<h4 id="_prompt">6.1.4. prompt</h4>
<div class="paragraph">
<p><code>prompt</code> е съчетание от <code>print</code> и <code>get</code>.</p>
</div>
<div class="paragraph">
<p>Горният пример може да бъде написан така:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">my</span> <span class="tok-nv">$name</span> = <span class="tok-nb">prompt</span> <span class="tok-s">&quot;Hi, what&#39;s your name? &quot;</span>;

<span class="tok-nb">say</span> <span class="tok-s">&quot;Dear $name welcome to Perl 6&quot;</span>;</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_изпълнение_на_външни_команди">6.2. Изпълнение на външни команди</h3>
<div class="paragraph">
<p>Две подпрограми могат да се използуват за извикване на външни команди:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>run</code> Изпълнява външна команда (програма) без посредничеството на системната обвивка.</p>
</li>
<li>
<p><code>shell</code> Изпълнява команда през системната обвивка. Тя е зависима от
операционната система и от обвивката ѝ. Всички мета-знаци на обвивката се
интерпретират от нея - включително <code>|</code>, пренасочването на променливите на
обкръжението и т.н.</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="title">Изпълнете следното, ако сте в Linux/OSX</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">my</span> <span class="tok-nv">$name</span> = <span class="tok-s">&#39;Neo&#39;</span>;
<span class="tok-nb">run</span> <span class="tok-s">&#39;echo&#39;</span>, <span class="tok-s">&quot;hello $name&quot;</span>;
<span class="tok-nb">shell</span> <span class="tok-s">&quot;ls&quot;</span>;</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Изпълнете следното в Windows</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-nb">shell</span> <span class="tok-s">&quot;dir&quot;</span>;</code></pre>
</div>
</div>
<div class="paragraph">
<p><code>echo</code> и <code>ls</code> са познати команди от обвивката в Linux:<br>
<code>echo</code> отпечатва текст в терминала (същото като <code>print</code> в Perl 6)<br>
<code>ls</code> показва списък от файлове и папки в текущата папка</p>
</div>
<div class="paragraph">
<p><code>dir</code> е същото като <code>ls</code>, но в Windows.</p>
</div>
</div>
<div class="sect2">
<h3 id="_писане_в_и_четене_от_файлове">6.3. Писане в и четене от файлове</h3>
<div class="sect3">
<h4 id="_slurp">6.3.1. slurp</h4>
<div class="paragraph">
<p><code>slurp</code> се използува за четене на данни от файл наведнъж.</p>
</div>
<div class="paragraph">
<p>Създайте файл със следното съдържание:</p>
</div>
<div class="listingblock">
<div class="title">datafile.txt</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-n">John</span> <span class="tok-mi">9</span>
<span class="tok-n">Johnnie</span> <span class="tok-mi">7</span>
<span class="tok-n">Jane</span> <span class="tok-mi">8</span>
<span class="tok-n">Joanna</span> <span class="tok-mi">7</span></code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">my</span> <span class="tok-nv">$data</span> = <span class="tok-nb">slurp</span> <span class="tok-s">&quot;datafile.txt&quot;</span>;
<span class="tok-nb">say</span> <span class="tok-nv">$data</span>;</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_spurt">6.3.2. spurt</h4>
<div class="paragraph">
<p><code>spurt</code> се използува за запис на данни във файл наведнъж.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">my</span> <span class="tok-nv">$newdata</span> = <span class="tok-s">&quot;New scores:</span>
<span class="tok-s">Paul 10</span>
<span class="tok-s">Paulie 9</span>
<span class="tok-s">Paulo 11&quot;</span>;

<span class="tok-nb">spurt</span> <span class="tok-s">&quot;newdatafile.txt&quot;</span>, <span class="tok-nv">$newdata</span>;</code></pre>
</div>
</div>
<div class="paragraph">
<p>С изпълнението на горния код ще се създаде нов файл, именуван <em>newdatafile.txt</em>.
Той ще съдържа данните от <code>$newdata</code>.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_работа_с_файлове_и_папки">6.4. Работа с файлове и папки</h3>
<div class="paragraph">
<p>Perl 6 може да покаже списък от папки и файлове без помощта на системни команди (например като
използвате <code>ls</code>).</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-nb">say</span> <span class="tok-nb">dir</span>;              <span class="tok-c1"># Показва списък със съдържанието на текущата папка</span>
<span class="tok-nb">say</span> <span class="tok-nb">dir</span> <span class="tok-s">&quot;/Documents&quot;</span>; <span class="tok-c1"># Показва списък със съдържанието на указаната папка</span>
-</code></pre>
</div>
</div>
<div class="paragraph">
<p>Освен това, можете да създавате и триете папки.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-nb">mkdir</span> <span class="tok-s">&quot;newfolder&quot;</span>;
<span class="tok-nb">rmdir</span> <span class="tok-s">&quot;newfolder&quot;</span>;</code></pre>
</div>
</div>
<div class="paragraph">
<p><code>mkdir</code> създава нова папка.<br>
<code>rmdir</code> изтрива празна папка. Връща грешка, ако не е празна.</p>
</div>
<div class="paragraph">
<p>Също така можете да проверявате дали указаният път съществува, дали е файл или папка:</p>
</div>
<div class="paragraph">
<p>В папката, където ще изпълните долния скрипт, създайте празна папка <code>folder123</code> и празен файл с разширение pl6 <code>script123.pl6</code></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-nb">say</span> <span class="tok-s">&quot;script123.pl6&quot;</span>.<span class="tok-nb">IO</span>.<span class="tok-nb">e</span>;
<span class="tok-nb">say</span> <span class="tok-s">&quot;folder123&quot;</span>.<span class="tok-nb">IO</span>.<span class="tok-nb">e</span>;

<span class="tok-nb">say</span> <span class="tok-s">&quot;script123.pl6&quot;</span>.<span class="tok-nb">IO</span>.<span class="tok-nb">d</span>;
<span class="tok-nb">say</span> <span class="tok-s">&quot;folder123&quot;</span>.<span class="tok-nb">IO</span>.<span class="tok-nb">d</span>;

<span class="tok-nb">say</span> <span class="tok-s">&quot;script123.pl6&quot;</span>.<span class="tok-nb">IO</span>.<span class="tok-nb">f</span>;
<span class="tok-nb">say</span> <span class="tok-s">&quot;folder123&quot;</span>.<span class="tok-nb">IO</span>.<span class="tok-nb">f</span>;</code></pre>
</div>
</div>
<div class="paragraph">
<p><code>IO.e</code> проверява дали файлът съществува.<br>
<code>IO.f</code> проверява дали указаният път е файл.<br>
<code>IO.d</code> проверява дали указаният път е папка.</p>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
Потребителите на Windows могат да използуват <code>/</code> или <code>\\</code> за разделител<br>
<code>C:\\rakudo\\bin</code><br>
<code>C:/rakudo/bin</code><br>
</td>
</tr>
</table>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
За повече информация, свързана с входно-изходните операции, вижте <a href="https://docs.perl6.org/type/IO" class="bare">https://docs.perl6.org/type/IO</a>
</td>
</tr>
</table>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_подпрограми">7. Подпрограми</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_създаване">7.1. Създаване</h3>
<div class="paragraph">
<p><strong>Подпрограмите</strong> (наричани също <strong>функции</strong>) са начин да се събере накуп набор от
действия (функционалност) и да се използва по-късно.<br></p>
</div>
<div class="paragraph">
<p>За да създадете подпрограма, напишете ключовата дума <code>sub</code>, последвана от името
на подпрограмата. След това подпрограмата може да бъде извиквана чрез изписване
на името ѝ.<br>
Разгледайте примера:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">sub</span> <span class="tok-n">alien-greeting</span> {
  <span class="tok-nb">say</span> <span class="tok-s">&quot;Hello earthlings&quot;</span>;
}

<span class="tok-n">alien-greeting</span>;</code></pre>
</div>
</div>
<div class="paragraph">
<p>В този пример е показана подпрограма, която не изисква никакви входни данни.</p>
</div>
</div>
<div class="sect2">
<h3 id="_списък_с_параметри">7.2. Списък с параметри</h3>
<div class="paragraph">
<p>Подпрограмите могат да изискват входни данни. Тези данни се
предоставят чрез подаване на <strong>параметри</strong>. Една подпрограма може да няма
никакви или да има няколко <strong>параметъра</strong>. Броят и типът на параметрите на една
подпрограма се наричат <strong>сигнатура</strong> (от лат. signatura — обозначение, бел. прев.).</p>
</div>
<div class="literalblock">
<div class="content">
<pre>Следващата подпрограма приема низ като параметър.</pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">sub</span> <span class="tok-n">say-hello</span> (<span class="tok-nb">Str</span> <span class="tok-nv">$name</span>) {
    <span class="tok-nb">say</span> <span class="tok-s">&quot;Hello &quot;</span> ~ <span class="tok-nv">$name</span> ~ <span class="tok-s">&quot;!!!!&quot;</span>
}
<span class="tok-n">say-hello</span> <span class="tok-s">&quot;Paul&quot;</span>;
<span class="tok-n">say-hello</span> <span class="tok-s">&quot;Paula&quot;</span>;</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_многократност">7.3. Многократност</h3>
<div class="paragraph">
<p>Може да създадете няколко подпрограми с едно и също име, но различен списък от параметри
(многократно). Когато подпрограмата бъде извикана, средата за изпълнение ще реши коя от тях да
изпълни, в зависимост от типа и броя на подадените параметри.  Този тип подпрограми се създават
както обикновено, но като използувате ключовата дума <code>multi</code> вместо <code>sub</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">multi</span> <span class="tok-n">greet</span>(<span class="tok-nv">$name</span>) {
    <span class="tok-nb">say</span> <span class="tok-s">&quot;Good morning $name&quot;</span>;
}
<span class="tok-k">multi</span> <span class="tok-n">greet</span>(<span class="tok-nv">$name</span>, <span class="tok-nv">$title</span>) {
    <span class="tok-nb">say</span> <span class="tok-s">&quot;Good morning $title $name&quot;</span>;
}

<span class="tok-n">greet</span> <span class="tok-s">&quot;Johnnie&quot;</span>;
<span class="tok-n">greet</span> <span class="tok-s">&quot;Laura&quot;</span>,<span class="tok-s">&quot;Mrs.&quot;</span>;</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Оригиналното заглавие на секцията е "Multiple Dispatch". Множествено
разпределение или "много-методи" е свойство на някои програмни езици, при което
една функция или метод може да бъде динамично избрана за изпълнение в
зависимост от типа и броя на подадените ѝ аргументи. От Уикипедия:
<a href="https://en.wikipedia.org/wiki/Multiple_dispatch" class="bare">https://en.wikipedia.org/wiki/Multiple_dispatch</a> (Бел. Прев.)
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_незадължителни_и_подразбиращи_се_параметри">7.4. Незадължителни и подразбиращи се параметри</h3>
<div class="paragraph">
<p>Ако сте създали подпрограма, приемаща един параметър и я извикате, без да ѝ
подавате нищо, изпълнението ще се провали.</p>
</div>
<div class="paragraph">
<p>Пърл 6 ни дава възможност да създаваме подпрограми с:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Незадължителни параметри</p>
</li>
<li>
<p>Параметри със стойност по подразбиране</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Незадължителните параметри се задават, като в края на името на параметъра
(променливата) се добави <code>?</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">sub</span> <span class="tok-n">say-hello</span>(<span class="tok-nv">$name</span>?) {
  <span class="tok-k">with</span> <span class="tok-nv">$name</span> { <span class="tok-nb">say</span> <span class="tok-s">&quot;Hello &quot;</span> ~ <span class="tok-nv">$name</span> }
  <span class="tok-k">else</span> { <span class="tok-nb">say</span> <span class="tok-s">&quot;Hello Human&quot;</span> }
}
<span class="tok-n">say-hello</span>;
<span class="tok-n">say-hello</span>(<span class="tok-s">&quot;Laura&quot;</span>);</code></pre>
</div>
</div>
<div class="paragraph">
<p>Ако потребителят не подаде параметър, той може да приема стойност по подразбиране.<br>
Това се постига, като присвоим стойността, когато създаваме подпрограмата.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">sub</span> <span class="tok-n">say-hello</span>(<span class="tok-nv">$name</span>=<span class="tok-s">&quot;Matt&quot;</span>) {
  <span class="tok-nb">say</span> <span class="tok-s">&quot;Hello &quot;</span> ~ <span class="tok-nv">$name</span>;
}
<span class="tok-n">say-hello</span>;
<span class="tok-n">say-hello</span>(<span class="tok-s">&quot;Laura&quot;</span>);</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_връщане_на_стойности">7.5. Връщане на стойности</h3>
<div class="paragraph">
<p>Всички подпрограми дотук <strong>правят нещо</strong>, показват някакъв текст в терминала.</p>
</div>
<div class="paragraph">
<p>Понякога обаче, може да поискаме подпрограмата да <strong>върне</strong> някаква стойност,
която да използуваме по-късно в приложението.</p>
</div>
<div class="paragraph">
<p>По подразбиране, резултатът от изпълнението на последния ред в нашата
подпрограма е стойността, която тя връща.</p>
</div>
<div class="listingblock">
<div class="title">Подразбиращо се връщане на стойност</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">sub</span> <span class="tok-n">squared</span> (<span class="tok-nv">$x</span>) {
  <span class="tok-nv">$x</span> ** <span class="tok-mi">2</span>;
}
<span class="tok-nb">say</span> <span class="tok-s">&quot;7 squared is equal to &quot;</span> ~ <span class="tok-n">squared</span>(<span class="tok-mi">7</span>);</code></pre>
</div>
</div>
<div class="paragraph">
<p>За по-голяма яснота, е добра идея <em>изрично</em> да укажем какво връщаме. Това се
прави с ключовата дума <code>return</code>.</p>
</div>
<div class="listingblock">
<div class="title">Изрично връщане на стойност</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">sub</span> <span class="tok-n">squared</span> (<span class="tok-nv">$x</span>) {
  <span class="tok-k">return</span> <span class="tok-nv">$x</span> ** <span class="tok-mi">2</span>;
}
<span class="tok-nb">say</span> <span class="tok-s">&quot;7 squared is equal to &quot;</span> ~ <span class="tok-n">squared</span>(<span class="tok-mi">7</span>);</code></pre>
</div>
</div>
<div class="sect3">
<h4 id="_ограничаване_на_връщаните_стойности">7.5.1. Ограничаване на връщаните стойности</h4>
<div class="paragraph">
<p>В един от предишните примери видяхме, че можем да зададем определен тип на
приемания параметър. Същото може да бъде направено с връщаната стойност.</p>
</div>
<div class="paragraph">
<p>За да ограничим типа на връщаната стойност, използуваме <em>отличителя</em> <code>returns</code> или стрелка <code>--&gt;</code> в сигнатурата.</p>
</div>
<div class="listingblock">
<div class="title">Използуване на отличителя <code>returns</code></div>
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">sub</span> <span class="tok-n">squared</span> (<span class="tok-nv">$x</span>) <span class="tok-k">returns</span> <span class="tok-nb">Int</span> {
  <span class="tok-k">return</span> <span class="tok-nv">$x</span> ** <span class="tok-mi">2</span>;
}
<span class="tok-nb">say</span> <span class="tok-s">&quot;1.2 на квадрат е &quot;</span> ~ <span class="tok-n">squared</span>(<span class="tok-mf">1.2</span>);</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Използуване на стрелката</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">sub</span> <span class="tok-n">squared</span> (<span class="tok-nv">$x</span> --&gt; <span class="tok-nb">Int</span>) {
  <span class="tok-k">return</span> <span class="tok-nv">$x</span> ** <span class="tok-mi">2</span>;
}
<span class="tok-nb">say</span> <span class="tok-s">&quot;1.2 squared is equal to &quot;</span> ~ <span class="tok-n">squared</span>(<span class="tok-mf">1.2</span>);</code></pre>
</div>
</div>
<div class="paragraph">
<p>Ако не върнем стойност от същия тип, програмата ни ще хвърли грешка.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-n">Type</span> <span class="tok-n">check</span> <span class="tok-n">failed</span> <span class="tok-k">for</span> <span class="tok-k">return</span> <span class="tok-nb">value</span>; <span class="tok-nb">expected</span> <span class="tok-nb">Int</span> <span class="tok-k">but</span> <span class="tok-nb">got</span> <span class="tok-nb">Rat</span> (<span class="tok-mf">1.44</span>)</code></pre>
</div>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Ограниченията по тип могат да задават не само типа на връщаната стойност, но и
това, дали е дефинирана стойността.</p>
</div>
<div class="paragraph">
<p>В предишните примери указвахме, че типа на връщаната стойност трябва да бъде
<code>Int</code>. Можехме и да укажем изрично, дали върнатият <code>Int</code> трябва да бъде
определен (defined) (стойността да не е <code>Nil</code>) или не. Това се постига с
използуването на следните сигнатури:<br>
<code>-&#8594; Int:D</code> and <code>-&#8594; Int:U</code></p>
</div>
<div class="paragraph">
<p>И така, да се използуват тези ограничения е добра практика.<br>
Ето долу новата версия на предния пример, където е използувано <code>:D</code> (defined), за да
задължи връщаната стойност от тип <code>Int</code> да бъде определена (а не неопределена –
<code>U</code> (undefined)).</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">sub</span> <span class="tok-n">squared</span> (<span class="tok-nv">$x</span> --&gt; <span class="tok-nb">Int:D</span>) {
  <span class="tok-k">return</span> <span class="tok-nv">$x</span> ** <span class="tok-mi">2</span>;
}
<span class="tok-nb">say</span> <span class="tok-s">&quot;1.2 squared is equal to &quot;</span> ~ <span class="tok-n">squared</span>(<span class="tok-mf">1.2</span>);</code></pre>
</div>
</div>
</td>
</tr>
</table>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
За повече информация относно подпрограмите и функциите, вижте <a href="https://docs.perl6.org/language/functions" class="bare">https://docs.perl6.org/language/functions</a>
</td>
</tr>
</table>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_функционално_програмиране">8. Функционално Програмиране</h2>
<div class="sectionbody">
<div class="paragraph">
<p>В тази глава ще разгледаме част от възможностите на езика, които улесняват функционалното програмиране.</p>
</div>
<div class="sect2">
<h3 id="_функциите_са_граждани_първа_класа">8.1. Функциите са граждани първа класа</h3>
<div class="paragraph">
<p>Функциите/подпрограмите са граждани първа класа:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Могат да се подават като параметри</p>
</li>
<li>
<p>Могат да бъдат връщани от други функции</p>
</li>
<li>
<p>Могат да бъдат присвоявани като стойност на променливи</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Прекрасен пример е функцията <code>map</code>.<br>
<code>map</code> е <strong>функция от високо ниво</strong>, тя приема друга функция като параметър.</p>
</div>
<div class="listingblock">
<div class="title">Скрипт</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">my</span> <span class="tok-nv">@array</span> = <span class="tok-s">&lt;1 2 3 4 5&gt;</span>;
<span class="tok-k">sub</span> <span class="tok-n">squared</span>(<span class="tok-nv">$x</span>) {
  <span class="tok-nv">$x</span> ** <span class="tok-mi">2</span>
}
<span class="tok-nb">say</span> <span class="tok-n">map</span>(<span class="tok-nv">&amp;squared</span>,<span class="tok-nv">@array</span>);</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Изход</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span>(<span class="tok-mi">1</span> <span class="tok-mi">4</span> <span class="tok-mi">9</span> <span class="tok-mi">16</span> <span class="tok-mi">25</span>)</code></pre>
</div>
</div>
<div class="paragraph">
<div class="title">Обяснение</div>
<p>Създадохме подпрограма, наречена <code>squared</code>, която повдига на квадрат всяко подадено ѝ число.<br>
След това използувахме <code>map</code>, функция от високо ниво, и подадохме два параметъра - функция и масив.<br>
Изходът е списък от елементите на масива, повдигнати на квадрат.</p>
</div>
<div class="paragraph">
<p>Забележете, че когато подаваме функция като параметър, трябва да поставим пред името ѝ знака <code>&amp;</code>.</p>
</div>
</div>
<div class="sect2">
<h3 id="_безименни_функции">8.2. Безименни функции</h3>
<div class="paragraph">
<p><strong>Безименната функция</strong> се нарича още <strong>ламбда</strong>.<br>
Безименната функция не е обвързана с идентификатор (тя няма име).</p>
</div>
<div class="paragraph">
<p>Нека пренапишем примера с <code>map</code>, като използуваме безименна функция.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">my</span> <span class="tok-nv">@array</span> = <span class="tok-s">&lt;1 2 3 4 5&gt;</span>;
<span class="tok-nb">say</span> <span class="tok-n">map</span>(-&gt; <span class="tok-nv">$x</span> {<span class="tok-nv">$x</span> ** <span class="tok-mi">2</span>},<span class="tok-nv">@array</span>);</code></pre>
</div>
</div>
<div class="paragraph">
<p>Забележете, че вместо да обявяваме подпрограма и да я подаваме като параметър на
<code>map</code>, ние я създадохме направо в безименната подпрограма <code>-&gt; $x {$x ** 2}</code>.</p>
</div>
<div class="paragraph">
<p>На жаргона на Пърл 6 наричаме това записване <strong>остър блок</strong></p>
</div>
<div class="listingblock">
<div class="title">Остър блок може да се използува също за присвояване на функции на променливи:</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">my</span> <span class="tok-nv">$squared</span> = -&gt; <span class="tok-nv">$x</span> {
  <span class="tok-nv">$x</span> ** <span class="tok-mi">2</span>
}
<span class="tok-nb">say</span> <span class="tok-nv">$squared</span>(<span class="tok-mi">9</span>);</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_верижност_chaining">8.3. Верижност (Chaining)</h3>
<div class="paragraph">
<p>В Пърл 6 методите могат да бъдат извиквани верижно, така че да не се налага да
подавате изхода от един метод на друг.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Всяка вградена функция може да се използува и като метод върху обект. (Бел. прев.)
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Ето едно неверижно решение:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">my</span> <span class="tok-nv">@array</span> = <span class="tok-s">&lt;7 8 9 0 1 2 4 3 5 6 7 8 9&gt;</span>;
<span class="tok-k">my</span> <span class="tok-nv">@final-array</span> = <span class="tok-nb">reverse</span>(<span class="tok-nb">sort</span>(<span class="tok-nb">unique</span>(<span class="tok-nv">@array</span>)));
<span class="tok-nb">say</span> <span class="tok-nv">@final-array</span>;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Първо извикваме функцията <code>unique</code>, като ѝ подаваме <code>@array</code>. След това подаваме
изхода от нея на <code>sort</code> и накрая подаваме изхода от подреждането на
<code>reverse</code>.</p>
</div>
<div class="paragraph">
<p>Но можем да се възползваме от възможността за <strong>верижно извикване</strong> на методи и да
запишем примера по следния начин:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">my</span> <span class="tok-nv">@array</span> = <span class="tok-s">&lt;7 8 9 0 1 2 4 3 5 6 7 8 9&gt;</span>;
<span class="tok-k">my</span> <span class="tok-nv">@final-array</span> = <span class="tok-nv">@array</span>.<span class="tok-nb">unique</span>.<span class="tok-nb">sort</span>.<span class="tok-nb">reverse</span>;
<span class="tok-nb">say</span> <span class="tok-nv">@final-array</span>;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Вече виждате, че верижното извикване е <em>по-лесно за четене</em>.</p>
</div>
</div>
<div class="sect2">
<h3 id="_оператор_за_подаване">8.4. Оператор за подаване</h3>
<div class="paragraph">
<p><strong>Операторът за подаване</strong>, наричан <em>тръба</em> в някои езици за програмиране,
представя още по-добре верижното извикване.</p>
</div>
<div class="listingblock">
<div class="title">Подаване напред</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">my</span> <span class="tok-nv">@array</span> = <span class="tok-s">&lt;7 8 9 0 1 2 4 3 5 6 7 8 9&gt;</span>;
<span class="tok-nv">@array</span> ==&gt; <span class="tok-nb">unique</span>()
       ==&gt; <span class="tok-nb">sort</span>()
       ==&gt; <span class="tok-nb">reverse</span>()
       ==&gt; <span class="tok-k">my</span> <span class="tok-nv">@final-array</span>;
<span class="tok-nb">say</span> <span class="tok-nv">@final-array</span>;</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Обяснение</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-n">Тръгваме</span> <span class="tok-n">от</span> `<span class="tok-nv">@array</span>`, <span class="tok-n">след</span> <span class="tok-n">което</span> <span class="tok-n">връщаме</span> <span class="tok-n">списък</span> <span class="tok-n">с</span> <span class="tok-n">неповторими</span> <span class="tok-n">елементи</span>
                      <span class="tok-n">после</span> <span class="tok-n">ги</span> <span class="tok-n">подреждаме</span>,
                      <span class="tok-n">обръщаме</span> <span class="tok-n">реда</span> <span class="tok-n">им</span>
                      <span class="tok-n">и</span> <span class="tok-n">накрая</span> <span class="tok-n">съхраняваме</span> <span class="tok-n">изхода</span> <span class="tok-n">във</span> <span class="tok-nv">@final-array</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Виждате, че последователността на извикване на методите е отгоре надолу.</p>
</div>
<div class="listingblock">
<div class="title">Подаване назад</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">my</span> <span class="tok-nv">@array</span> = <span class="tok-s">&lt;7 8 9 0 1 2 4 3 5 6 7 8 9&gt;</span>;
<span class="tok-k">my</span> <span class="tok-nv">@final-array-v2</span> &lt;== <span class="tok-nb">reverse</span>()
                   &lt;== <span class="tok-nb">sort</span>()
                   &lt;== <span class="tok-nb">unique</span>()
                   &lt;== <span class="tok-nv">@array</span>;
<span class="tok-nb">say</span> <span class="tok-nv">@final-array-v2</span>;</code></pre>
</div>
</div>
<div class="paragraph">
<div class="title">Обяснение</div>
<p>Подаването назад е като подаването напред, но наобратно.<br>
Последователността на извикване на методите е отдолу нагоре – от последната към
първата стъпка.</p>
</div>
</div>
<div class="sect2">
<h3 id="_свръх_оператор">8.5. Свръх-оператор</h3>
<div class="paragraph">
<p><strong>Свръх-операторът</strong> (hyper operator) <code>&gt;&gt;.</code> ще извика даден метод върху всички елементи от един
списък и ще върне списък с резултатите.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">my</span> <span class="tok-nv">@array</span> = <span class="tok-s">&lt;0 1 2 3 4 5 6 7 8 9 10&gt;</span>;
<span class="tok-k">sub</span> <span class="tok-n">is-even</span>(<span class="tok-nv">$var</span>) { <span class="tok-nv">$var</span> %% <span class="tok-mi">2</span> };

<span class="tok-nb">say</span> <span class="tok-nv">@array</span>&gt;&gt;.<span class="tok-nb">is-prime</span>;
<span class="tok-nb">say</span> <span class="tok-nv">@array</span>&gt;&gt;.<span class="tok-nv">&amp;is-even</span>;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Можем да използуваме свръх-оператора и с вградените методи в Пърл 6, например
<code>is-prime</code>, който ни казва дали едно число е просто.<br>
Също така, можем да създаваме нови подпрограми и да ги извикваме чрез
свръх-оператора. В този случай трябва да поставим <code>&amp;</code> пред името на метода,
например <code>&amp;is-even</code>.</p>
</div>
<div class="paragraph">
<p>Това е много практично, тъй като ни освобождава от писането на цикли <code>for</code>, за
да обхождаме всяка стойност от масива.</p>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
Пърл 6 гарантира, че редът на изходите от работата на метода, извикан
чрез свръх-оператора, ще е същият като на входните стойности.<br>
Но <strong>няма гаранция</strong>, че Пърл 6 ще извика метода последователно, както е редът на
елементите, нито че извикването ще е в същата нишка.<br>
Така че, бъдете внимателни с методи, които имат странични ефекти като <code>say</code>
(където страничният ефект е показването на подадената стойност).
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_сливания">8.6. Сливания</h3>
<div class="paragraph">
<p><strong>Сливането</strong> (junction) е логическо съпоставяне на стойности.</p>
</div>
<div class="paragraph">
<p>В израза долу <code>1|2|3</code> е сливане.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">my</span> <span class="tok-nv">$var</span> = <span class="tok-mi">2</span>;
<span class="tok-k">if</span> <span class="tok-nv">$var</span> == <span class="tok-mi">1</span><span class="tok-o">|</span><span class="tok-mi">2</span><span class="tok-o">|</span><span class="tok-mi">3</span> {
  <span class="tok-nb">say</span> <span class="tok-s">&quot;Променливата има стойност 1 или 2 или 3&quot;</span>
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Използуването на сливания предизвиква <strong>автоматично създаване на нишки (autothreading)</strong>;
операцията се извършва за всеки елемент от сливането, като всички резултати са събрани в ново сливане и върнати.</p>
</div>
</div>
<div class="sect2">
<h3 id="_мързеливи_списъци">8.7. Мързеливи списъци</h3>
<div class="paragraph">
<p><strong>Мързелив списък</strong> е този, който е изчислен мързеливо.<br>
Мързеливо означава отлагане на изчислението на даден израз до момента, когато е
необходимо, и избягване повторение на изчислението, като се съхранява резултата
в паметта.</p>
</div>
<div class="paragraph">
<p>Ползите са:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Нарастване на производителността чрез избягване на излишни изчисления;</p>
</li>
<li>
<p>Възможността да се създават при необходимост безкрайни структури от данни;</p>
</li>
<li>
<p>Възможността да се управлява изпълнението.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>За да построим мързелив списък, използуваме вмъкнатия оператор <code>&#8230;&#8203;</code>.<br>
Мързеливият списък има <strong>начален(лни) елемент(и)</strong>, <strong>генератор</strong> (начин за
създаване на списъка – бел. прев.) и <strong>край</strong>.</p>
</div>
<div class="listingblock">
<div class="title">Примерен мързелив списък</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">my</span> <span class="tok-nv">$lazylist</span> = (<span class="tok-mi">1</span> ... <span class="tok-mi">10</span>);
<span class="tok-nb">say</span> <span class="tok-nv">$lazylist</span>;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Началният елемент е 1, а крайният е 10. Не е определен генератор за създаване
на списъка, така че се използува подразбиращият се генератор – последователно
нарастване с единица (+1)<br>
С други думи, този мързелив списък (ако е необходимо) ще върне следните
елементи (1, 2, 3, 4, 5, 6, 7, 8, 9, 10)</p>
</div>
<div class="listingblock">
<div class="title">Безкраен мързелив списък</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">my</span> <span class="tok-nv">$lazylist</span> = (<span class="tok-mi">1</span> ... <span class="tok-n">Inf</span>);
<span class="tok-nb">say</span> <span class="tok-nv">$lazylist</span>;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Този списък може да върне (ако е необходимо) всяко цяло число между 1 и
безкрайност, т.е. всяко цяло число.</p>
</div>
<div class="listingblock">
<div class="title">Мързелив списък, построен чрез изведен генератор</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">my</span> <span class="tok-nv">$lazylist</span> = (<span class="tok-mi">0</span>,<span class="tok-mi">2</span> ... <span class="tok-mi">10</span>);
<span class="tok-nb">say</span> <span class="tok-nv">$lazylist</span>;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Първоначалните елементи са 0 и 2, а крайният елемент – 10.  Не е определен
генератор, но Пърл 6 ще изведе генератора от първоначалните елементи (+2).
Този мързелив списък може да върне (ако е необходимо) елементите (0, 2, 4, 6,
8, 10).</p>
</div>
<div class="listingblock">
<div class="title">Мързелив списък, построен чрез определен генератор.</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">my</span> <span class="tok-nv">$мързел-списък</span> = (<span class="tok-mi">0</span>, { <span class="tok-nv">$_</span> + <span class="tok-mi">3</span> } ... <span class="tok-mi">12</span>);
<span class="tok-nb">say</span> <span class="tok-nv">$мързел-списък</span>;</code></pre>
</div>
</div>
<div class="paragraph">
<p>В този пример определихме изрично генератор, ограден с <code>{ }</code>.<br>
Този списък би върнал (ако е нужно) елементите (0, 3, 6, 9, 12).</p>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Ако използуваме изрично зададен генератор, крайният елемент трябва да е стойност,
която е възможно да бъде върната от генератора.<br>
Ако възпроизведем примера горе с краен елемент 10 вместо 12, генераторът няма да спре.
Генераторът ще <em>прескочи</em> крайният елемент.</p>
</div>
<div class="paragraph">
<p>Може да заместите <code>0 &#8230;&#8203; 10</code> с <code>0 &#8230;&#8203;^ * &gt; 10</code><br>
Чете се по следния начин: От 0 до първата стойност по-голяма от 10 (но без нея).</p>
</div>
<div class="listingblock">
<div class="title">Това няма да спре генератора</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">my</span> <span class="tok-nv">$lazylist</span> = (<span class="tok-mi">0</span>, { <span class="tok-nv">$_</span> + <span class="tok-mi">3</span> } ... <span class="tok-mi">10</span>);
<span class="tok-nb">say</span> <span class="tok-nv">$lazylist</span>;</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Това ще спре генератора</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">my</span> <span class="tok-nv">$lazylist</span> = (<span class="tok-mi">0</span>, { <span class="tok-nv">$_</span> + <span class="tok-mi">3</span> } ...^ * &gt; <span class="tok-mi">10</span>);
<span class="tok-nb">say</span> <span class="tok-nv">$lazylist</span>;</code></pre>
</div>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_затваряния">8.8. Затваряния</h3>
<div class="paragraph">
<p>Всички съставени от код обекти в Пърл 6 са <strong>затваряния</strong> (closures). Това
означава, че те могат да се обръщат към лексикални (частни) променливи от
заобикалящия ги блок.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">sub</span> <span class="tok-n">generate-greeting</span> {
    <span class="tok-k">my</span> <span class="tok-nv">$name</span> = <span class="tok-s">&quot;John Doe&quot;</span>;
    <span class="tok-k">sub</span> <span class="tok-n">greeting</span> {
      <span class="tok-nb">say</span> <span class="tok-s">&quot;Good Morning $name&quot;</span>;
    };
    <span class="tok-k">return</span> <span class="tok-nv">&amp;greeting</span>;
}
<span class="tok-k">my</span> <span class="tok-nv">$generated</span> = <span class="tok-n">generate-greeting</span>;
<span class="tok-nv">$generated</span>();</code></pre>
</div>
</div>
<div class="paragraph">
<p>Ако изпълните горния код, той ще изпише <code>Good Morning John Doe</code> в терминала.<br>
Изходът от изпълнението е прост, но интересното в примера е, че вътрешната
подпрограма <code>greeting</code> бива върната от външната, преди да е изпълнена.</p>
</div>
<div class="paragraph">
<p><code>$generated</code> е <strong>затваряне</strong>.</p>
</div>
<div class="paragraph">
<p><strong>Затварянето</strong> е специален обект, съчетаващ две неща:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Подпрограма;</p>
</li>
<li>
<p>Обкръжението, в което подпрограмата е създадена.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Обкръжението се състои от всички локални променливи, които са били достъпни по
време на създаване на подпрограмата. В този случай <code>$generated</code> е затваряне,
което включва в себе си подпрограмата <code>greeting</code> и низа <code>John Doe</code>, който
съществуваше, когато подпрограмата бе създадена.</p>
</div>
<div class="paragraph">
<p>Да видим и по-интересен пример.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">sub</span> <span class="tok-n">greeting-generator</span>(<span class="tok-nv">$period</span>) {
  <span class="tok-k">return</span> <span class="tok-k">sub</span> (<span class="tok-nv">$name</span>) {
    <span class="tok-k">return</span> <span class="tok-s">&quot;Good $period $name&quot;</span>
  }
}
<span class="tok-k">my</span> <span class="tok-nv">$morning</span> = <span class="tok-n">greeting-generator</span>(<span class="tok-s">&quot;Morning&quot;</span>);
<span class="tok-k">my</span> <span class="tok-nv">$evening</span> = <span class="tok-n">greeting-generator</span>(<span class="tok-s">&quot;Evening&quot;</span>);

<span class="tok-nb">say</span> <span class="tok-nv">$morning</span>(<span class="tok-s">&quot;John&quot;</span>);
<span class="tok-nb">say</span> <span class="tok-nv">$evening</span>(<span class="tok-s">&quot;Jane&quot;</span>);</code></pre>
</div>
</div>
<div class="paragraph">
<p>В този пример създадохме подпрограма <code>greeting-generator($period)</code>, която
приема един аргумент <code>$period</code> и връща нова подпрограма. Върнатата подпрограма
приема един аргумент <code>$name</code> и връща съставения поздрав.</p>
</div>
<div class="paragraph">
<p>Всъщност, <code>greeting-generator</code> е "фабрика" за подпрограми. В този пример
използвахме <code>greeting-generator</code>, за да създадем две подпрограми. Едната казва
<code>Good Morning</code>, а другата – <code>Good Evening</code>.</p>
</div>
<div class="paragraph">
<p><code>$morning</code> и <code>$evening</code> са затваряния. Те са създадени по един и същи начин, но съхраняват различно обкръжение.<br>
В обкръжението на <code>$morning</code> <code>$period</code> е <code>Morning</code>. В обкръжението на <code>$evening</code> <code>$period</code> е <code>Evening</code>.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_класове_и_обекти">9. Класове и обекти</h2>
<div class="sectionbody">
<div class="paragraph">
<p>В предишната глава научихме как Пърл 6 улеснява функционалното програмиране.
В тази глава ще разгледаме обектно-ориентираното програмиране в Пърл 6.</p>
</div>
<div class="sect2">
<h3 id="_въведение">9.1. Въведение</h3>
<div class="paragraph">
<p><em>Обектно-ориентираното</em> програмиране е една от широко използуваните парадигми
напоследък.  <strong>Обектът</strong> е набор от променливи и подпрограми, събрани заедно.
Променливите се наричат <strong>атрибути (член-променливи)</strong>, а подпрограмите –
<strong>методи</strong>. Атрибутите определят <strong>състоянието</strong>, а методите определят
<strong>поведението</strong> на обекта.</p>
</div>
<div class="paragraph">
<p><strong>Класът</strong> е образец (шаблон) за създаване на <strong>обекти</strong>.<br></p>
</div>
<div class="paragraph">
<p>За да разберем взаимовръзката, нека разгледаме следния пример:<br>
(Превеждам и програмния код на български, просто защото е възможно и той ще
работи. Не е ли това прекрасно? Пробвайте го в конзолата. Бел. прев.)</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">В една стая има четирима души.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>обекти</strong> &#8658; 4 човека</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Тези четирима души са Човеци</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Клас</strong> &#8658; Човек</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Те имат различни имена, възраст, пол и народност.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>атрибути</strong> &#8658; име, възраст, пол, народност</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>На <em>обектно-ориентиран</em> жаргон казваме, че обектите са <strong>инстанции</strong> (отделни случаи) на един клас.</p>
</div>
<div class="paragraph">
<p>Да разгледаме следния скрипт:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">class</span> <span class="tok-n">Човек</span> {
  <span class="tok-k">has</span> <span class="tok-nv">$.име</span>;
  <span class="tok-k">has</span> <span class="tok-nv">$.възраст</span>;
  <span class="tok-k">has</span> <span class="tok-nv">$.пол</span>;
  <span class="tok-k">has</span> <span class="tok-nv">$.народност</span>;
}

<span class="tok-k">my</span> <span class="tok-nv">$иван</span> = <span class="tok-n">Човек</span>.<span class="tok-nb">new</span>(<span class="tok-n">име</span> =&gt; <span class="tok-s">&#39;Иван&#39;</span>, <span class="tok-n">възраст</span> =&gt; <span class="tok-mi">23</span>, <span class="tok-n">пол</span> =&gt; <span class="tok-s">&#39;М&#39;</span>, <span class="tok-n">народност</span> =&gt; <span class="tok-s">&#39;българин&#39;</span>);
<span class="tok-nb">say</span> <span class="tok-nv">$иван</span>;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Ключовата дума <code>class</code> се използува за определяне на класа.<br>
Ключовата дума <code>has</code> (има) се използува, за да определи член-променливите на класа.<br>
Методът <code>.new()</code> се нарича <strong>конструктор</strong>. Той създава обекта като отделен
случай на класа, върху който е извикан.</p>
</div>
<div class="paragraph">
<p>В скрипта горе <code>$иван</code> съдържа указател към нов случай на "Човек", определен чрез <code>Човек.new()</code>.<br>
Параметрите, подадени на метода <code>.new()</code>, се използуват за определяне членовете на новосъздадения обект.</p>
</div>
<div class="paragraph">
<p>На класа може да се даде <em>лексикална видимост</em>, като се използува <code>my</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">my</span> <span class="tok-k">class</span> <span class="tok-n">Human</span> {

}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_капсулиране">9.2. Капсулиране</h3>
<div class="paragraph">
<p>Капсулирането (Encapsulation) е понятие в обектно-ориентираното програмиране,
което групира набор от данни и методи заедно. Данните (атрибути) трябва да са
<strong>частни</strong>, тоест, достъпни само от вътрешността на обекта. За достъп до данните
се използуват методи, наречени <strong>аксесори</strong> (от access – достъп, бел. прев.).</p>
</div>
<div class="paragraph">
<p>Двата скрипта долу имат един и същ изход.</p>
</div>
<div class="listingblock">
<div class="title">Непосредствен достъп до променливата:</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">my</span> <span class="tok-nv">$var</span> = <span class="tok-mi">7</span>;
<span class="tok-nb">say</span> <span class="tok-nv">$var</span>;</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Капсулиране:</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">my</span> <span class="tok-nv">$var</span> = <span class="tok-mi">7</span>;
<span class="tok-k">sub</span> <span class="tok-n">sayvar</span> {
  <span class="tok-nv">$var</span>;
}
<span class="tok-nb">say</span> <span class="tok-n">sayvar</span>;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Методът <code>sayvar</code> е аксесор. Той опосредства достъпа до променливата, без да имаме пряк достъп до нея.</p>
</div>
<div class="paragraph">
<p>Капсулирането е улеснено в Пърл 6 чрез използуването на <strong>втори знак</strong>
(<strong>twigil</strong>).  Вторият знак е вторичен <em>сиджил</em>. Той се поставя между първия знак
и името на атрибута.<br>
Два вида втори знак се използуват в класовете:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>!</code> се използува за изрично указване, че член-променливата е частна.</p>
</li>
<li>
<p><code>.</code> се използува за автоматично създаване на аксесор на член-променливата.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>По подразбиране всички член-променливи са частни, но е добър навик винаги да се
ползва <code>!</code> като втори знак.</p>
</div>
<div class="paragraph">
<p>Затова, трябва да пренапишем горния клас както следва:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">class</span> <span class="tok-n">Human</span> {
  <span class="tok-k">has</span> <span class="tok-nv">$!name</span>;
  <span class="tok-k">has</span> <span class="tok-nv">$!age</span>;
  <span class="tok-k">has</span> <span class="tok-nv">$!sex</span>;
  <span class="tok-k">has</span> <span class="tok-nv">$!nationality</span>;
}

<span class="tok-k">my</span> <span class="tok-nv">$john</span> = <span class="tok-n">Human</span>.<span class="tok-nb">new</span>(<span class="tok-nb">name</span> =&gt; <span class="tok-s">&#39;John&#39;</span>, <span class="tok-n">age</span> =&gt; <span class="tok-mi">23</span>, <span class="tok-n">sex</span> =&gt; <span class="tok-s">&#39;M&#39;</span>, <span class="tok-n">nationality</span> =&gt; <span class="tok-s">&#39;American&#39;</span>);
<span class="tok-nb">say</span> <span class="tok-nv">$john</span>;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Добавете в скрипта следния израз: <code>say $john.age;</code><br>
Ще получим съобщение за грешка: <code>Method 'age' not found for invocant of class
'Human'</code> – <code>Методът 'age' не е намерен за извикващия на класа 'Human'</code><br>
Причината е, че <code>$!age</code> като частна може да бъде ползувана само вътре в обекта.
Опитвайки се да я достъпим отвън, получаваме грешка.</p>
</div>
<div class="paragraph">
<p>Сега заместете <code>has $!age</code> с <code>has $.age</code> и вижте изхода при изпълнение на <code>say $john.age;</code></p>
</div>
</div>
<div class="sect2">
<h3 id="_именувани_и_позиционни_параметри">9.3. Именувани и позиционни параметри</h3>
<div class="paragraph">
<p>В Пърл 6 всички класове наследяват готов конструктор <code>.new()</code>.<br>
Той може да бъде използуван за създаване на обекти, като му се подават параметри.<br>
На готовия конструктор могат да се подават само <strong>именувани параметри</strong>.<br>
В предишния пример, ще видите, че всички параметри, подадени на
<code>.new()</code>, са именувани.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>name =&gt; 'John'</code></p>
</li>
<li>
<p><code>age =&gt; 23</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Какво, ако не искаме да подаваме името на всеки атрибут, когато създаваме обект?<br>
Тогава трябва да създадем конструктор, който приема <strong>позиционни параметри</strong>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">class</span> <span class="tok-n">Human</span> {
  <span class="tok-k">has</span> <span class="tok-nv">$.name</span>;
  <span class="tok-k">has</span> <span class="tok-nv">$.age</span>;
  <span class="tok-k">has</span> <span class="tok-nv">$.sex</span>;
  <span class="tok-k">has</span> <span class="tok-nv">$.nationality</span>;
  <span class="tok-c1"># нов конструктор, който презаписва подразбиращия се.</span>
  <span class="tok-k">method</span> <span class="tok-nb">new</span> (<span class="tok-nv">$name</span>,<span class="tok-nv">$age</span>,<span class="tok-nv">$sex</span>,<span class="tok-nv">$nationality</span>) {
    <span class="tok-nb">self</span>.<span class="tok-nb">bless</span>(:<span class="tok-nv">$name</span>,:<span class="tok-nv">$age</span>,:<span class="tok-nv">$sex</span>,:<span class="tok-nv">$nationality</span>);
  }
}

<span class="tok-k">my</span> <span class="tok-nv">$john</span> = <span class="tok-n">Human</span>.<span class="tok-nb">new</span>(<span class="tok-s">&#39;John&#39;</span>,<span class="tok-mi">23</span>,<span class="tok-s">&#39;M&#39;</span>,<span class="tok-s">&#39;American&#39;</span>);
<span class="tok-nb">say</span> <span class="tok-nv">$john</span>;</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_методи">9.4. Методи</h3>
<div class="sect3">
<h4 id="_въведение_2">9.4.1. Въведение</h4>
<div class="paragraph">
<p>Методите са <em>подпрограмите</em> на обекта.<br>
Както подпрограмите, те са средство за събиране на функционалност на едно
място и именуването ѝ. Те приемат <strong>параметри</strong>, имат <strong>сигнатура</strong> и могат да
бъдат създадени като <strong>multi</strong>.</p>
</div>
<div class="paragraph">
<p>Методите се създават с помощта на ключовата дума <code>method</code>.<br>
В общия случай методите се създават, за да извършват някакви действия върху атрибутите на обекта.
Това спомага за капсулирането. Атрибутите могат да бъдат променяни само в обекта, чрез използуване на методи.
Външният свят може да достъпва само методите и няма достъп до атрибутите.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">class</span> <span class="tok-n">Human</span> {
  <span class="tok-k">has</span> <span class="tok-nv">$.name</span>;
  <span class="tok-k">has</span> <span class="tok-nv">$.age</span>;
  <span class="tok-k">has</span> <span class="tok-nv">$.sex</span>;
  <span class="tok-k">has</span> <span class="tok-nv">$.nationality</span>;
  <span class="tok-k">has</span> <span class="tok-nv">$.eligible</span>;
  <span class="tok-k">method</span> <span class="tok-n">assess-eligibility</span> {
      <span class="tok-k">if</span> <span class="tok-nb">self</span>.<span class="tok-n">age</span> &lt; <span class="tok-mi">21</span> {
        <span class="tok-nv">$!eligible</span> = <span class="tok-s">&#39;No&#39;</span>
      } <span class="tok-k">else</span> {
        <span class="tok-nv">$!eligible</span> = <span class="tok-s">&#39;Yes&#39;</span>
      }
  }

}

<span class="tok-k">my</span> <span class="tok-nv">$john</span> = <span class="tok-n">Human</span>.<span class="tok-nb">new</span>(<span class="tok-nb">name</span> =&gt; <span class="tok-s">&#39;John&#39;</span>, <span class="tok-n">age</span> =&gt; <span class="tok-mi">23</span>, <span class="tok-n">sex</span> =&gt; <span class="tok-s">&#39;M&#39;</span>, <span class="tok-n">nationality</span> =&gt; <span class="tok-s">&#39;American&#39;</span>);
<span class="tok-nv">$john</span>.<span class="tok-n">assess-eligibility</span>;
<span class="tok-nb">say</span> <span class="tok-nv">$john</span>.<span class="tok-n">eligible</span>;</code></pre>
</div>
</div>
<div class="paragraph">
<p>След като създадем методите в даден клас, те могат да бъдат извиквани върху обект
на този клас чрез използуването на <em>точка</em>:<br>
<em>обект</em> <strong>.</strong> <em>метод</em>, както е в горния пример: <code>$john.assess-eligibility</code></p>
</div>
<div class="paragraph">
<p>Ако искаме да достъпим обекта в тялото на метода, за да извикаме друг метод,
ползуваме ключовата дума <code>self</code>.<br></p>
</div>
<div class="paragraph">
<p>Ако искаме да достъпим член-променлива в тялото на метод, използуваме втория
знак <code>!</code>, дори ако при създаването му сме ползували знака <code>.</code>.<br>
Това е така, защото <code>.</code> създава атрибут с <code>!</code> и автоматично създава негов аксесор.</p>
</div>
<div class="paragraph">
<p>В горния пример <code>if self.age &lt; 21</code> и <code>if $!age &lt; 21</code> правят едно и също нещо,
въпреки че чисто технически са различни:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>self.age</code> извиква метода (аксесор) <code>.age</code><br>
Може да бъде записан и като <code>$.age</code>;</p>
</li>
<li>
<p><code>$!age</code> представлява непосредствено извикване на член-променливата.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_частни_методи">9.4.2. Частни методи</h4>
<div class="paragraph">
<p>Обикновено методите могат да се извикват от външното обкръжение на класа.</p>
</div>
<div class="paragraph">
<p><strong>Частните методи</strong> могат да се извикват само докато сме вътре в класа.<br>
Възможен случай е метод, който извиква друг метод, за да извърши някакво
специфично действие. Методът, който взаимодейства с външния свят, е публичен,
докато този, който се извиква вътре в него, трябва да си бъде частен. Не искаме
потребителите на нашия клас да го използуват непосредствено и затова го
обявяваме като частен.</p>
</div>
<div class="paragraph">
<p>За да обявим частен метод, използуваме знака <code>!</code> пред името му.<br>
Частните методи се извикват чрез <code>!</code> вместо <code>.</code></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">method</span> !<span class="tok-n">азсъмчастен</span> {
  <span class="tok-c1"># тук си пишем програмния код</span>
}

<span class="tok-k">method</span> <span class="tok-n">азсъмпубличен</span> {
  <span class="tok-nb">self</span><span class="tok-o">!</span><span class="tok-n">азсъмчастен</span>;
  <span class="tok-c1"># правим още нещо</span>
}</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_атрибути_на_клас">9.5. Атрибути на клас</h3>
<div class="paragraph">
<p><strong>Клас-атрибутите</strong> са такива, които принадлежат на класа, а не на обекта, създаден от него.<br>
На тях могат да им се дават стойности при обявяването им.<br>
Клас-атрибутите се обявяват с помощта на <code>my</code>, вместо <code>has</code>.<br>
Те се извикват непосредствено върху класа, вместо върху обектите.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">class</span> <span class="tok-n">Human</span> {
  <span class="tok-k">has</span> <span class="tok-nv">$.name</span>;
  <span class="tok-k">my</span> <span class="tok-nv">$.counter</span> = <span class="tok-mi">0</span>;
  <span class="tok-k">method</span> <span class="tok-nb">new</span>(<span class="tok-nv">$name</span>) {
    <span class="tok-n">Human</span>.<span class="tok-n">counter</span>++;
    <span class="tok-nb">self</span>.<span class="tok-nb">bless</span>(:<span class="tok-nv">$name</span>);
  }
}
<span class="tok-k">my</span> <span class="tok-nv">$a</span> = <span class="tok-n">Human</span>.<span class="tok-nb">new</span>(<span class="tok-s">&#39;a&#39;</span>);
<span class="tok-k">my</span> <span class="tok-nv">$b</span> = <span class="tok-n">Human</span>.<span class="tok-nb">new</span>(<span class="tok-s">&#39;b&#39;</span>);

<span class="tok-nb">say</span> <span class="tok-n">Human</span>.<span class="tok-n">counter</span>;</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_тип_на_достъпа">9.6. Тип на достъпа</h3>
<div class="paragraph">
<p>Дотук във всички примери използувахме атрибутите само за да <strong>вземем</strong> информация за обектите.</p>
</div>
<div class="paragraph">
<p>Как да променим стойността на някой атрибут?<br>
Трябва да го означим като променяем <em>за-писане/за-четене</em> чрез ключовите думи <code>is rw</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">class</span> <span class="tok-n">Human</span> {
  <span class="tok-k">has</span> <span class="tok-nv">$.name</span>;
  <span class="tok-k">has</span> <span class="tok-nv">$.age</span> <span class="tok-k">is</span> <span class="tok-k">rw</span>;
}
<span class="tok-k">my</span> <span class="tok-nv">$john</span> = <span class="tok-n">Human</span>.<span class="tok-nb">new</span>(<span class="tok-nb">name</span> =&gt; <span class="tok-s">&#39;John&#39;</span>, <span class="tok-n">age</span> =&gt; <span class="tok-mi">21</span>);
<span class="tok-nb">say</span> <span class="tok-nv">$john</span>.<span class="tok-n">age</span>;

<span class="tok-nv">$john</span>.<span class="tok-n">age</span> = <span class="tok-mi">23</span>;
<span class="tok-nb">say</span> <span class="tok-nv">$john</span>.<span class="tok-n">age</span>;</code></pre>
</div>
</div>
<div class="paragraph">
<p>По подразбиране всички атрибути се обявяват като <em>само за четене</em>, но можете и
изрично да зададете <code>is readonly</code>.</p>
</div>
</div>
<div class="sect2">
<h3 id="_наследяване">9.7. Наследяване</h3>
<div class="sect3">
<h4 id="_въведение_3">9.7.1. Въведение</h4>
<div class="paragraph">
<p><strong>Наследяването</strong>  е друго понятие в обектно-ориентираното програмиране.</p>
</div>
<div class="paragraph">
<p>Когато създаваме класове, бързо установяваме, че някои атрибути и методи се повтарят в много от тях.<br>
Трябва ли да дублираме код?<br>
Не! Трябва да ползуваме <strong>наследяване</strong>.</p>
</div>
<div class="paragraph">
<p>Нека си представим, че искаме да създадем два класа – един за Човек и един за Служител.<br>
Човек има два атрибута: име и възраст.<br>
Служител има четири атрибута: име, възраст, компания и заплата.</p>
</div>
<div class="paragraph">
<p>Изкушени сте да създадете класовете така:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">class</span> <span class="tok-n">Human</span> {
  <span class="tok-k">has</span> <span class="tok-nv">$.name</span>;
  <span class="tok-k">has</span> <span class="tok-nv">$.age</span>;
}

<span class="tok-k">class</span> <span class="tok-n">Employee</span> {
  <span class="tok-k">has</span> <span class="tok-nv">$.name</span>;
  <span class="tok-k">has</span> <span class="tok-nv">$.age</span>;
  <span class="tok-k">has</span> <span class="tok-nv">$.company</span>;
  <span class="tok-k">has</span> <span class="tok-nv">$.salary</span>;
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Въпреки че технически погледнато това е правилен код, той е беден като замисъл.</p>
</div>
<div class="paragraph">
<p>По-добър би бил следния вариант:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">class</span> <span class="tok-n">Human</span> {
  <span class="tok-k">has</span> <span class="tok-nv">$.name</span>;
  <span class="tok-k">has</span> <span class="tok-nv">$.age</span>;
}

<span class="tok-k">class</span> <span class="tok-n">Employee</span> <span class="tok-k">is</span> <span class="tok-n">Human</span> {
  <span class="tok-k">has</span> <span class="tok-nv">$.company</span>;
  <span class="tok-k">has</span> <span class="tok-nv">$.salary</span>;
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Ключовата дума <code>is</code> (3 л. ед. ч. на глагола "съм" – бел. прев.) определя наследяването.<br>
На обектно-ориентиран жаргон казваме, че Employee е <strong>дъщерен</strong> клас на Human, и
че Human е <strong>родителски</strong> за Employee.</p>
</div>
<div class="paragraph">
<p>Всички дъщерни класове наследяват атрибутите и методите на родителския клас,
така че няма нужда да ги създаваме наново.</p>
</div>
</div>
<div class="sect3">
<h4 id="_презаписване">9.7.2. Презаписване</h4>
<div class="paragraph">
<p>Класовете наследяват всички атрибути и методи от родителските класове. Има
случаи обаче, когато искаме някой метод в дъщерния клас да има различно от наследеното
поведение. За да постигнем това, ние го създаваме наново в
дъщерния клас.<br>
Това се нарича <strong>презаписване</strong> (<strong>overriding</strong>).</p>
</div>
<div class="paragraph">
<p>В примера долу методът <code>introduce-yourself</code> е наследен от класа Employee.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">class</span> <span class="tok-n">Human</span> {
  <span class="tok-k">has</span> <span class="tok-nv">$.name</span>;
  <span class="tok-k">has</span> <span class="tok-nv">$.age</span>;
  <span class="tok-k">method</span> <span class="tok-n">introduce-yourself</span> {
    <span class="tok-nb">say</span> <span class="tok-s">&#39;Hi I am a human being, my name is &#39;</span> ~ <span class="tok-nb">self</span>.<span class="tok-nb">name</span>;
  }
}

<span class="tok-k">class</span> <span class="tok-n">Employee</span> <span class="tok-k">is</span> <span class="tok-n">Human</span> {
  <span class="tok-k">has</span> <span class="tok-nv">$.company</span>;
  <span class="tok-k">has</span> <span class="tok-nv">$.salary</span>;
}

<span class="tok-k">my</span> <span class="tok-nv">$john</span> = <span class="tok-n">Human</span>.<span class="tok-nb">new</span>(<span class="tok-nb">name</span> =&gt;<span class="tok-s">&#39;John&#39;</span>, <span class="tok-n">age</span> =&gt; <span class="tok-mi">23</span>,);
<span class="tok-k">my</span> <span class="tok-nv">$jane</span> = <span class="tok-n">Employee</span>.<span class="tok-nb">new</span>(<span class="tok-nb">name</span> =&gt;<span class="tok-s">&#39;Jane&#39;</span>, <span class="tok-n">age</span> =&gt; <span class="tok-mi">25</span>, <span class="tok-n">company</span> =&gt; <span class="tok-s">&#39;Acme&#39;</span>, <span class="tok-n">salary</span> =&gt; <span class="tok-mi">4000</span>);

<span class="tok-nv">$john</span>.<span class="tok-n">introduce-yourself</span>;
<span class="tok-nv">$jane</span>.<span class="tok-n">introduce-yourself</span>;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Презаписването се прави така:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">class</span> <span class="tok-n">Human</span> {
  <span class="tok-k">has</span> <span class="tok-nv">$.name</span>;
  <span class="tok-k">has</span> <span class="tok-nv">$.age</span>;
  <span class="tok-k">method</span> <span class="tok-n">introduce-yourself</span> {
    <span class="tok-nb">say</span> <span class="tok-s">&#39;Hi I am a human being, my name is &#39;</span> ~ <span class="tok-nb">self</span>.<span class="tok-nb">name</span>;
  }
}

<span class="tok-k">class</span> <span class="tok-n">Employee</span> <span class="tok-k">is</span> <span class="tok-n">Human</span> {
  <span class="tok-k">has</span> <span class="tok-nv">$.company</span>;
  <span class="tok-k">has</span> <span class="tok-nv">$.salary</span>;
  <span class="tok-k">method</span> <span class="tok-n">introduce-yourself</span> {
    <span class="tok-nb">say</span> <span class="tok-s">&#39;Hi I am a employee, my name is &#39;</span> ~ <span class="tok-nb">self</span>.<span class="tok-nb">name</span> ~ <span class="tok-s">&#39; and I work at: &#39;</span> ~ <span class="tok-nb">self</span>.<span class="tok-n">company</span>;
  }

}

<span class="tok-k">my</span> <span class="tok-nv">$john</span> = <span class="tok-n">Human</span>.<span class="tok-nb">new</span>(<span class="tok-nb">name</span> =&gt;<span class="tok-s">&#39;John&#39;</span>,<span class="tok-n">age</span> =&gt; <span class="tok-mi">23</span>,);
<span class="tok-k">my</span> <span class="tok-nv">$jane</span> = <span class="tok-n">Employee</span>.<span class="tok-nb">new</span>(<span class="tok-nb">name</span> =&gt;<span class="tok-s">&#39;Jane&#39;</span>,<span class="tok-n">age</span> =&gt; <span class="tok-mi">25</span>,<span class="tok-n">company</span> =&gt; <span class="tok-s">&#39;Acme&#39;</span>,<span class="tok-n">salary</span> =&gt; <span class="tok-mi">4000</span>);

<span class="tok-nv">$john</span>.<span class="tok-n">introduce-yourself</span>;
<span class="tok-nv">$jane</span>.<span class="tok-n">introduce-yourself</span>;</code></pre>
</div>
</div>
<div class="paragraph">
<p>В зависимост от това, от кой клас е създаден обектът, ще бъде изпълнен съответният метод.</p>
</div>
</div>
<div class="sect3">
<h4 id="_подметоди">9.7.3. Подметоди</h4>
<div class="paragraph">
<p><strong>Подметодите</strong> са такива методи, които не се наследяват от дъщерните класове.<br>
Те са достъпни само в класа, в който са създадени.<br>
Те се създават с помощта на ключовата дума <code>submethod</code>.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_множествено_наследяване">9.8. Множествено наследяване</h3>
<div class="paragraph">
<p>Пърл 6 поддържа множествено наследяване. Един клас може да наследява
множество класове.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">class</span> <span class="tok-n">bar-chart</span> {
  <span class="tok-k">has</span> <span class="tok-nb">Int</span> <span class="tok-nv">@.bar-values</span>;
  <span class="tok-k">method</span> <span class="tok-n">plot</span> {
    <span class="tok-nb">say</span> <span class="tok-nv">@.bar-values</span>;
  }
}

<span class="tok-k">class</span> <span class="tok-n">line-chart</span> {
  <span class="tok-k">has</span> <span class="tok-nb">Int</span> <span class="tok-nv">@.line-values</span>;
  <span class="tok-k">method</span> <span class="tok-n">plot</span> {
    <span class="tok-nb">say</span> <span class="tok-nv">@.line-values</span>;
  }
}

<span class="tok-k">class</span> <span class="tok-n">combo-chart</span> <span class="tok-k">is</span> <span class="tok-n">bar-chart</span> <span class="tok-k">is</span> <span class="tok-n">line-chart</span> {
}

<span class="tok-k">my</span> <span class="tok-nv">$actual-sales</span> = <span class="tok-n">bar-chart</span>.<span class="tok-nb">new</span>(<span class="tok-n">bar-values</span> =&gt; [<span class="tok-mi">10</span>,<span class="tok-mi">9</span>,<span class="tok-mi">11</span>,<span class="tok-mi">8</span>,<span class="tok-mi">7</span>,<span class="tok-mi">10</span>]);
<span class="tok-k">my</span> <span class="tok-nv">$forecast-sales</span> = <span class="tok-n">line-chart</span>.<span class="tok-nb">new</span>(<span class="tok-n">line-values</span> =&gt; [<span class="tok-mi">9</span>,<span class="tok-mi">8</span>,<span class="tok-mi">10</span>,<span class="tok-mi">7</span>,<span class="tok-mi">6</span>,<span class="tok-mi">9</span>]);

<span class="tok-k">my</span> <span class="tok-nv">$actual-vs-forecast</span> = <span class="tok-n">combo-chart</span>.<span class="tok-nb">new</span>(<span class="tok-n">bar-values</span> =&gt; [<span class="tok-mi">10</span>,<span class="tok-mi">9</span>,<span class="tok-mi">11</span>,<span class="tok-mi">8</span>,<span class="tok-mi">7</span>,<span class="tok-mi">10</span>],
                                         <span class="tok-n">line-values</span> =&gt; [<span class="tok-mi">9</span>,<span class="tok-mi">8</span>,<span class="tok-mi">10</span>,<span class="tok-mi">7</span>,<span class="tok-mi">6</span>,<span class="tok-mi">9</span>]);
<span class="tok-nb">say</span> <span class="tok-s">&quot;Actual sales:&quot;</span>;
<span class="tok-nv">$actual-sales</span>.<span class="tok-n">plot</span>;
<span class="tok-nb">say</span> <span class="tok-s">&quot;Forecast sales:&quot;</span>;
<span class="tok-nv">$forecast-sales</span>.<span class="tok-n">plot</span>;
<span class="tok-nb">say</span> <span class="tok-s">&quot;Actual vs Forecast:&quot;</span>;
<span class="tok-nv">$actual-vs-forecast</span>.<span class="tok-n">plot</span>;</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title"><code>Изход</code></div>
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-n">Actual</span> <span class="tok-n">sales:</span>
[<span class="tok-mi">10</span> <span class="tok-mi">9</span> <span class="tok-mi">11</span> <span class="tok-mi">8</span> <span class="tok-mi">7</span> <span class="tok-mi">10</span>]
<span class="tok-n">Forecast</span> <span class="tok-n">sales:</span>
[<span class="tok-mi">9</span> <span class="tok-mi">8</span> <span class="tok-mi">10</span> <span class="tok-mi">7</span> <span class="tok-mi">6</span> <span class="tok-mi">9</span>]
<span class="tok-n">Actual</span> <span class="tok-n">vs</span> <span class="tok-n">Forecast:</span>
[<span class="tok-mi">10</span> <span class="tok-mi">9</span> <span class="tok-mi">11</span> <span class="tok-mi">8</span> <span class="tok-mi">7</span> <span class="tok-mi">10</span>]</code></pre>
</div>
</div>
<div class="paragraph">
<div class="title">Обяснение</div>
<p>Класът <code>combo-chart</code> ще съдържа два списъка със стойности – един за текущите
стойности, изобразени с колонки, и един за прогнозните стойности, изобразени с
линия.<br>
Ето защо го създадохме като дъщерен клас на <code>line-chart</code> и <code>bar-chart</code>.<br>
Сигурно забелязахте, че извикването на метода <code>plot</code> върху <code>combo-chart</code> не върна искания резултат.
Бе изобразен само един списък.<br>
Защо се случи това?<br>
<code>combo-chart</code> наследява едновременно от <code>line-chart</code> и <code>bar-chart</code>. И двата
класа имат метод <code>plot</code>. Когато извикаме този метод върху <code>combo-chart</code>, Пърл 6
ще разреши противоречието, като избере един от наследените методи.</p>
</div>
<div class="paragraph">
<div class="title">Поправка</div>
<p>За да получим желаното поведение, трябва да презапишем метода <code>plot</code> в <code>combo-chart</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">class</span> <span class="tok-n">bar-chart</span> {
  <span class="tok-k">has</span> <span class="tok-nb">Int</span> <span class="tok-nv">@.bar-values</span>;
  <span class="tok-k">method</span> <span class="tok-n">plot</span> {
    <span class="tok-nb">say</span> <span class="tok-nv">@.bar-values</span>;
  }
}

<span class="tok-k">class</span> <span class="tok-n">line-chart</span> {
  <span class="tok-k">has</span> <span class="tok-nb">Int</span> <span class="tok-nv">@.line-values</span>;
  <span class="tok-k">method</span> <span class="tok-n">plot</span> {
    <span class="tok-nb">say</span> <span class="tok-nv">@.line-values</span>;
  }
}

<span class="tok-k">class</span> <span class="tok-n">combo-chart</span> <span class="tok-k">is</span> <span class="tok-n">bar-chart</span> <span class="tok-k">is</span> <span class="tok-n">line-chart</span> {
  <span class="tok-k">method</span> <span class="tok-n">plot</span> {
    <span class="tok-nb">say</span> <span class="tok-nv">@.bar-values</span>;
    <span class="tok-nb">say</span> <span class="tok-nv">@.line-values</span>;
  }
}

<span class="tok-k">my</span> <span class="tok-nv">$actual-sales</span> = <span class="tok-n">bar-chart</span>.<span class="tok-nb">new</span>(<span class="tok-n">bar-values</span> =&gt; [<span class="tok-mi">10</span>,<span class="tok-mi">9</span>,<span class="tok-mi">11</span>,<span class="tok-mi">8</span>,<span class="tok-mi">7</span>,<span class="tok-mi">10</span>]);
<span class="tok-k">my</span> <span class="tok-nv">$forecast-sales</span> = <span class="tok-n">line-chart</span>.<span class="tok-nb">new</span>(<span class="tok-n">line-values</span> =&gt; [<span class="tok-mi">9</span>,<span class="tok-mi">8</span>,<span class="tok-mi">10</span>,<span class="tok-mi">7</span>,<span class="tok-mi">6</span>,<span class="tok-mi">9</span>]);

<span class="tok-k">my</span> <span class="tok-nv">$actual-vs-forecast</span> = <span class="tok-n">combo-chart</span>.<span class="tok-nb">new</span>(<span class="tok-n">bar-values</span> =&gt; [<span class="tok-mi">10</span>,<span class="tok-mi">9</span>,<span class="tok-mi">11</span>,<span class="tok-mi">8</span>,<span class="tok-mi">7</span>,<span class="tok-mi">10</span>],
                                         <span class="tok-n">line-values</span> =&gt; [<span class="tok-mi">9</span>,<span class="tok-mi">8</span>,<span class="tok-mi">10</span>,<span class="tok-mi">7</span>,<span class="tok-mi">6</span>,<span class="tok-mi">9</span>]);
<span class="tok-nb">say</span> <span class="tok-s">&quot;Actual sales:&quot;</span>;
<span class="tok-nv">$actual-sales</span>.<span class="tok-n">plot</span>;
<span class="tok-nb">say</span> <span class="tok-s">&quot;Forecast sales:&quot;</span>;
<span class="tok-nv">$forecast-sales</span>.<span class="tok-n">plot</span>;
<span class="tok-nb">say</span> <span class="tok-s">&quot;Actual vs Forecast:&quot;</span>;
<span class="tok-nv">$actual-vs-forecast</span>.<span class="tok-n">plot</span>;</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title"><code>Изход</code></div>
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-n">Actual</span> <span class="tok-n">sales:</span>
[<span class="tok-mi">10</span> <span class="tok-mi">9</span> <span class="tok-mi">11</span> <span class="tok-mi">8</span> <span class="tok-mi">7</span> <span class="tok-mi">10</span>]
<span class="tok-n">Forecast</span> <span class="tok-n">sales:</span>
[<span class="tok-mi">9</span> <span class="tok-mi">8</span> <span class="tok-mi">10</span> <span class="tok-mi">7</span> <span class="tok-mi">6</span> <span class="tok-mi">9</span>]
<span class="tok-n">Actual</span> <span class="tok-n">vs</span> <span class="tok-n">Forecast:</span>
[<span class="tok-mi">10</span> <span class="tok-mi">9</span> <span class="tok-mi">11</span> <span class="tok-mi">8</span> <span class="tok-mi">7</span> <span class="tok-mi">10</span>]
[<span class="tok-mi">9</span> <span class="tok-mi">8</span> <span class="tok-mi">10</span> <span class="tok-mi">7</span> <span class="tok-mi">6</span> <span class="tok-mi">9</span>]</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_роли">9.9. Роли</h3>
<div class="paragraph">
<p><strong>Ролите</strong> са донякъде подобни на класовете, понеже също се състоят от методи и атрибути.</p>
</div>
<div class="paragraph">
<p>Ролите се обявяват с помощта на ключовата дума <code>role</code>. Класовете, които искат
да осъществят (имплементират) една роля, трябва да го направят, като използуват
ключовата дума <code>does</code> (3 л. ед. ч. на глагола правя – бел. прев.).</p>
</div>
<div class="listingblock">
<div class="title">Нека пренапишем примера за множественото наследяване, като използуваме роли:</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">role</span> <span class="tok-n">bar-chart</span> {
  <span class="tok-k">has</span> <span class="tok-nb">Int</span> <span class="tok-nv">@.bar-values</span>;
  <span class="tok-k">method</span> <span class="tok-n">plot</span> {
    <span class="tok-nb">say</span> <span class="tok-nv">@.bar-values</span>;
  }
}

<span class="tok-k">role</span> <span class="tok-n">line-chart</span> {
  <span class="tok-k">has</span> <span class="tok-nb">Int</span> <span class="tok-nv">@.line-values</span>;
  <span class="tok-k">method</span> <span class="tok-n">plot</span> {
    <span class="tok-nb">say</span> <span class="tok-nv">@.line-values</span>;
  }
}

<span class="tok-k">class</span> <span class="tok-n">combo-chart</span> <span class="tok-k">does</span> <span class="tok-n">bar-chart</span> <span class="tok-k">does</span> <span class="tok-n">line-chart</span> {
  <span class="tok-k">method</span> <span class="tok-n">plot</span> {
    <span class="tok-nb">say</span> <span class="tok-nv">@.bar-values</span>;
    <span class="tok-nb">say</span> <span class="tok-nv">@.line-values</span>;
  }
}

<span class="tok-k">my</span> <span class="tok-nv">$actual-sales</span> = <span class="tok-n">bar-chart</span>.<span class="tok-nb">new</span>(<span class="tok-n">bar-values</span> =&gt; [<span class="tok-mi">10</span>,<span class="tok-mi">9</span>,<span class="tok-mi">11</span>,<span class="tok-mi">8</span>,<span class="tok-mi">7</span>,<span class="tok-mi">10</span>]);
<span class="tok-k">my</span> <span class="tok-nv">$forecast-sales</span> = <span class="tok-n">line-chart</span>.<span class="tok-nb">new</span>(<span class="tok-n">line-values</span> =&gt; [<span class="tok-mi">9</span>,<span class="tok-mi">8</span>,<span class="tok-mi">10</span>,<span class="tok-mi">7</span>,<span class="tok-mi">6</span>,<span class="tok-mi">9</span>]);

<span class="tok-k">my</span> <span class="tok-nv">$actual-vs-forecast</span> = <span class="tok-n">combo-chart</span>.<span class="tok-nb">new</span>(<span class="tok-n">bar-values</span> =&gt; [<span class="tok-mi">10</span>,<span class="tok-mi">9</span>,<span class="tok-mi">11</span>,<span class="tok-mi">8</span>,<span class="tok-mi">7</span>,<span class="tok-mi">10</span>],
                                         <span class="tok-n">line-values</span> =&gt; [<span class="tok-mi">9</span>,<span class="tok-mi">8</span>,<span class="tok-mi">10</span>,<span class="tok-mi">7</span>,<span class="tok-mi">6</span>,<span class="tok-mi">9</span>]);
<span class="tok-nb">say</span> <span class="tok-s">&quot;Actual sales:&quot;</span>;
<span class="tok-nv">$actual-sales</span>.<span class="tok-n">plot</span>;
<span class="tok-nb">say</span> <span class="tok-s">&quot;Forecast sales:&quot;</span>;
<span class="tok-nv">$forecast-sales</span>.<span class="tok-n">plot</span>;
<span class="tok-nb">say</span> <span class="tok-s">&quot;Actual vs Forecast:&quot;</span>;
<span class="tok-nv">$actual-vs-forecast</span>.<span class="tok-n">plot</span>;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Пуснете скрипта и ще видите, че изходът е същият като от предишния скрипт.</p>
</div>
<div class="paragraph">
<p>И сега се питате: Ако ролите се държат като класове, каква полза от тях?<br>
За да си отговорите на този въпрос, променете първия скрипт, в който показахме
множественото наследяване. Този, в който <em>забравихме</em> да презапишем метода <code>plot</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">role</span> <span class="tok-n">bar-chart</span> {
  <span class="tok-k">has</span> <span class="tok-nb">Int</span> <span class="tok-nv">@.bar-values</span>;
  <span class="tok-k">method</span> <span class="tok-n">plot</span> {
    <span class="tok-nb">say</span> <span class="tok-nv">@.bar-values</span>;
  }
}

<span class="tok-k">role</span> <span class="tok-n">line-chart</span> {
  <span class="tok-k">has</span> <span class="tok-nb">Int</span> <span class="tok-nv">@.line-values</span>;
  <span class="tok-k">method</span> <span class="tok-n">plot</span> {
    <span class="tok-nb">say</span> <span class="tok-nv">@.line-values</span>;
  }
}

<span class="tok-k">class</span> <span class="tok-n">combo-chart</span> <span class="tok-k">does</span> <span class="tok-n">bar-chart</span> <span class="tok-k">does</span> <span class="tok-n">line-chart</span> {
}

<span class="tok-k">my</span> <span class="tok-nv">$actual-sales</span> = <span class="tok-n">bar-chart</span>.<span class="tok-nb">new</span>(<span class="tok-n">bar-values</span> =&gt; [<span class="tok-mi">10</span>,<span class="tok-mi">9</span>,<span class="tok-mi">11</span>,<span class="tok-mi">8</span>,<span class="tok-mi">7</span>,<span class="tok-mi">10</span>]);
<span class="tok-k">my</span> <span class="tok-nv">$forecast-sales</span> = <span class="tok-n">line-chart</span>.<span class="tok-nb">new</span>(<span class="tok-n">line-values</span> =&gt; [<span class="tok-mi">9</span>,<span class="tok-mi">8</span>,<span class="tok-mi">10</span>,<span class="tok-mi">7</span>,<span class="tok-mi">6</span>,<span class="tok-mi">9</span>]);

<span class="tok-k">my</span> <span class="tok-nv">$actual-vs-forecast</span> = <span class="tok-n">combo-chart</span>.<span class="tok-nb">new</span>(<span class="tok-n">bar-values</span> =&gt; [<span class="tok-mi">10</span>,<span class="tok-mi">9</span>,<span class="tok-mi">11</span>,<span class="tok-mi">8</span>,<span class="tok-mi">7</span>,<span class="tok-mi">10</span>],
                                         <span class="tok-n">line-values</span> =&gt; [<span class="tok-mi">9</span>,<span class="tok-mi">8</span>,<span class="tok-mi">10</span>,<span class="tok-mi">7</span>,<span class="tok-mi">6</span>,<span class="tok-mi">9</span>]);
<span class="tok-nb">say</span> <span class="tok-s">&quot;Actual sales:&quot;</span>;
<span class="tok-nv">$actual-sales</span>.<span class="tok-n">plot</span>;
<span class="tok-nb">say</span> <span class="tok-s">&quot;Forecast sales:&quot;</span>;
<span class="tok-nv">$forecast-sales</span>.<span class="tok-n">plot</span>;
<span class="tok-nb">say</span> <span class="tok-s">&quot;Actual vs Forecast:&quot;</span>;
<span class="tok-nv">$actual-vs-forecast</span>.<span class="tok-n">plot</span>;</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title"><code>Изход</code></div>
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span>===<span class="tok-n">SORRY</span>!===
<span class="tok-nb">Method</span> <span class="tok-s">&#39;plot&#39;</span> <span class="tok-n">must</span> <span class="tok-n">be</span> <span class="tok-n">resolved</span> <span class="tok-n">by</span> <span class="tok-k">class</span> <span class="tok-n">combo-chart</span> <span class="tok-n">because</span> <span class="tok-n">it</span> <span class="tok-n">exists</span> <span class="tok-nb">in</span> <span class="tok-n">multiple</span> <span class="tok-n">roles</span> (<span class="tok-n">line-chart</span>, <span class="tok-n">bar-chart</span>)
(<span class="tok-n">Методът</span> <span class="tok-n">плот</span> <span class="tok-n">трябва</span> <span class="tok-n">да</span> <span class="tok-n">бъде</span> <span class="tok-s">&quot;разрешен&quot;</span> <span class="tok-n">в</span> <span class="tok-n">класа</span> <span class="tok-n">combo-chart</span>, <span class="tok-n">защото</span> <span class="tok-n">съществува</span>
<span class="tok-n">в</span> <span class="tok-n">повече</span> <span class="tok-n">от</span> <span class="tok-n">една</span> <span class="tok-n">роля</span> (<span class="tok-n">line-chart</span>, <span class="tok-n">bar-chart</span>))</code></pre>
</div>
</div>
<div class="paragraph">
<div class="title">Обяснение</div>
<p>Ако множество роли са приложени на един и същи клас и се появи противоречие, по
време на компилиране ще бъде хвърлена грешка. Това е много по-сигурен подход, в
сравнение с множественото наследяване, където такива противоречия не се смятат за
грешка и биват разрешавани автоматично по време на изпълнение.</p>
</div>
<div class="paragraph">
<p>Ролите ви предупреждават, че има противоречие.</p>
</div>
</div>
<div class="sect2">
<h3 id="_самонаблюдение_2">9.10. Самонаблюдение</h3>
<div class="paragraph">
<p><strong>Самонаблюдение</strong> (Introspection) е действието, при което вземаме информация за
свойствата на един обект. Такива са неговите атрибути, методи или тип.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">class</span> <span class="tok-n">Human</span> {
  <span class="tok-k">has</span> <span class="tok-nb">Str</span> <span class="tok-nv">$.name</span>;
  <span class="tok-k">has</span> <span class="tok-nb">Int</span> <span class="tok-nv">$.age</span>;
  <span class="tok-k">method</span> <span class="tok-n">introduce-yourself</span> {
    <span class="tok-nb">say</span> <span class="tok-s">&#39;Hi I am a human being, my name is &#39;</span> ~ <span class="tok-nb">self</span>.<span class="tok-nb">name</span>;
  }
}

<span class="tok-k">class</span> <span class="tok-n">Employee</span> <span class="tok-k">is</span> <span class="tok-n">Human</span> {
  <span class="tok-k">has</span> <span class="tok-nb">Str</span> <span class="tok-nv">$.company</span>;
  <span class="tok-k">has</span> <span class="tok-nb">Int</span> <span class="tok-nv">$.salary</span>;
  <span class="tok-k">method</span> <span class="tok-n">introduce-yourself</span> {
    <span class="tok-nb">say</span> <span class="tok-s">&#39;Hi I am a employee, my name is &#39;</span> ~ <span class="tok-nb">self</span>.<span class="tok-nb">name</span> ~ <span class="tok-s">&#39; and I work at: &#39;</span> ~ <span class="tok-nb">self</span>.<span class="tok-n">company</span>;
  }
}

<span class="tok-k">my</span> <span class="tok-nv">$john</span> = <span class="tok-n">Human</span>.<span class="tok-nb">new</span>(<span class="tok-nb">name</span> =&gt;<span class="tok-s">&#39;John&#39;</span>,<span class="tok-n">age</span> =&gt; <span class="tok-mi">23</span>,);
<span class="tok-k">my</span> <span class="tok-nv">$jane</span> = <span class="tok-n">Employee</span>.<span class="tok-nb">new</span>(<span class="tok-nb">name</span> =&gt;<span class="tok-s">&#39;Jane&#39;</span>,<span class="tok-n">age</span> =&gt; <span class="tok-mi">25</span>,<span class="tok-n">company</span> =&gt; <span class="tok-s">&#39;Acme&#39;</span>,<span class="tok-n">salary</span> =&gt; <span class="tok-mi">4000</span>);

<span class="tok-nb">say</span> <span class="tok-nv">$john</span>.<span class="tok-nb">WHAT</span>;
<span class="tok-nb">say</span> <span class="tok-nv">$jane</span>.<span class="tok-nb">WHAT</span>;
<span class="tok-nb">say</span> <span class="tok-nv">$john</span>.^<span class="tok-nb">attributes</span>;
<span class="tok-nb">say</span> <span class="tok-nv">$jane</span>.^<span class="tok-nb">attributes</span>;
<span class="tok-nb">say</span> <span class="tok-nv">$john</span>.^<span class="tok-nb">methods</span>;
<span class="tok-nb">say</span> <span class="tok-nv">$jane</span>.^<span class="tok-nb">methods</span>;
<span class="tok-nb">say</span> <span class="tok-nv">$jane</span>.^<span class="tok-nb">parents</span>;
<span class="tok-k">if</span> <span class="tok-nv">$jane</span> ~~ <span class="tok-n">Human</span> {<span class="tok-nb">say</span> <span class="tok-s">&#39;Jane is a Human&#39;</span>};</code></pre>
</div>
</div>
<div class="paragraph">
<p>Разполагаме със следните средства за самонаблюдение:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>.WHAT</code> – връща класа, от който е създаден обектът.</p>
</li>
<li>
<p><code>.^attributes</code> – връща списък с всички атрибути на обекта.</p>
</li>
<li>
<p><code>.^methods</code> – връща всички методи, които могат да бъдат извикани върху обекта.</p>
</li>
<li>
<p><code>.^parents</code> – връща всички родителски класове на обекта.</p>
</li>
<li>
<p><code>~~</code> се нарича оператор за умни съвпадения.
Той връща Истина (<em>True</em>), ако обектът е създаден от класа, с който е сравняван или го наследява.</p>
</li>
</ul>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>За да научите повече за обектно-ориентираното програмиране в Пърл 6, вижте:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="https://docs.perl6.org/language/classtut" class="bare">https://docs.perl6.org/language/classtut</a></p>
</li>
<li>
<p><a href="https://docs.perl6.org/language/objects" class="bare">https://docs.perl6.org/language/objects</a></p>
</li>
</ul>
</div>
</td>
</tr>
</table>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_обработка_на_изключения">10. Обработка на Изключения</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_прихващане_на_изключения">10.1. Прихващане на Изключения</h3>
<div class="paragraph">
<p><strong>Изключенията</strong> (Exceptions) представляват специално поведение, което се случва по време на изпълнение, когато нещо се обърка.<br>
Казваме, че програмата ни <em>хвърля</em> изключение.</p>
</div>
<div class="paragraph">
<p>Да погледнем следния скрипт. Той работи както трябва.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">my</span> <span class="tok-nb">Str</span> <span class="tok-nv">$name</span>;
<span class="tok-nv">$name</span> = <span class="tok-s">&quot;Joanna&quot;</span>;
<span class="tok-nb">say</span> <span class="tok-s">&quot;Hello &quot;</span> ~ <span class="tok-nv">$name</span>;
<span class="tok-nb">say</span> <span class="tok-s">&quot;How are you doing today?&quot;</span></code></pre>
</div>
</div>
<div class="listingblock">
<div class="title"><code>Изход</code></div>
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-n">Hello</span> <span class="tok-n">Joanna</span>
<span class="tok-n">How</span> <span class="tok-n">are</span> <span class="tok-n">you</span> <span class="tok-n">doing</span> <span class="tok-nb">today</span>?</code></pre>
</div>
</div>
<div class="paragraph">
<p>Сега да видим този скрипт. Той хвърля изключение.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">my</span> <span class="tok-nb">Str</span> <span class="tok-nv">$name</span>;
<span class="tok-nv">$name</span> = <span class="tok-mi">123</span>;
<span class="tok-nb">say</span> <span class="tok-s">&quot;Hello &quot;</span> ~ <span class="tok-nv">$name</span>;
<span class="tok-nb">say</span> <span class="tok-s">&quot;How are you doing today?&quot;</span></code></pre>
</div>
</div>
<div class="listingblock">
<div class="title"><code>Изход</code></div>
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-n">Type</span> <span class="tok-n">check</span> <span class="tok-n">failed</span> <span class="tok-nb">in</span> <span class="tok-n">assignment</span> <span class="tok-nb">to</span> <span class="tok-nv">$name</span>; <span class="tok-nb">expected</span> <span class="tok-nb">Str</span> <span class="tok-k">but</span> <span class="tok-nb">got</span> <span class="tok-nb">Int</span>
   <span class="tok-nb">in</span> <span class="tok-nb">block</span> <span class="tok-s">&lt;unit&gt;</span> <span class="tok-nb">at</span> <span class="tok-n">exceptions</span>.<span class="tok-n">pl6:2</span>
(<span class="tok-n">Проверката</span> <span class="tok-n">за</span> <span class="tok-n">типа</span> <span class="tok-n">на</span> <span class="tok-nv">$name</span> <span class="tok-n">е</span> <span class="tok-n">неуспешна</span>; <span class="tok-n">очакваше</span> <span class="tok-n">се</span> <span class="tok-nb">Str</span>, <span class="tok-n">но</span> <span class="tok-n">се</span> <span class="tok-n">оказа</span> <span class="tok-nb">Int</span> <span class="tok-n">в</span>
<span class="tok-n">блок</span> <span class="tok-s">&lt;unit&gt;</span> <span class="tok-n">в</span> <span class="tok-n">exceptions</span>.<span class="tok-n">pl6:2</span>)</code></pre>
</div>
</div>
<div class="paragraph">
<p>Сигурно вече сте забелязали, че при грешка (в този случай присвояване на
цяло число на променлива с тип Str) програмата винаги спира и следващите редове не се
изпълняват, дори да са правилно написани.</p>
</div>
<div class="paragraph">
<p><strong>Обработка на изключението</strong> е действието, при което <em>прихващаме</em> изключение,
което е било <em>хвърлено</em>, за да продължи работата на програмата ни.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">my</span> <span class="tok-nb">Str</span> <span class="tok-nv">$name</span>;
<span class="tok-k">try</span> {
  <span class="tok-nv">$name</span> = <span class="tok-mi">123</span>;
  <span class="tok-nb">say</span> <span class="tok-s">&quot;Hello &quot;</span> ~ <span class="tok-nv">$name</span>;
  <span class="tok-k">CATCH</span> {
    <span class="tok-k">default</span> {
      <span class="tok-nb">say</span> <span class="tok-s">&quot;Can you tell us your name again, we couldn&#39;t find it in the register.&quot;</span>;
    }
  }
}
<span class="tok-nb">say</span> <span class="tok-s">&quot;How are you doing today?&quot;</span>;</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title"><code>Изход</code></div>
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-n">Can</span> <span class="tok-n">you</span> <span class="tok-nb">tell</span> <span class="tok-n">us</span> <span class="tok-n">your</span> <span class="tok-nb">name</span> <span class="tok-n">again</span>, <span class="tok-n">we</span> <span class="tok-n">couldn&#39;t</span> <span class="tok-n">find</span> <span class="tok-n">it</span> <span class="tok-nb">in</span> <span class="tok-n">the</span> <span class="tok-n">register</span>.
<span class="tok-n">How</span> <span class="tok-n">are</span> <span class="tok-n">you</span> <span class="tok-n">doing</span> <span class="tok-nb">today</span>?</code></pre>
</div>
</div>
<div class="paragraph">
<p>Обработката на изключението се извършва с помощта на блока <code>try-catch</code> (пробвай-хвани).</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">try</span> {
  <span class="tok-c1"># тук пишете кода</span>
  <span class="tok-c1"># ако нещо се обърка, скриптът ще влезе в блока CATCH долу</span>
  <span class="tok-c1"># ако всичко е наред, блокът CATCH ще бъде пренебрегнат</span>
  <span class="tok-k">CATCH</span> {
    <span class="tok-k">default</span> {
      <span class="tok-c1"># кодът, който се намира тук, ще бъде изпълнен само ако е хвърлено изключение</span>
    }
  }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Блокът, в който прихващаме изключението (<code>CATCH</code>), може да бъде обявен по същия
начин както <code>given</code>.  Това означава, че можем да <em>прихващаме</em> и обработваме по
различен начин много типове изключения.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">try</span> {
  <span class="tok-c1"># тук пишете кода</span>
  <span class="tok-c1"># ако нещо се обърка, скриптът ще влезе в блока CATCH долу</span>
  <span class="tok-c1"># ако всичко е наред, блокът CATCH ще бъде пренебрегнат</span>
  <span class="tok-k">CATCH</span> {
    <span class="tok-k">when</span> <span class="tok-o">X</span>::<span class="tok-n">AdHoc</span> { <span class="tok-c1"># да се направи нещо, в случай че е хвърлено изключение от тип X::AdHoc }</span>
    <span class="tok-k">when</span> <span class="tok-o">X</span>::<span class="tok-n">IO</span> { <span class="tok-c1"># да се направи нещо, в случай че е хвърлено изключение от тип X::IO }</span>
    <span class="tok-k">when</span> <span class="tok-o">X</span>::<span class="tok-n">OS</span> { <span class="tok-c1"># да се направи нещо, в случай че е хвърлено изключение от тип X::OS }</span>
    <span class="tok-k">default</span> { <span class="tok-c1"># да се направи нещо, в случай че е хвърлено изключение от друг тип  }</span>
  }
}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_хвърляне_на_изключения">10.2. Хвърляне на Изключения</h3>
<div class="paragraph">
<p>Пърл 6 ви дава възможност и изрично да хвърляте изключения.
Могат да бъдат хвърляни два типа изключения:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>случайни изключения</p>
</li>
<li>
<p>типови изключения</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="title">случайно</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">my</span> <span class="tok-nb">Int</span> <span class="tok-nv">$age</span> = <span class="tok-mi">21</span>;
<span class="tok-nb">die</span> <span class="tok-s">&quot;Error !&quot;</span>;</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">типово</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">my</span> <span class="tok-nb">Int</span> <span class="tok-nv">$age</span> = <span class="tok-mi">21</span>;
<span class="tok-o">X</span>::<span class="tok-n">AdHoc</span>.<span class="tok-nb">new</span>(<span class="tok-nb">payload</span> =&gt; <span class="tok-s">&#39;Error !&#39;</span>).<span class="tok-nb">throw</span>;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Случайните изключения се хвърлят, като се използува вградената функция <code>die</code>,
последвана от обяснително съобщение за грешката.</p>
</div>
<div class="paragraph">
<p>Типовите изключения са обекти. Това обяснява и използуването на конструктора
<code>.new()</code> в горния пример.<br>
Основният клас на всички типови изключения е <code>X</code>. Ето няколко примера:<br>
<code>X::AdHoc</code>  е най-простият тип изключение<br>
<code>X::IO</code> се използува за входно-изходни грешки<br>
<code>X::OS</code> се използува за системни грешки<br>
<code>X::Str::Numeric</code> бива хвърляно при неуспешни опити за превръщане на низове в числа</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
За да видите пълен списък с типовете изключения и свързаните методи,
идете на <a href="https://docs.perl6.org/type-exceptions.html" class="bare">https://docs.perl6.org/type-exceptions.html</a>
</td>
</tr>
</table>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_изрази_за_съвпадения">11. Изрази за съвпадения</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Изразът за съвпадение или просто съвпадение (regular expression, <em>regex</em>) е
последователност от знаци за намиране на съвпадение в текст.<br>
Най-лесният начин за разбирането на тези изрази е да мислите за тях като за шаблони.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Позволявам си да преведа по нов начин наложилото се, но не носещо никакъв
смисъл понятие "регулярни изрази" (бел. прев.)
</td>
</tr>
</table>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">if</span> <span class="tok-s">&#39;просветление&#39;</span> ~~ <span class="tok-sr">m/ свет /</span> {
    <span class="tok-nb">say</span> <span class="tok-s">&#39;Просветление съдържа корена &quot;свет&quot;.&#39;</span>;
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>В този пример проверяваме с помощта на оператора за умни съвпадения <code>~~</code> дали
една дума съдържа корена "свет".<br>
В думата "просветление" се търси съвпадение със "свет" <code>m/ свет /</code></p>
</div>
<div class="sect2">
<h3 id="_обявяване_на_шаблон">11.1. Обявяване на шаблон</h3>
<div class="paragraph">
<p>Шаблонът за търсене на съвпадение може да бъде обявен както следва:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>/свет/</code></p>
</li>
<li>
<p><code>m/свет/</code></p>
</li>
<li>
<p><code>rx/light/</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Празното пространство няма значение, освен ако не е указано нещо друго. <code>m/light/</code> и <code>m/ light /</code> са едно и също нещо.</p>
</div>
</div>
<div class="sect2">
<h3 id="_намиране_съвпадения_на_знаци">11.2. Намиране съвпадения на знаци</h3>
<div class="paragraph">
<p>Буквено-цифровите знаци и знакът за подчертаване <code>_</code> се пишат по обичайния начин. Всички
други символи трябва да се избягват с обратно наклонена черта или да се
ограждат с кавички.</p>
</div>
<div class="listingblock">
<div class="title">Обратно наклонена черта</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">if</span> <span class="tok-s">&#39;Температура: 13&#39;</span> ~~ <span class="tok-sr">m/ \: /</span> {
    <span class="tok-nb">say</span> <span class="tok-s">&quot;Предоставеният низ съдържа двоеточие : &quot;</span>;
}</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Единични кавички</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">if</span> <span class="tok-s">&#39;Age = 13&#39;</span> ~~ <span class="tok-sr">m/ &#39;=&#39; /</span> {
    <span class="tok-nb">say</span> <span class="tok-s">&quot;Низът съдържа знака за равенство = &quot;</span>;
}</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Двойни кавички</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">if</span> <span class="tok-s">&#39;name@company.com&#39;</span> ~~ <span class="tok-sr">m/ &quot;@&quot; /</span> {
    <span class="tok-nb">say</span> <span class="tok-s">&quot;Това е валиден адрес за електронна поща, защото съдържа знака @.&quot;</span>
}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_намиране_на_знаци_по_категории">11.3. Намиране на знаци по категории</h3>
<div class="paragraph">
<p>Знаците могат да бъдат групирани в категории, а ние можем да търсим съвпадение
по тях. Можем също така да търсим по обратното значение на категорията (всичко
друго освен нея).</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Категория</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Израз</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Обратно значение</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Израз</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Знак за дума (буква, цифра или знак за подчертаване)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">\w</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Всеки друг знак освен знака за дума</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">\W</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Цифра</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">\d</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Всеки знак, който не е цифра</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">\D</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Празно пространство</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">\s</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Всеки знак, който не е празно пространство</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">\S</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Водоравно празно пространство</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">\h</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Всеки знак, който не е водоравно празно пространство</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">\H</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Отвесно празно пространство</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">\v</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Всеки знак, който не е отвесно празно пространство</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">\V</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Табулация</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">\t</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Всеки знак, който не е табулация</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">\T</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Нов ред</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">\n</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Всеки знак, без нов ред</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">\N</p></td>
</tr>
</tbody>
</table>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">if</span> <span class="tok-s">&quot;Иван123&quot;</span> ~~<span class="tok-sr"> / \d /</span> {
  <span class="tok-nb">say</span> <span class="tok-s">&quot;Това не е име. Имената не съдържат числа.&quot;</span>;
} <span class="tok-k">else</span> {
  <span class="tok-nb">say</span> <span class="tok-s">&quot;Това е име.&quot;</span>
}
<span class="tok-k">if</span> <span class="tok-s">&quot;Иван-Данов&quot;</span> ~~<span class="tok-sr"> / \s /</span> {
  <span class="tok-nb">say</span> <span class="tok-s">&quot;Този низ съдържа празно пространство.&quot;</span>;
} <span class="tok-k">else</span> {
  <span class="tok-nb">say</span> <span class="tok-s">&quot;Този низ не съдържа празно пространство.&quot;</span>;
}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_уникод_свойства">11.4. Уникод-свойства</h3>
<div class="paragraph">
<p>Да се намира съвпадение чрез категории от знаци е удобно. Въпреки това,
по-систематичен подход би бил да се използуват уникод-свойства.
Уникод-свойствата са оградени с <code>&lt;: &gt;</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">if</span> <span class="tok-s">&quot;John123&quot;</span> ~~<span class="tok-sr"> / &lt;:N&gt; /</span> {
  <span class="tok-nb">say</span> <span class="tok-s">&quot;Contains a number&quot;</span>;
} <span class="tok-k">else</span> {
  <span class="tok-nb">say</span> <span class="tok-s">&quot;Doesn&#39;t contain a number&quot;</span>
}
<span class="tok-k">if</span> <span class="tok-s">&quot;John-Doe&quot;</span> ~~<span class="tok-sr"> / &lt;:Lu&gt; /</span> {
  <span class="tok-nb">say</span> <span class="tok-s">&quot;Contains an uppercase letter&quot;</span>;
} <span class="tok-k">else</span> {
  <span class="tok-nb">say</span> <span class="tok-s">&quot;Doesn&#39;t contain an upper case letter&quot;</span>
}
<span class="tok-k">if</span> <span class="tok-s">&quot;John-Doe&quot;</span> ~~<span class="tok-sr"> / &lt;:Pd&gt; /</span> {
  <span class="tok-nb">say</span> <span class="tok-s">&quot;Contains a dash&quot;</span>;
} <span class="tok-k">else</span> {
  <span class="tok-nb">say</span> <span class="tok-s">&quot;Doesn&#39;t contain a dash&quot;</span>
}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_заместващи_знаци">11.5. Заместващи знаци</h3>
<div class="paragraph">
<p>При търсене на съвпадения могат да се ползуват и заместващи знаци.</p>
</div>
<div class="paragraph">
<p>Точката <code>.</code> дава съвпадение с всякакъв знак.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">if</span> <span class="tok-s">&#39;abc&#39;</span> ~~ <span class="tok-sr">m/ a.c /</span> {
    <span class="tok-nb">say</span> <span class="tok-s">&quot;Match&quot;</span>;
}
<span class="tok-k">if</span> <span class="tok-s">&#39;a2c&#39;</span> ~~ <span class="tok-sr">m/ a.c /</span> {
    <span class="tok-nb">say</span> <span class="tok-s">&quot;Match&quot;</span>;
}
<span class="tok-k">if</span> <span class="tok-s">&#39;ac&#39;</span> ~~ <span class="tok-sr">m/ a.c /</span> {
    <span class="tok-nb">say</span> <span class="tok-s">&quot;Match&quot;</span>;
} <span class="tok-k">else</span> {
    <span class="tok-nb">say</span> <span class="tok-s">&quot;No Match&quot;</span>;
}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_количествени_указатели">11.6. Количествени указатели</h3>
<div class="paragraph">
<p>Количествените указатели се поставят след знак и указват колко пъти
се очаква появата на знака в текста.</p>
</div>
<div class="paragraph">
<p>Въпросителният знак <code>?</code> означава нула или един път.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">if</span> <span class="tok-s">&#39;ac&#39;</span> ~~ <span class="tok-sr">m/ a?c /</span> {
    <span class="tok-nb">say</span> <span class="tok-s">&quot;Match&quot;</span>;
} <span class="tok-k">else</span> {
    <span class="tok-nb">say</span> <span class="tok-s">&quot;No Match&quot;</span>;
}
<span class="tok-k">if</span> <span class="tok-s">&#39;c&#39;</span> ~~ <span class="tok-sr">m/ a?c /</span> {
    <span class="tok-nb">say</span> <span class="tok-s">&quot;Match&quot;</span>;
} <span class="tok-k">else</span> {
    <span class="tok-nb">say</span> <span class="tok-s">&quot;No Match&quot;</span>;
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Звездата <code>*</code> означава нула или повече пъти.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">if</span> <span class="tok-s">&#39;az&#39;</span> ~~ <span class="tok-sr">m/ a*z /</span> {
    <span class="tok-nb">say</span> <span class="tok-s">&quot;Match&quot;</span>;
} <span class="tok-k">else</span> {
    <span class="tok-nb">say</span> <span class="tok-s">&quot;No Match&quot;</span>;
}
<span class="tok-k">if</span> <span class="tok-s">&#39;aaz&#39;</span> ~~ <span class="tok-sr">m/ a*z /</span> {
    <span class="tok-nb">say</span> <span class="tok-s">&quot;Match&quot;</span>;
} <span class="tok-k">else</span> {
    <span class="tok-nb">say</span> <span class="tok-s">&quot;No Match&quot;</span>;
}
<span class="tok-k">if</span> <span class="tok-s">&#39;aaaaaaaaaaz&#39;</span> ~~ <span class="tok-sr">m/ a*z /</span> {
    <span class="tok-nb">say</span> <span class="tok-s">&quot;Match&quot;</span>;
} <span class="tok-k">else</span> {
    <span class="tok-nb">say</span> <span class="tok-s">&quot;No Match&quot;</span>;
}
<span class="tok-k">if</span> <span class="tok-s">&#39;z&#39;</span> ~~ <span class="tok-sr">m/ a*z /</span> {
    <span class="tok-nb">say</span> <span class="tok-s">&quot;Match&quot;</span>;
} <span class="tok-k">else</span> {
    <span class="tok-nb">say</span> <span class="tok-s">&quot;No Match&quot;</span>;
}</code></pre>
</div>
</div>
<div class="paragraph">
<p><code>+</code> означава поне веднъж.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">if</span> <span class="tok-s">&#39;az&#39;</span> ~~ <span class="tok-sr">m/ a+z /</span> {
    <span class="tok-nb">say</span> <span class="tok-s">&quot;Match&quot;</span>;
} <span class="tok-k">else</span> {
    <span class="tok-nb">say</span> <span class="tok-s">&quot;No Match&quot;</span>;
}
<span class="tok-k">if</span> <span class="tok-s">&#39;aaz&#39;</span> ~~ <span class="tok-sr">m/ a+z /</span> {
    <span class="tok-nb">say</span> <span class="tok-s">&quot;Match&quot;</span>;
} <span class="tok-k">else</span> {
    <span class="tok-nb">say</span> <span class="tok-s">&quot;No Match&quot;</span>;
}
<span class="tok-k">if</span> <span class="tok-s">&#39;aaaaaaaaaaz&#39;</span> ~~ <span class="tok-sr">m/ a+z /</span> {
    <span class="tok-nb">say</span> <span class="tok-s">&quot;Match&quot;</span>;
} <span class="tok-k">else</span> {
    <span class="tok-nb">say</span> <span class="tok-s">&quot;No Match&quot;</span>;
}
<span class="tok-k">if</span> <span class="tok-s">&#39;z&#39;</span> ~~ <span class="tok-sr">m/ a+z /</span> {
    <span class="tok-nb">say</span> <span class="tok-s">&quot;Match&quot;</span>;
} <span class="tok-k">else</span> {
    <span class="tok-nb">say</span> <span class="tok-s">&quot;No Match&quot;</span>;
}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_резултати_от_съвпадението">11.7. Резултати от съвпадението</h3>
<div class="paragraph">
<p>Когато се намери съвпадение на търсенето в някакъв текст, резултатът се
съхранява в специалната променлива <code>$/</code>.</p>
</div>
<div class="listingblock">
<div class="title">Скрипт</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">if</span> <span class="tok-s">&#39;Rakudo is a Perl 6 compiler&#39;</span> ~~ <span class="tok-sr">m/:s Perl 6/</span> {
    <span class="tok-nb">say</span> <span class="tok-s">&quot;The match is: &quot;</span> ~ <span class="tok-vg">$/</span>;
    <span class="tok-nb">say</span> <span class="tok-s">&quot;The string before the match is: &quot;</span> ~ <span class="tok-vg">$/</span>.<span class="tok-nb">prematch</span>;
    <span class="tok-nb">say</span> <span class="tok-s">&quot;The string after the match is: &quot;</span> ~ <span class="tok-vg">$/</span>.<span class="tok-nb">postmatch</span>;
    <span class="tok-nb">say</span> <span class="tok-s">&quot;The matching string starts at position: &quot;</span> ~ <span class="tok-vg">$/</span>.<span class="tok-nb">from</span>;
    <span class="tok-nb">say</span> <span class="tok-s">&quot;The matching string ends at position: &quot;</span> ~ <span class="tok-vg">$/</span>.<span class="tok-nb">to</span>;
}</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Изход</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-n">The</span> <span class="tok-nb">match</span> <span class="tok-n">is:</span> <span class="tok-nb">Perl</span> <span class="tok-mi">6</span>
<span class="tok-n">The</span> <span class="tok-n">string</span> <span class="tok-o">before</span> <span class="tok-n">the</span> <span class="tok-nb">match</span> <span class="tok-n">is:</span> <span class="tok-n">Rakudo</span> <span class="tok-k">is</span> <span class="tok-n">a</span>
<span class="tok-n">The</span> <span class="tok-n">string</span> <span class="tok-nb">after</span> <span class="tok-n">the</span> <span class="tok-nb">match</span> <span class="tok-n">is:</span> <span class="tok-nb">compiler</span>
<span class="tok-n">The</span> <span class="tok-n">matching</span> <span class="tok-n">string</span> <span class="tok-n">starts</span> <span class="tok-nb">at</span> <span class="tok-n">position:</span> <span class="tok-mi">12</span>
<span class="tok-n">The</span> <span class="tok-n">matching</span> <span class="tok-n">string</span> <span class="tok-n">ends</span> <span class="tok-nb">at</span> <span class="tok-n">position:</span> <span class="tok-mi">18</span></code></pre>
</div>
</div>
<div class="paragraph">
<div class="title">Обяснение</div>
<p><code>$/</code> връща <em>Обект на Съвпадението</em> (низът, който съответства на търсения шаблон).<br>
Следните методи могат да се извикат върху <em>Обекта на съвпадението</em>:<br>
<code>.prematch</code> връща низа преди съвпадението.<br>
<code>.postmatch</code> връща низа, следващ съвпадението.<br>
<code>.from</code> връща мястото в низа (цяло число), където съвпадението започва.<br>
<code>.to</code> връща мястото в низа (цяло число), където съвпадението свършва.<br></p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
По подразбиране празното пространство (в шаблон за намиране на съвпадение)
няма значение. Ако искаме да намерим съвпадение по шаблон, съдържащ празно
пространство, трябва да го укажем изрично. Като поставим <code>:s</code> в шаблона <code>m/:s
Perl 6/</code> указваме празните пространства да се приемат буквално и да не се
премахват при компилиране на шаблона. Иначе можехме да запишем израза като
<code>m/ Perl\s6 /</code> и да ползуваме <code>\s</code>, което видяхме по-рано като заместител за празно
пространство. Ако израз за съвпадение съдържа повече от едно празно
пространство, с използуването на <code>:s</code> се оказваме по-ефективни, отколкото ако
използуваме <code>\s</code> за всяко празно пространство.
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_пример">11.8. Пример</h3>
<div class="paragraph">
<p>Нека проверим дали един адрес за електронна поща е валиден.<br>
За целите на примера ще приемем, че адресът се състои от:<br>
име [точка] фамилия [при] фирма [точка] (com/org/net)</p>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
Изразът в този пример за проверка на адреса не е много точен.
Единствената му цел е да покаже възможностите в Пърл 6.
Не го ползвайте за производствени цели.
</td>
</tr>
</table>
</div>
<div class="listingblock">
<div class="title">Скрипт</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">my</span> <span class="tok-nv">$email</span> = <span class="tok-s">&#39;john.doe@perl6.org&#39;</span>;
<span class="tok-k">my</span> <span class="tok-nv">$regex</span> =<span class="tok-sr"> / &lt;:L&gt;+\.&lt;:L&gt;+\@&lt;:L+:N&gt;+\.&lt;:L&gt;+ /</span>;

<span class="tok-k">if</span> <span class="tok-nv">$email</span> ~~ <span class="tok-nv">$regex</span> {
  <span class="tok-nb">say</span> <span class="tok-vg">$/</span> ~ <span class="tok-s">&quot; is a valid email&quot;</span>;
} <span class="tok-k">else</span> {
  <span class="tok-nb">say</span> <span class="tok-s">&quot;This is not a valid email&quot;</span>;
}</code></pre>
</div>
</div>
<div class="paragraph">
<div class="title">Изход</div>
<p><code>john.doe@perl6.org is a valid email</code></p>
</div>
<div class="paragraph">
<div class="title">Обяснение</div>
<p><code>&lt;:L&gt;</code> съвпада с отделна буква<br>
<code>&lt;:L&gt;` съвпада с една или повече букви +
`\.` съвпада с един знак [точка] +
`\@` съвпада с един знак [при] +
`&lt;:L:N&gt;</code> съвпада с низ, състоящ се от една или повече букви и число в края<br>
<code>&lt;:L+:N&gt;+</code> съвпада с низ, състоящ се от един или повече знаци (букви и числа)<br></p>
</div>
<div class="paragraph">
<p>Изразът може да бъде разложен както следва:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>име</strong> <code>&lt;:L&gt;+</code></p>
</li>
<li>
<p><strong>[точка]</strong> <code>\.</code></p>
</li>
<li>
<p><strong>фамилия</strong> <code>&lt;:L&gt;+</code></p>
</li>
<li>
<p><strong>[при]</strong> <code>\@</code></p>
</li>
<li>
<p><strong>име на фирма</strong> <code>&lt;:L+:N&gt;+</code></p>
</li>
<li>
<p><strong>[точка]</strong> <code>\.</code></p>
</li>
<li>
<p><strong>com/org/net</strong> <code>&lt;:L&gt;+</code></p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="title">Също така един израз може да бъде разбит на няколко именувани израза</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">my</span> <span class="tok-nv">$email</span> = <span class="tok-s">&#39;john.doe@perl6.org&#39;</span>;
<span class="tok-k">my</span> <span class="tok-k">regex</span><span class="tok-n"> many-letters</span> {<span class="tok-sr"> &lt;:L&gt;+ </span>};
<span class="tok-k">my</span> <span class="tok-k">regex</span><span class="tok-n"> dot</span> {<span class="tok-sr"> \. </span>};
<span class="tok-k">my</span> <span class="tok-k">regex</span><span class="tok-n"> at</span> {<span class="tok-sr"> \@ </span>};
<span class="tok-k">my</span> <span class="tok-k">regex</span><span class="tok-n"> many-letters-numbers</span> {<span class="tok-sr"> &lt;:L+:N&gt;+ </span>};

<span class="tok-k">if</span> <span class="tok-nv">$email</span> ~~<span class="tok-sr"> / &lt;many-letters&gt; &lt;dot&gt; &lt;many-letters&gt; &lt;at&gt; &lt;many-letters-numbers&gt; &lt;dot&gt; &lt;many-letters&gt; /</span> {
  <span class="tok-nb">say</span> <span class="tok-vg">$/</span> ~ <span class="tok-s">&quot; is a valid email&quot;</span>;
} <span class="tok-k">else</span> {
  <span class="tok-nb">say</span> <span class="tok-s">&quot;This is not a valid email&quot;</span>;
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Синтаксисът за обявяване на именуван израз за съвпадение е: <code>my regex regex-name { regex definition }</code><br>
Синтаксисът за извикване на именуван израз за съвпадение е: <code>&lt;regex-name&gt;</code></p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
За повече информация относно изразите за съвпадение, вижте <a href="https://docs.perl6.org/language/regexes" class="bare">https://docs.perl6.org/language/regexes</a>
</td>
</tr>
</table>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_модули_в_пърл_6">12. Модули в Пърл 6</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Пърл 6 е език с общо предназначение. Той е подходящ за всякакви задачи:
обработка на текст, графика, уеб, бази данни, мрежови протоколи и т.н.</p>
</div>
<div class="paragraph">
<p>Многократното използване на код е ключово понятие. Програмистите не трябва да преоткриват колелото с всяка нова задача.</p>
</div>
<div class="paragraph">
<p>Пърл 6 ни дава възможност да създаваме и разпространяваме <strong>модули</strong>. Всеки модул представлява пакетиран набор от функционалност, която може да бъде инсталирана и използвана.</p>
</div>
<div class="paragraph">
<p><em>Зеф</em> (<em>Zef</em>) е средство за управление на модули, което се разпространява с Rakudo Star.</p>
</div>
<div class="paragraph">
<p>За да инсталирате отделен модул, напишете следната команда в терминал:</p>
</div>
<div class="paragraph">
<p><code>zef install "module name"</code></p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Модулите за Пърл 6 се намират на адрес: <a href="https://modules.perl6.org/" class="bare">https://modules.perl6.org/</a>
</td>
</tr>
</table>
</div>
<div class="sect2">
<h3 id="_използване_на_модули">12.1. Използване на модули</h3>
<div class="paragraph">
<p>MD5 е хеш-функция от криптографията, която връща 128-битова стойност.<br>
MD5 има много приложения, едно от които е криптиране на пароли, съхранявани в
бази от данни.  Когато се регистрира нов потребител, неговите данни не се
записват като обикновен текст, а се <em>хешират</em>.  Причината е, че ако до данните се
осъществи неразрешен достъп, паролите няма да бъдат четими.</p>
</div>
<div class="paragraph">
<p>За наше щастие вече има модул в Пърл 6, който имплементира алгоритъма MD5. Да
го инсталираме:<br>
<code>zef install Digest::MD5</code></p>
</div>
<div class="paragraph">
<p>Сега пуснете скрипта по-долу:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">use</span> <span class="tok-n">Digest::MD5</span>;
<span class="tok-k">my</span> <span class="tok-nv">$password</span> = <span class="tok-s">&quot;password123&quot;</span>;
<span class="tok-k">my</span> <span class="tok-nv">$hashed-password</span> = <span class="tok-n">Digest::MD5</span>.<span class="tok-nb">new</span>.<span class="tok-n">md5_hex</span>(<span class="tok-nv">$password</span>);

<span class="tok-nb">say</span> <span class="tok-nv">$hashed-password</span>;</code></pre>
</div>
</div>
<div class="paragraph">
<p>За да извикаме функцията <code>md5_hex()</code>, трябва да заредим модула, който я предоставя.<br>
Ключовата дума <code>use</code> зарежда модула в скрипта.</p>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
В действителност превръщането на паролата в MD5-сума е недостатъчно,
тъй като е податливо на т.нар. речникови атаки. + То трябва да бъде съчетано със
"сол" (произволно генерирана стойност – сол към паролата; Бел. ред.)
<a href="https://en.wikipedia.org/wiki/Salt_(cryptography)">https://en.wikipedia.org/wiki/Salt_(cryptography)</a>.
</td>
</tr>
</table>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_уникод">13. Уникод</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Уникод е стандарт за кодиране и представяне на текст на почти всички писмени
системи в света.<br>
UTF-8 е таблица със знаци, която може да кодира всички възможни знаци от Уникод.</p>
</div>
<div class="paragraph">
<p>Знаците се състоят от:<br>
<strong>Графема</strong>: Видимо представяне – как изглежда.<br>
<strong>Точка на кода</strong>: Число (пореден номер), присвоено на знака.</p>
</div>
<div class="sect2">
<h3 id="_използване_на_уникод">13.1. Използване на Уникод</h3>
<div class="listingblock">
<div class="title">Да видим как можем да изобразяваме знаци чрез Уникод.</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-nb">say</span> <span class="tok-s">&quot;Б&quot;</span>;
<span class="tok-nb">say</span> <span class="tok-s">&quot;\x0411&quot;</span>;
<span class="tok-nb">say</span> <span class="tok-s">&quot;\c[CYRILLIC CAPITAL LETTER BE]&quot;</span>;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Трите реда горе показват различни начини за изграждане на един знак:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Като просто напишем знака (графема)</p>
</li>
<li>
<p>Чрез въвеждане на <code>\x</code>, последван от точката на кода (в шестнадесетична бройна система)</p>
</li>
<li>
<p>Чрез въвеждане на <code>\c</code>, последван от името на точката на кода</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="title">Сега да изобразим усмихнато личице</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-nb">say</span> <span class="tok-s">&quot;☺&quot;</span>;
<span class="tok-nb">say</span> <span class="tok-s">&quot;\x263a&quot;</span>;
<span class="tok-nb">say</span> <span class="tok-s">&quot;\c[WHITE SMILING FACE]&quot;</span>;</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Друг пример, съчетаващ две кодови точки</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-nb">say</span> <span class="tok-s">&quot;á&quot;</span>;
<span class="tok-nb">say</span> <span class="tok-s">&quot;\x00e1&quot;</span>;
<span class="tok-nb">say</span> <span class="tok-s">&quot;\x0061\x0301&quot;</span>;
<span class="tok-nb">say</span> <span class="tok-s">&quot;\c[LATIN SMALL LETTER A WITH ACUTE]&quot;</span>;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Буквата <code>á</code> може да се напише:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>като използваме нейната единствена кодова точка <code>\x00e1</code></p>
</li>
<li>
<p>или като съчетание от две кодови точки – <code>a</code> и ляво ударение <code>\x0061\x0301</code></p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="title">Ето някои от методите, които могат да се използват върху знака (той е обект):</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-nb">say</span> <span class="tok-s">&quot;á&quot;</span>.<span class="tok-nb">NFC</span>;
<span class="tok-nb">say</span> <span class="tok-s">&quot;á&quot;</span>.<span class="tok-nb">NFD</span>;
<span class="tok-nb">say</span> <span class="tok-s">&quot;á&quot;</span>.<span class="tok-nb">uniname</span>;</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title"><code>Изход</code></div>
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-n">NFC:0x</span><span class="tok-s">&lt;00e1&gt;</span>
<span class="tok-n">NFD:0x</span><span class="tok-s">&lt;0061 0301&gt;</span>
<span class="tok-n">LATIN</span> <span class="tok-n">SMALL</span> <span class="tok-n">LETTER</span> <span class="tok-n">A</span> <span class="tok-n">WITH</span> <span class="tok-n">ACUTE</span></code></pre>
</div>
</div>
<div class="paragraph">
<p><code>NFC</code> връща точката на кода.<br>
<code>NFD</code> разглобява знака и връща кодовата точка на всяка негова част.<br>
<code>uniname</code> връща името на кодовата точка.</p>
</div>
<div class="listingblock">
<div class="title">Всяка буква от Уникод може да се използва като идентификатор:</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">my</span> <span class="tok-nv">$Δ</span> = <span class="tok-mi">1</span>;
<span class="tok-nv">$Δ</span>++;
<span class="tok-nb">say</span> <span class="tok-nv">$Δ</span>;</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Уникод знаци могат да се ползват при математически изчисления:</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">my</span> <span class="tok-nv">$var</span> = <span class="tok-mi">2</span> + <span class="tok-n">⅒</span>;
<span class="tok-nb">say</span> <span class="tok-nv">$var</span>;</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_успоредност_съгласуваност_и_неедновременност">14. Успоредност, Съгласуваност и Неедновременност</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_успоредност_parallelism">14.1. Успоредност (Parallelism)</h3>
<div class="paragraph">
<p>В общия случай всички задачи в една програма се изпълняват последователно.
Това може да си е съвсем наред, освен ако не отнема много време.</p>
</div>
<div class="paragraph">
<p>За щастие Пърл 6 позволява да се изпълняват няколко задачи едновременно.
Тук е важно да споменем, че успоредност може да означава едно от следните две неща:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Успоредност на задачите</strong>: Два (или повече) независими израза се изпълняват едновременно.</p>
</li>
<li>
<p><strong>Успоредност на данните</strong>: Един израз се изпълнява едновременно върху списък от елементи.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Да започнем с второто.</p>
</div>
<div class="sect3">
<h4 id="_успоредност_на_данните">14.1.1. Успоредност на Данните</h4>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">my</span> <span class="tok-nv">@array</span> = (<span class="tok-mi">0</span><span class="tok-o">..</span><span class="tok-mi">50000</span>);                     <span class="tok-c1"># Създаваме елементи в масива</span>
<span class="tok-k">my</span> <span class="tok-nv">@result</span> = <span class="tok-nv">@array</span>.<span class="tok-n">map</span>({ <span class="tok-nb">is-prime</span> <span class="tok-nv">$_</span> });   <span class="tok-c1"># Извикваме is-prime върху всеки елемент</span>
<span class="tok-nb">say</span> <span class="tok-nb">now</span> - <span class="tok-k">INIT</span> <span class="tok-nb">now</span>;                         <span class="tok-c1"># Показваме времето, което е отнела работата на скрипта</span></code></pre>
</div>
</div>
<div class="paragraph">
<div class="title">Да разгледаме горния пример:</div>
<p>Извършваме само едно действие <code>@array.map({ is-prime $_ })</code><br>
Подпрограмата <code>is-prime</code> се извиква последователно върху всеки елемент от масива:<br>
<code>is-prime @array[0]</code>, след това <code>is-prime @array[1]</code>, после <code>is-prime @array[2]</code> и т. н.</p>
</div>
<div class="listingblock">
<div class="title">За щастие можем да извикаме <code>is-prime</code> за множество елементи по едно и също време (успоредно):</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">my</span> <span class="tok-nv">@array</span> = (<span class="tok-mi">0</span><span class="tok-o">..</span><span class="tok-mi">50000</span>);                         <span class="tok-c1">#Създаваме елементи в масива</span>
<span class="tok-k">my</span> <span class="tok-nv">@result</span> = <span class="tok-nv">@array</span>.<span class="tok-nb">race</span>.<span class="tok-n">map</span>({ <span class="tok-nb">is-prime</span> <span class="tok-nv">$_</span> });  <span class="tok-c1">#Извикваме is-prime върху всеки елемент</span>
<span class="tok-nb">say</span> <span class="tok-nb">now</span> - <span class="tok-k">INIT</span> <span class="tok-nb">now</span>;                             <span class="tok-c1">#Показваме времето, което е отнела работата на скрипта</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Обърнете внимание на <code>race</code> в израза.
Този метод се грижи за едновременната (успоредна) обработка на елементите от масива.</p>
</div>
<div class="paragraph">
<p>След като изпълните двата примера ( със и без <code>race</code>), сравнете времената им.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
<div class="paragraph">
<p><code>race</code> няма да запази реда на елементите. Ако искате това, ползвайте <code>hyper</code>.</p>
</div>
<div class="listingblock">
<div class="title">race</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">my</span> <span class="tok-nv">@array</span> = (<span class="tok-mi">1</span><span class="tok-o">..</span><span class="tok-mi">1000</span>);
<span class="tok-k">my</span> <span class="tok-nv">@result</span> = <span class="tok-nv">@array</span>.<span class="tok-nb">race</span>.<span class="tok-n">map</span>( {<span class="tok-nv">$_</span> + <span class="tok-mi">1</span>} );
.<span class="tok-nb">say</span> <span class="tok-k">for</span> <span class="tok-nv">@result</span>;</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">hyper</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">my</span> <span class="tok-nv">@array</span> = (<span class="tok-mi">1</span><span class="tok-o">..</span><span class="tok-mi">1000</span>);
<span class="tok-k">my</span> <span class="tok-nv">@result</span> = <span class="tok-nv">@array</span>.<span class="tok-nb">hyper</span>.<span class="tok-n">map</span>( {<span class="tok-nv">$_</span> + <span class="tok-mi">1</span>} );
.<span class="tok-nb">say</span> <span class="tok-k">for</span> <span class="tok-nv">@result</span>;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Ако изпълните двата примера, ще забележите, че елементите в изхода на втория са подредени, а в първия не са.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="_успоредност_на_задачите">14.1.2. Успоредност на задачите</h4>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">my</span> <span class="tok-nv">@array1</span> = (<span class="tok-mi">0</span><span class="tok-o">..</span><span class="tok-mi">49999</span>);
<span class="tok-k">my</span> <span class="tok-nv">@array2</span> = (<span class="tok-mi">2</span><span class="tok-o">..</span><span class="tok-mi">50001</span>);

<span class="tok-k">my</span> <span class="tok-nv">@result1</span> = <span class="tok-nv">@array1</span>.<span class="tok-n">map</span>( {<span class="tok-nb">is-prime</span>(<span class="tok-nv">$_</span> + <span class="tok-mi">1</span>)} );
<span class="tok-k">my</span> <span class="tok-nv">@result2</span> = <span class="tok-nv">@array2</span>.<span class="tok-n">map</span>( {<span class="tok-nb">is-prime</span>(<span class="tok-nv">$_</span> - <span class="tok-mi">1</span>)} );

<span class="tok-nb">say</span> <span class="tok-nv">@result1</span> <span class="tok-o">eqv</span> <span class="tok-nv">@result2</span>;

<span class="tok-nb">say</span> <span class="tok-nb">now</span> - <span class="tok-k">INIT</span> <span class="tok-nb">now</span>;</code></pre>
</div>
</div>
<div class="olist arabic">
<div class="title">Да разгледаме горния пример:</div>
<ol class="arabic">
<li>
<p>Създадохме два масива;</p>
</li>
<li>
<p>Приложихме различно действие върху всеки от тях и съхранихме изхода;</p>
</li>
<li>
<p>Накрая проверихме дали изходите са еднакви.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Скриптът изчаква <code>@array1.map( {is-prime($_ + 1)} )</code> да завърши<br>
и след това изчислява <code>@array2.map( {is-prime($_ - 1)} )</code></p>
</div>
<div class="paragraph">
<p>Двете действия, приложени на всеки от масивите, не зависят едно от друго.</p>
</div>
<div class="listingblock">
<div class="title">Защо не ги изпълним едновременно?</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">my</span> <span class="tok-nv">@array1</span> = (<span class="tok-mi">0</span><span class="tok-o">..</span><span class="tok-mi">49999</span>);
<span class="tok-k">my</span> <span class="tok-nv">@array2</span> = (<span class="tok-mi">2</span><span class="tok-o">..</span><span class="tok-mi">50001</span>);

<span class="tok-k">my</span> <span class="tok-nv">$promise1</span> = <span class="tok-nb">start</span> <span class="tok-nv">@array1</span>.<span class="tok-n">map</span>( {<span class="tok-nb">is-prime</span>(<span class="tok-nv">$_</span> + <span class="tok-mi">1</span>)} ).<span class="tok-nb">eager</span>;
<span class="tok-k">my</span> <span class="tok-nv">$promise2</span> = <span class="tok-nb">start</span> <span class="tok-nv">@array2</span>.<span class="tok-n">map</span>( {<span class="tok-nb">is-prime</span>(<span class="tok-nv">$_</span> - <span class="tok-mi">1</span>)} ).<span class="tok-nb">eager</span>;

<span class="tok-k">my</span> <span class="tok-nv">@result1</span> = <span class="tok-nb">await</span> <span class="tok-nv">$promise1</span>;
<span class="tok-k">my</span> <span class="tok-nv">@result2</span> = <span class="tok-nb">await</span> <span class="tok-nv">$promise2</span>;

<span class="tok-nb">say</span> <span class="tok-nv">@result1</span> <span class="tok-o">eqv</span> <span class="tok-nv">@result2</span>;

<span class="tok-nb">say</span> <span class="tok-nb">now</span> - <span class="tok-k">INIT</span> <span class="tok-nb">now</span>;</code></pre>
</div>
</div>
<div class="paragraph">
<div class="title">Обяснение</div>
<p>Функцията <code>start</code> изпълнява кода и връща <strong>обект от тип обещание (promise)</strong> или просто <strong>обещание</strong>.<br>
Ако програмният код се изпълни без грешка, <em>обещанието</em> ще бъде <strong>спазено</strong>.<br>
Ако кодът хвърли изключение, <em>обещанието</em> ще бъде <strong>нарушено</strong>.</p>
</div>
<div class="paragraph">
<p>Функцията <code>await</code> (чакай) чака <strong>обещание</strong>.<br>
Ако то е <strong>спазено</strong>, тя ще вземе върнатите стойности.<br>
Ако е <strong>нарушено</strong>, <code>await</code> ще получи хвърленото изключение.</p>
</div>
<div class="paragraph">
<p>Проверете времето за изпълнение на всеки скрипт.</p>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
Успоредността на изпълнението винаги забавя скрипта, за да създаде
нишките, в които се изпълняват задачите. Ако това забавяне не се компенсира при
едновременното им изпълнение, скриптът ще изглежда по-бавен. Ето защо,
използването на <code>race</code>, <code>hyper</code>, <code>start</code> и <code>await</code> за много прости скриптове,
може всъщност да ги забави.
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_съгласуваност_и_неедновременност_concurrency_and_asynchrony">14.2. Съгласуваност и Неедновременност (Concurrency and Asynchrony)</h3>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
За повече информация относно програмиране при съгласуване на задачите и
управление на неедновременни задачи, вижте
<a href="https://docs.perl6.org/language/concurrency" class="bare">https://docs.perl6.org/language/concurrency</a>
</td>
</tr>
</table>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_общността">15. Общността</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p><a href="https://web.libera.chat/#raku">#perl6</a> IRC канал. Повечето обсъждания се случват в IRC. Там трябва да ходите по всякакви въпроси: <a href="https://perl6.org/community/irc" class="bare">https://perl6.org/community/irc</a></p>
</li>
<li>
<p><a href="https://p6weekly.wordpress.com">p6weekly</a> седмичен преглед на промените в Пърл 6 и новините около него.</p>
</li>
<li>
<p><a href="http://pl6anet.org">pl6anet</a> блог агрегатор. Следете статиите, свързани с Пърл 6.</p>
</li>
<li>
<p><a href="https://www.reddit.com/r/perl6/">/r/perl6</a> Запишете се в канала, посветен на Пърл 6.</p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
Last updated 2024-05-15 01:52:38 +0300
</div>
</div>
</body>
</html>