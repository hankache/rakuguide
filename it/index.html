<!DOCTYPE html>
<html lang="it">
<head>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-70405289-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-70405289-1');
</script>
<link rel="shortcut icon" type="image/x-icon" href="../favicon.ico">

<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 2.0.10">
<meta name="description" content="Introduzione generale a Perl 6">
<meta name="keywords" content="perl6, perl 6, introduzione, perl6intro, perl 6 introduzione, perl 6 tutorial, perl 6 intro">
<meta name="author" content="Naoum Hankache, MarsMarsico">
<title>Perl 6 Introduzione</title>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700">
<style>
/* Asciidoctor default stylesheet | MIT License | https://asciidoctor.org */
/* Uncomment @import statement to use as custom stylesheet */
/*@import "https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700";*/
article,aside,details,figcaption,figure,footer,header,hgroup,main,nav,section{display:block}
audio,video{display:inline-block}
audio:not([controls]){display:none;height:0}
html{font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}
a{background:none}
a:focus{outline:thin dotted}
a:active,a:hover{outline:0}
h1{font-size:2em;margin:.67em 0}
abbr[title]{border-bottom:1px dotted}
b,strong{font-weight:bold}
dfn{font-style:italic}
hr{-moz-box-sizing:content-box;box-sizing:content-box;height:0}
mark{background:#ff0;color:#000}
code,kbd,pre,samp{font-family:monospace;font-size:1em}
pre{white-space:pre-wrap}
q{quotes:"\201C" "\201D" "\2018" "\2019"}
small{font-size:80%}
sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}
sup{top:-.5em}
sub{bottom:-.25em}
img{border:0}
svg:not(:root){overflow:hidden}
figure{margin:0}
fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}
legend{border:0;padding:0}
button,input,select,textarea{font-family:inherit;font-size:100%;margin:0}
button,input{line-height:normal}
button,select{text-transform:none}
button,html input[type="button"],input[type="reset"],input[type="submit"]{-webkit-appearance:button;cursor:pointer}
button[disabled],html input[disabled]{cursor:default}
input[type="checkbox"],input[type="radio"]{box-sizing:border-box;padding:0}
button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}
textarea{overflow:auto;vertical-align:top}
table{border-collapse:collapse;border-spacing:0}
*,*::before,*::after{-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box}
html,body{font-size:100%}
body{background:#fff;color:rgba(0,0,0,.8);padding:0;margin:0;font-family:"Noto Serif","DejaVu Serif",serif;font-weight:400;font-style:normal;line-height:1;position:relative;cursor:auto;tab-size:4;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased}
a:hover{cursor:pointer}
img,object,embed{max-width:100%;height:auto}
object,embed{height:100%}
img{-ms-interpolation-mode:bicubic}
.left{float:left!important}
.right{float:right!important}
.text-left{text-align:left!important}
.text-right{text-align:right!important}
.text-center{text-align:center!important}
.text-justify{text-align:justify!important}
.hide{display:none}
img,object,svg{display:inline-block;vertical-align:middle}
textarea{height:auto;min-height:50px}
select{width:100%}
.center{margin-left:auto;margin-right:auto}
.stretch{width:100%}
.subheader,.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{line-height:1.45;color:#7a2518;font-weight:400;margin-top:0;margin-bottom:.25em}
div,dl,dt,dd,ul,ol,li,h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6,pre,form,p,blockquote,th,td{margin:0;padding:0;direction:ltr}
a{color:#2156a5;text-decoration:underline;line-height:inherit}
a:hover,a:focus{color:#1d4b8f}
a img{border:0}
p{font-family:inherit;font-weight:400;font-size:1em;line-height:1.6;margin-bottom:1.25em;text-rendering:optimizeLegibility}
p aside{font-size:.875em;line-height:1.35;font-style:italic}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{font-family:"Open Sans","DejaVu Sans",sans-serif;font-weight:300;font-style:normal;color:#ba3925;text-rendering:optimizeLegibility;margin-top:1em;margin-bottom:.5em;line-height:1.0125em}
h1 small,h2 small,h3 small,#toctitle small,.sidebarblock>.content>.title small,h4 small,h5 small,h6 small{font-size:60%;color:#e99b8f;line-height:0}
h1{font-size:2.125em}
h2{font-size:1.6875em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.375em}
h4,h5{font-size:1.125em}
h6{font-size:1em}
hr{border:solid #dddddf;border-width:1px 0 0;clear:both;margin:1.25em 0 1.1875em;height:0}
em,i{font-style:italic;line-height:inherit}
strong,b{font-weight:bold;line-height:inherit}
small{font-size:60%;line-height:inherit}
code{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;color:rgba(0,0,0,.9)}
ul,ol,dl{font-size:1em;line-height:1.6;margin-bottom:1.25em;list-style-position:outside;font-family:inherit}
ul,ol{margin-left:1.5em}
ul li ul,ul li ol{margin-left:1.25em;margin-bottom:0;font-size:1em}
ul.square li ul,ul.circle li ul,ul.disc li ul{list-style:inherit}
ul.square{list-style-type:square}
ul.circle{list-style-type:circle}
ul.disc{list-style-type:disc}
ol li ul,ol li ol{margin-left:1.25em;margin-bottom:0}
dl dt{margin-bottom:.3125em;font-weight:bold}
dl dd{margin-bottom:1.25em}
abbr,acronym{text-transform:uppercase;font-size:90%;color:rgba(0,0,0,.8);border-bottom:1px dotted #ddd;cursor:help}
abbr{text-transform:none}
blockquote{margin:0 0 1.25em;padding:.5625em 1.25em 0 1.1875em;border-left:1px solid #ddd}
blockquote cite{display:block;font-size:.9375em;color:rgba(0,0,0,.6)}
blockquote cite::before{content:"\2014 \0020"}
blockquote cite a,blockquote cite a:visited{color:rgba(0,0,0,.6)}
blockquote,blockquote p{line-height:1.6;color:rgba(0,0,0,.85)}
@media screen and (min-width:768px){h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2}
h1{font-size:2.75em}
h2{font-size:2.3125em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.6875em}
h4{font-size:1.4375em}}
table{background:#fff;margin-bottom:1.25em;border:solid 1px #dedede}
table thead,table tfoot{background:#f7f8f7}
table thead tr th,table thead tr td,table tfoot tr th,table tfoot tr td{padding:.5em .625em .625em;font-size:inherit;color:rgba(0,0,0,.8);text-align:left}
table tr th,table tr td{padding:.5625em .625em;font-size:inherit;color:rgba(0,0,0,.8)}
table tr.even,table tr.alt{background:#f8f8f7}
table thead tr th,table tfoot tr th,table tbody tr td,table tr td,table tfoot tr td{display:table-cell;line-height:1.6}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2;word-spacing:-.05em}
h1 strong,h2 strong,h3 strong,#toctitle strong,.sidebarblock>.content>.title strong,h4 strong,h5 strong,h6 strong{font-weight:400}
.clearfix::before,.clearfix::after,.float-group::before,.float-group::after{content:" ";display:table}
.clearfix::after,.float-group::after{clear:both}
:not(pre):not([class^=L])>code{font-size:.9375em;font-style:normal!important;letter-spacing:0;padding:.1em .5ex;word-spacing:-.15em;background:#f7f7f8;-webkit-border-radius:4px;border-radius:4px;line-height:1.45;text-rendering:optimizeSpeed;word-wrap:break-word}
:not(pre)>code.nobreak{word-wrap:normal}
:not(pre)>code.nowrap{white-space:nowrap}
pre{color:rgba(0,0,0,.9);font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;line-height:1.45;text-rendering:optimizeSpeed}
pre code,pre pre{color:inherit;font-size:inherit;line-height:inherit}
pre>code{display:block}
pre.nowrap,pre.nowrap pre{white-space:pre;word-wrap:normal}
em em{font-style:normal}
strong strong{font-weight:400}
.keyseq{color:rgba(51,51,51,.8)}
kbd{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;display:inline-block;color:rgba(0,0,0,.8);font-size:.65em;line-height:1.45;background:#f7f7f7;border:1px solid #ccc;-webkit-border-radius:3px;border-radius:3px;-webkit-box-shadow:0 1px 0 rgba(0,0,0,.2),0 0 0 .1em white inset;box-shadow:0 1px 0 rgba(0,0,0,.2),0 0 0 .1em #fff inset;margin:0 .15em;padding:.2em .5em;vertical-align:middle;position:relative;top:-.1em;white-space:nowrap}
.keyseq kbd:first-child{margin-left:0}
.keyseq kbd:last-child{margin-right:0}
.menuseq,.menuref{color:#000}
.menuseq b:not(.caret),.menuref{font-weight:inherit}
.menuseq{word-spacing:-.02em}
.menuseq b.caret{font-size:1.25em;line-height:.8}
.menuseq i.caret{font-weight:bold;text-align:center;width:.45em}
b.button::before,b.button::after{position:relative;top:-1px;font-weight:400}
b.button::before{content:"[";padding:0 3px 0 2px}
b.button::after{content:"]";padding:0 2px 0 3px}
p a>code:hover{color:rgba(0,0,0,.9)}
#header,#content,#footnotes,#footer{width:100%;margin-left:auto;margin-right:auto;margin-top:0;margin-bottom:0;max-width:62.5em;*zoom:1;position:relative;padding-left:.9375em;padding-right:.9375em}
#header::before,#header::after,#content::before,#content::after,#footnotes::before,#footnotes::after,#footer::before,#footer::after{content:" ";display:table}
#header::after,#content::after,#footnotes::after,#footer::after{clear:both}
#content{margin-top:1.25em}
#content::before{content:none}
#header>h1:first-child{color:rgba(0,0,0,.85);margin-top:2.25rem;margin-bottom:0}
#header>h1:first-child+#toc{margin-top:8px;border-top:1px solid #dddddf}
#header>h1:only-child,body.toc2 #header>h1:nth-last-child(2){border-bottom:1px solid #dddddf;padding-bottom:8px}
#header .details{border-bottom:1px solid #dddddf;line-height:1.45;padding-top:.25em;padding-bottom:.25em;padding-left:.25em;color:rgba(0,0,0,.6);display:-ms-flexbox;display:-webkit-flex;display:flex;-ms-flex-flow:row wrap;-webkit-flex-flow:row wrap;flex-flow:row wrap}
#header .details span:first-child{margin-left:-.125em}
#header .details span.email a{color:rgba(0,0,0,.85)}
#header .details br{display:none}
#header .details br+span::before{content:"\00a0\2013\00a0"}
#header .details br+span.author::before{content:"\00a0\22c5\00a0";color:rgba(0,0,0,.85)}
#header .details br+span#revremark::before{content:"\00a0|\00a0"}
#header #revnumber{text-transform:capitalize}
#header #revnumber::after{content:"\00a0"}
#content>h1:first-child:not([class]){color:rgba(0,0,0,.85);border-bottom:1px solid #dddddf;padding-bottom:8px;margin-top:0;padding-top:1rem;margin-bottom:1.25rem}
#toc{border-bottom:1px solid #e7e7e9;padding-bottom:.5em}
#toc>ul{margin-left:.125em}
#toc ul.sectlevel0>li>a{font-style:italic}
#toc ul.sectlevel0 ul.sectlevel1{margin:.5em 0}
#toc ul{font-family:"Open Sans","DejaVu Sans",sans-serif;list-style-type:none}
#toc li{line-height:1.3334;margin-top:.3334em}
#toc a{text-decoration:none}
#toc a:active{text-decoration:underline}
#toctitle{color:#7a2518;font-size:1.2em}
@media screen and (min-width:768px){#toctitle{font-size:1.375em}
body.toc2{padding-left:15em;padding-right:0}
#toc.toc2{margin-top:0!important;background:#f8f8f7;position:fixed;width:15em;left:0;top:0;border-right:1px solid #e7e7e9;border-top-width:0!important;border-bottom-width:0!important;z-index:1000;padding:1.25em 1em;height:100%;overflow:auto}
#toc.toc2 #toctitle{margin-top:0;margin-bottom:.8rem;font-size:1.2em}
#toc.toc2>ul{font-size:.9em;margin-bottom:0}
#toc.toc2 ul ul{margin-left:0;padding-left:1em}
#toc.toc2 ul.sectlevel0 ul.sectlevel1{padding-left:0;margin-top:.5em;margin-bottom:.5em}
body.toc2.toc-right{padding-left:0;padding-right:15em}
body.toc2.toc-right #toc.toc2{border-right-width:0;border-left:1px solid #e7e7e9;left:auto;right:0}}
@media screen and (min-width:1280px){body.toc2{padding-left:20em;padding-right:0}
#toc.toc2{width:20em}
#toc.toc2 #toctitle{font-size:1.375em}
#toc.toc2>ul{font-size:.95em}
#toc.toc2 ul ul{padding-left:1.25em}
body.toc2.toc-right{padding-left:0;padding-right:20em}}
#content #toc{border-style:solid;border-width:1px;border-color:#e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;-webkit-border-radius:4px;border-radius:4px}
#content #toc>:first-child{margin-top:0}
#content #toc>:last-child{margin-bottom:0}
#footer{max-width:100%;background:rgba(0,0,0,.8);padding:1.25em}
#footer-text{color:rgba(255,255,255,.8);line-height:1.44}
#content{margin-bottom:.625em}
.sect1{padding-bottom:.625em}
@media screen and (min-width:768px){#content{margin-bottom:1.25em}
.sect1{padding-bottom:1.25em}}
.sect1:last-child{padding-bottom:0}
.sect1+.sect1{border-top:1px solid #e7e7e9}
#content h1>a.anchor,h2>a.anchor,h3>a.anchor,#toctitle>a.anchor,.sidebarblock>.content>.title>a.anchor,h4>a.anchor,h5>a.anchor,h6>a.anchor{position:absolute;z-index:1001;width:1.5ex;margin-left:-1.5ex;display:block;text-decoration:none!important;visibility:hidden;text-align:center;font-weight:400}
#content h1>a.anchor::before,h2>a.anchor::before,h3>a.anchor::before,#toctitle>a.anchor::before,.sidebarblock>.content>.title>a.anchor::before,h4>a.anchor::before,h5>a.anchor::before,h6>a.anchor::before{content:"\00A7";font-size:.85em;display:block;padding-top:.1em}
#content h1:hover>a.anchor,#content h1>a.anchor:hover,h2:hover>a.anchor,h2>a.anchor:hover,h3:hover>a.anchor,#toctitle:hover>a.anchor,.sidebarblock>.content>.title:hover>a.anchor,h3>a.anchor:hover,#toctitle>a.anchor:hover,.sidebarblock>.content>.title>a.anchor:hover,h4:hover>a.anchor,h4>a.anchor:hover,h5:hover>a.anchor,h5>a.anchor:hover,h6:hover>a.anchor,h6>a.anchor:hover{visibility:visible}
#content h1>a.link,h2>a.link,h3>a.link,#toctitle>a.link,.sidebarblock>.content>.title>a.link,h4>a.link,h5>a.link,h6>a.link{color:#ba3925;text-decoration:none}
#content h1>a.link:hover,h2>a.link:hover,h3>a.link:hover,#toctitle>a.link:hover,.sidebarblock>.content>.title>a.link:hover,h4>a.link:hover,h5>a.link:hover,h6>a.link:hover{color:#a53221}
details,.audioblock,.imageblock,.literalblock,.listingblock,.stemblock,.videoblock{margin-bottom:1.25em}
details>summary:first-of-type{cursor:pointer;display:list-item;outline:none;margin-bottom:.75em}
.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{text-rendering:optimizeLegibility;text-align:left;font-family:"Noto Serif","DejaVu Serif",serif;font-size:1rem;font-style:italic}
table.tableblock.fit-content>caption.title{white-space:nowrap;width:0}
.paragraph.lead>p,#preamble>.sectionbody>[class="paragraph"]:first-of-type p{font-size:1.21875em;line-height:1.6;color:rgba(0,0,0,.85)}
table.tableblock #preamble>.sectionbody>[class="paragraph"]:first-of-type p{font-size:inherit}
.admonitionblock>table{border-collapse:separate;border:0;background:none;width:100%}
.admonitionblock>table td.icon{text-align:center;width:80px}
.admonitionblock>table td.icon img{max-width:none}
.admonitionblock>table td.icon .title{font-weight:bold;font-family:"Open Sans","DejaVu Sans",sans-serif;text-transform:uppercase}
.admonitionblock>table td.content{padding-left:1.125em;padding-right:1.25em;border-left:1px solid #dddddf;color:rgba(0,0,0,.6)}
.admonitionblock>table td.content>:last-child>:last-child{margin-bottom:0}
.exampleblock>.content{border-style:solid;border-width:1px;border-color:#e6e6e6;margin-bottom:1.25em;padding:1.25em;background:#fff;-webkit-border-radius:4px;border-radius:4px}
.exampleblock>.content>:first-child{margin-top:0}
.exampleblock>.content>:last-child{margin-bottom:0}
.sidebarblock{border-style:solid;border-width:1px;border-color:#dbdbd6;margin-bottom:1.25em;padding:1.25em;background:#f3f3f2;-webkit-border-radius:4px;border-radius:4px}
.sidebarblock>:first-child{margin-top:0}
.sidebarblock>:last-child{margin-bottom:0}
.sidebarblock>.content>.title{color:#7a2518;margin-top:0;text-align:center}
.exampleblock>.content>:last-child>:last-child,.exampleblock>.content .olist>ol>li:last-child>:last-child,.exampleblock>.content .ulist>ul>li:last-child>:last-child,.exampleblock>.content .qlist>ol>li:last-child>:last-child,.sidebarblock>.content>:last-child>:last-child,.sidebarblock>.content .olist>ol>li:last-child>:last-child,.sidebarblock>.content .ulist>ul>li:last-child>:last-child,.sidebarblock>.content .qlist>ol>li:last-child>:last-child{margin-bottom:0}
.literalblock pre,.listingblock>.content>pre{-webkit-border-radius:4px;border-radius:4px;word-wrap:break-word;overflow-x:auto;padding:1em;font-size:.8125em}
@media screen and (min-width:768px){.literalblock pre,.listingblock>.content>pre{font-size:.90625em}}
@media screen and (min-width:1280px){.literalblock pre,.listingblock>.content>pre{font-size:1em}}
.literalblock pre,.listingblock>.content>pre:not(.highlight),.listingblock>.content>pre[class="highlight"],.listingblock>.content>pre[class^="highlight "]{background:#f7f7f8}
.literalblock.output pre{color:#f7f7f8;background:rgba(0,0,0,.9)}
.listingblock>.content{position:relative}
.listingblock code[data-lang]::before{display:none;content:attr(data-lang);position:absolute;font-size:.75em;top:.425rem;right:.5rem;line-height:1;text-transform:uppercase;color:inherit;opacity:.5}
.listingblock:hover code[data-lang]::before{display:block}
.listingblock.terminal pre .command::before{content:attr(data-prompt);padding-right:.5em;color:inherit;opacity:.5}
.listingblock.terminal pre .command:not([data-prompt])::before{content:"$"}
.listingblock pre.highlightjs{padding:0}
.listingblock pre.highlightjs>code{padding:1em;-webkit-border-radius:4px;border-radius:4px}
.listingblock pre.prettyprint{border-width:0}
.prettyprint{background:#f7f7f8}
pre.prettyprint .linenums{line-height:1.45;margin-left:2em}
pre.prettyprint li{background:none;list-style-type:inherit;padding-left:0}
pre.prettyprint li code[data-lang]::before{opacity:1}
pre.prettyprint li:not(:first-child) code[data-lang]::before{display:none}
table.linenotable{border-collapse:separate;border:0;margin-bottom:0;background:none}
table.linenotable td[class]{color:inherit;vertical-align:top;padding:0;line-height:inherit;white-space:normal}
table.linenotable td.code{padding-left:.75em}
table.linenotable td.linenos{border-right:1px solid currentColor;opacity:.35;padding-right:.5em}
pre.pygments .lineno{border-right:1px solid currentColor;opacity:.35;display:inline-block;margin-right:.75em}
pre.pygments .lineno::before{content:"";margin-right:-.125em}
.quoteblock{margin:0 1em 1.25em 1.5em;display:table}
.quoteblock:not(.excerpt)>.title{margin-left:-1.5em;margin-bottom:.75em}
.quoteblock blockquote,.quoteblock p{color:rgba(0,0,0,.85);font-size:1.15rem;line-height:1.75;word-spacing:.1em;letter-spacing:0;font-style:italic;text-align:justify}
.quoteblock blockquote{margin:0;padding:0;border:0}
.quoteblock blockquote::before{content:"\201c";float:left;font-size:2.75em;font-weight:bold;line-height:.6em;margin-left:-.6em;color:#7a2518;text-shadow:0 1px 2px rgba(0,0,0,.1)}
.quoteblock blockquote>.paragraph:last-child p{margin-bottom:0}
.quoteblock .attribution{margin-top:.75em;margin-right:.5ex;text-align:right}
.verseblock{margin:0 1em 1.25em}
.verseblock pre{font-family:"Open Sans","DejaVu Sans",sans;font-size:1.15rem;color:rgba(0,0,0,.85);font-weight:300;text-rendering:optimizeLegibility}
.verseblock pre strong{font-weight:400}
.verseblock .attribution{margin-top:1.25rem;margin-left:.5ex}
.quoteblock .attribution,.verseblock .attribution{font-size:.9375em;line-height:1.45;font-style:italic}
.quoteblock .attribution br,.verseblock .attribution br{display:none}
.quoteblock .attribution cite,.verseblock .attribution cite{display:block;letter-spacing:-.025em;color:rgba(0,0,0,.6)}
.quoteblock.abstract blockquote::before,.quoteblock.excerpt blockquote::before,.quoteblock .quoteblock blockquote::before{display:none}
.quoteblock.abstract blockquote,.quoteblock.abstract p,.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{line-height:1.6;word-spacing:0}
.quoteblock.abstract{margin:0 1em 1.25em;display:block}
.quoteblock.abstract>.title{margin:0 0 .375em;font-size:1.15em;text-align:center}
.quoteblock.excerpt>blockquote,.quoteblock .quoteblock{padding:0 0 .25em 1em;border-left:.25em solid #dddddf}
.quoteblock.excerpt,.quoteblock .quoteblock{margin-left:0}
.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{color:inherit;font-size:1.0625rem}
.quoteblock.excerpt .attribution,.quoteblock .quoteblock .attribution{color:inherit;text-align:left;margin-right:0}
table.tableblock{max-width:100%;border-collapse:separate}
p.tableblock:last-child{margin-bottom:0}
td.tableblock>.content>:last-child{margin-bottom:-1.25em}
td.tableblock>.content>:last-child.sidebarblock{margin-bottom:0}
table.tableblock,th.tableblock,td.tableblock{border:0 solid #dedede}
table.grid-all>thead>tr>.tableblock,table.grid-all>tbody>tr>.tableblock{border-width:0 1px 1px 0}
table.grid-all>tfoot>tr>.tableblock{border-width:1px 1px 0 0}
table.grid-cols>*>tr>.tableblock{border-width:0 1px 0 0}
table.grid-rows>thead>tr>.tableblock,table.grid-rows>tbody>tr>.tableblock{border-width:0 0 1px}
table.grid-rows>tfoot>tr>.tableblock{border-width:1px 0 0}
table.grid-all>*>tr>.tableblock:last-child,table.grid-cols>*>tr>.tableblock:last-child{border-right-width:0}
table.grid-all>tbody>tr:last-child>.tableblock,table.grid-all>thead:last-child>tr>.tableblock,table.grid-rows>tbody>tr:last-child>.tableblock,table.grid-rows>thead:last-child>tr>.tableblock{border-bottom-width:0}
table.frame-all{border-width:1px}
table.frame-sides{border-width:0 1px}
table.frame-topbot,table.frame-ends{border-width:1px 0}
table.stripes-all tr,table.stripes-odd tr:nth-of-type(odd),table.stripes-even tr:nth-of-type(even),table.stripes-hover tr:hover{background:#f8f8f7}
th.halign-left,td.halign-left{text-align:left}
th.halign-right,td.halign-right{text-align:right}
th.halign-center,td.halign-center{text-align:center}
th.valign-top,td.valign-top{vertical-align:top}
th.valign-bottom,td.valign-bottom{vertical-align:bottom}
th.valign-middle,td.valign-middle{vertical-align:middle}
table thead th,table tfoot th{font-weight:bold}
tbody tr th{display:table-cell;line-height:1.6;background:#f7f8f7}
tbody tr th,tbody tr th p,tfoot tr th,tfoot tr th p{color:rgba(0,0,0,.8);font-weight:bold}
p.tableblock>code:only-child{background:none;padding:0}
p.tableblock{font-size:1em}
ol{margin-left:1.75em}
ul li ol{margin-left:1.5em}
dl dd{margin-left:1.125em}
dl dd:last-child,dl dd:last-child>:last-child{margin-bottom:0}
ol>li p,ul>li p,ul dd,ol dd,.olist .olist,.ulist .ulist,.ulist .olist,.olist .ulist{margin-bottom:.625em}
ul.checklist,ul.none,ol.none,ul.no-bullet,ol.no-bullet,ol.unnumbered,ul.unstyled,ol.unstyled{list-style-type:none}
ul.no-bullet,ol.no-bullet,ol.unnumbered{margin-left:.625em}
ul.unstyled,ol.unstyled{margin-left:0}
ul.checklist{margin-left:.625em}
ul.checklist li>p:first-child>.fa-square-o:first-child,ul.checklist li>p:first-child>.fa-check-square-o:first-child{width:1.25em;font-size:.8em;position:relative;bottom:.125em}
ul.checklist li>p:first-child>input[type="checkbox"]:first-child{margin-right:.25em}
ul.inline{display:-ms-flexbox;display:-webkit-box;display:flex;-ms-flex-flow:row wrap;-webkit-flex-flow:row wrap;flex-flow:row wrap;list-style:none;margin:0 0 .625em -1.25em}
ul.inline>li{margin-left:1.25em}
.unstyled dl dt{font-weight:400;font-style:normal}
ol.arabic{list-style-type:decimal}
ol.decimal{list-style-type:decimal-leading-zero}
ol.loweralpha{list-style-type:lower-alpha}
ol.upperalpha{list-style-type:upper-alpha}
ol.lowerroman{list-style-type:lower-roman}
ol.upperroman{list-style-type:upper-roman}
ol.lowergreek{list-style-type:lower-greek}
.hdlist>table,.colist>table{border:0;background:none}
.hdlist>table>tbody>tr,.colist>table>tbody>tr{background:none}
td.hdlist1,td.hdlist2{vertical-align:top;padding:0 .625em}
td.hdlist1{font-weight:bold;padding-bottom:1.25em}
.literalblock+.colist,.listingblock+.colist{margin-top:-.5em}
.colist td:not([class]):first-child{padding:.4em .75em 0;line-height:1;vertical-align:top}
.colist td:not([class]):first-child img{max-width:none}
.colist td:not([class]):last-child{padding:.25em 0}
.thumb,.th{line-height:0;display:inline-block;border:solid 4px #fff;-webkit-box-shadow:0 0 0 1px #ddd;box-shadow:0 0 0 1px #ddd}
.imageblock.left{margin:.25em .625em 1.25em 0}
.imageblock.right{margin:.25em 0 1.25em .625em}
.imageblock>.title{margin-bottom:0}
.imageblock.thumb,.imageblock.th{border-width:6px}
.imageblock.thumb>.title,.imageblock.th>.title{padding:0 .125em}
.image.left,.image.right{margin-top:.25em;margin-bottom:.25em;display:inline-block;line-height:0}
.image.left{margin-right:.625em}
.image.right{margin-left:.625em}
a.image{text-decoration:none;display:inline-block}
a.image object{pointer-events:none}
sup.footnote,sup.footnoteref{font-size:.875em;position:static;vertical-align:super}
sup.footnote a,sup.footnoteref a{text-decoration:none}
sup.footnote a:active,sup.footnoteref a:active{text-decoration:underline}
#footnotes{padding-top:.75em;padding-bottom:.75em;margin-bottom:.625em}
#footnotes hr{width:20%;min-width:6.25em;margin:-.25em 0 .75em;border-width:1px 0 0}
#footnotes .footnote{padding:0 .375em 0 .225em;line-height:1.3334;font-size:.875em;margin-left:1.2em;margin-bottom:.2em}
#footnotes .footnote a:first-of-type{font-weight:bold;text-decoration:none;margin-left:-1.05em}
#footnotes .footnote:last-of-type{margin-bottom:0}
#content #footnotes{margin-top:-.625em;margin-bottom:0;padding:.75em 0}
.gist .file-data>table{border:0;background:#fff;width:100%;margin-bottom:0}
.gist .file-data>table td.line-data{width:99%}
div.unbreakable{page-break-inside:avoid}
.big{font-size:larger}
.small{font-size:smaller}
.underline{text-decoration:underline}
.overline{text-decoration:overline}
.line-through{text-decoration:line-through}
.aqua{color:#00bfbf}
.aqua-background{background:#00fafa}
.black{color:#000}
.black-background{background:#000}
.blue{color:#0000bf}
.blue-background{background:#0000fa}
.fuchsia{color:#bf00bf}
.fuchsia-background{background:#fa00fa}
.gray{color:#606060}
.gray-background{background:#7d7d7d}
.green{color:#006000}
.green-background{background:#007d00}
.lime{color:#00bf00}
.lime-background{background:#00fa00}
.maroon{color:#600000}
.maroon-background{background:#7d0000}
.navy{color:#000060}
.navy-background{background:#00007d}
.olive{color:#606000}
.olive-background{background:#7d7d00}
.purple{color:#600060}
.purple-background{background:#7d007d}
.red{color:#bf0000}
.red-background{background:#fa0000}
.silver{color:#909090}
.silver-background{background:#bcbcbc}
.teal{color:#006060}
.teal-background{background:#007d7d}
.white{color:#bfbfbf}
.white-background{background:#fafafa}
.yellow{color:#bfbf00}
.yellow-background{background:#fafa00}
span.icon>.fa{cursor:default}
a span.icon>.fa{cursor:inherit}
.admonitionblock td.icon [class^="fa icon-"]{font-size:2.5em;text-shadow:1px 1px 2px rgba(0,0,0,.5);cursor:default}
.admonitionblock td.icon .icon-note::before{content:"\f05a";color:#19407c}
.admonitionblock td.icon .icon-tip::before{content:"\f0eb";text-shadow:1px 1px 2px rgba(155,155,0,.8);color:#111}
.admonitionblock td.icon .icon-warning::before{content:"\f071";color:#bf6900}
.admonitionblock td.icon .icon-caution::before{content:"\f06d";color:#bf3400}
.admonitionblock td.icon .icon-important::before{content:"\f06a";color:#bf0000}
.conum[data-value]{display:inline-block;color:#fff!important;background:rgba(0,0,0,.8);-webkit-border-radius:100px;border-radius:100px;text-align:center;font-size:.75em;width:1.67em;height:1.67em;line-height:1.67em;font-family:"Open Sans","DejaVu Sans",sans-serif;font-style:normal;font-weight:bold}
.conum[data-value] *{color:#fff!important}
.conum[data-value]+b{display:none}
.conum[data-value]::after{content:attr(data-value)}
pre .conum[data-value]{position:relative;top:-.125em}
b.conum *{color:inherit!important}
.conum:not([data-value]):empty{display:none}
dt,th.tableblock,td.content,div.footnote{text-rendering:optimizeLegibility}
h1,h2,p,td.content,span.alt{letter-spacing:-.01em}
p strong,td.content strong,div.footnote strong{letter-spacing:-.005em}
p,blockquote,dt,td.content,span.alt{font-size:1.0625rem}
p{margin-bottom:1.25rem}
.sidebarblock p,.sidebarblock dt,.sidebarblock td.content,p.tableblock{font-size:1em}
.exampleblock>.content{background:#fffef7;border-color:#e0e0dc;-webkit-box-shadow:0 1px 4px #e0e0dc;box-shadow:0 1px 4px #e0e0dc}
.print-only{display:none!important}
@page{margin:1.25cm .75cm}
@media print{*{-webkit-box-shadow:none!important;box-shadow:none!important;text-shadow:none!important}
html{font-size:80%}
a{color:inherit!important;text-decoration:underline!important}
a.bare,a[href^="#"],a[href^="mailto:"]{text-decoration:none!important}
a[href^="http:"]:not(.bare)::after,a[href^="https:"]:not(.bare)::after{content:"(" attr(href) ")";display:inline-block;font-size:.875em;padding-left:.25em}
abbr[title]::after{content:" (" attr(title) ")"}
pre,blockquote,tr,img,object,svg{page-break-inside:avoid}
thead{display:table-header-group}
svg{max-width:100%}
p,blockquote,dt,td.content{font-size:1em;orphans:3;widows:3}
h2,h3,#toctitle,.sidebarblock>.content>.title{page-break-after:avoid}
#toc,.sidebarblock,.exampleblock>.content{background:none!important}
#toc{border-bottom:1px solid #dddddf!important;padding-bottom:0!important}
body.book #header{text-align:center}
body.book #header>h1:first-child{border:0!important;margin:2.5em 0 1em}
body.book #header .details{border:0!important;display:block;padding:0!important}
body.book #header .details span:first-child{margin-left:0!important}
body.book #header .details br{display:block}
body.book #header .details br+span::before{content:none!important}
body.book #toc{border:0!important;text-align:left!important;padding:0!important;margin:0!important}
body.book #toc,body.book #preamble,body.book h1.sect0,body.book .sect1>h2{page-break-before:always}
.listingblock code[data-lang]::before{display:block}
#footer{padding:0 .9375em}
.hide-on-print{display:none!important}
.print-only{display:block!important}
.hide-for-print{display:none!important}
.show-for-print{display:inherit!important}}
@media print,amzn-kf8{#header>h1:first-child{margin-top:1.25rem}
.sect1{padding:0!important}
.sect1+.sect1{border:0}
#footer{background:none}
#footer-text{color:rgba(0,0,0,.6);font-size:.9em}}
@media amzn-kf8{#header,#content,#footnotes,#footer{padding:0}}
</style>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
</head>
<body class="book toc2 toc-left">
<div id="header">
<h1>Perl 6 Introduzione</h1>
<div class="details">
<span id="author" class="author">Naoum Hankache</span><br>
<span id="email" class="email"><a href="mailto:naoum@hankache.com">naoum@hankache.com</a></span><br>
<span id="author2" class="author">MarsMarsico</span><br>
<span id="email2" class="email"><a href="mailto:marsmarsico@tiscali.it">marsmarsico@tiscali.it</a></span><br>
</div>
<div id="toc" class="toc2">
<div id="toctitle">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#_introduzione">1. Introduzione</a>
<ul class="sectlevel2">
<li><a href="#_cosè_perl_6">1.1. Cos&#8217;è Perl 6</a></li>
<li><a href="#_gergo">1.2. Gergo</a></li>
<li><a href="#_come_installare_perl_6">1.3. Come installare Perl 6</a></li>
<li><a href="#_eseguire_codice_perl_6">1.4. Eseguire codice Perl 6</a></li>
<li><a href="#_editor">1.5. Editor</a></li>
<li><a href="#_salve_mondo">1.6. Salve Mondo!</a></li>
<li><a href="#_panoramica_sulla_sintassi">1.7. Panoramica sulla sintassi</a></li>
</ul>
</li>
<li><a href="#_operatori">2. Operatori</a>
<ul class="sectlevel2">
<li><a href="#_operatori_comuni">2.1. Operatori comuni</a></li>
<li><a href="#_operatori_inversi">2.2. Operatori inversi</a></li>
<li><a href="#_operatori_di_riduzione">2.3. Operatori di riduzione</a></li>
</ul>
</li>
<li><a href="#_variabili">3. Variabili</a>
<ul class="sectlevel2">
<li><a href="#_scalari">3.1. Scalari</a></li>
<li><a href="#_array">3.2. Array</a></li>
<li><a href="#_hash">3.3. Hash</a></li>
<li><a href="#_tipi">3.4. Tipi</a></li>
<li><a href="#_introspezione">3.5. Introspezione</a></li>
<li><a href="#_ambito">3.6. Ambito</a></li>
<li><a href="#_assegnamenti_e_vincoli">3.7. Assegnamenti e vincoli</a></li>
</ul>
</li>
<li><a href="#_funzioni_e_modificatori">4. Funzioni e modificatori</a></li>
<li><a href="#_cicli_e_condizioni">5. Cicli e condizioni</a>
<ul class="sectlevel2">
<li><a href="#_if">5.1. if</a></li>
<li><a href="#_unless">5.2. unless</a></li>
<li><a href="#_with">5.3. with</a></li>
<li><a href="#_for">5.4. for</a></li>
<li><a href="#_given">5.5. given</a></li>
<li><a href="#_loop">5.6. loop</a></li>
</ul>
</li>
<li><a href="#_io">6. I/O</a>
<ul class="sectlevel2">
<li><a href="#_io_essenziale_usando_il_terminale">6.1. I/O essenziale usando il terminale</a></li>
<li><a href="#_eseguire_comandi_shell">6.2. Eseguire comandi shell</a></li>
<li><a href="#_file_io">6.3. File I/O</a></li>
<li><a href="#_lavorare_con_file_e_cartelle">6.4. Lavorare con file e cartelle</a></li>
</ul>
</li>
<li><a href="#_funzioni_o_metodi">7. Funzioni o metodi</a>
<ul class="sectlevel2">
<li><a href="#_definizioni">7.1. Definizioni</a></li>
<li><a href="#_firma">7.2. Firma</a></li>
<li><a href="#_indirizzamento_multiplo_overload">7.3. Indirizzamento multiplo (overload)</a></li>
<li><a href="#_parametri_opzionali_e_mancanti">7.4. Parametri opzionali e mancanti</a></li>
<li><a href="#_restituire_valori">7.5. Restituire valori</a></li>
</ul>
</li>
<li><a href="#_programmazione_funzionale">8. Programmazione funzionale</a>
<ul class="sectlevel2">
<li><a href="#_i_metodi_sono_cittadini_di_prima_classe">8.1. I metodi sono cittadini di prima classe</a></li>
<li><a href="#_funzioni_anonime">8.2. Funzioni anonime</a></li>
<li><a href="#_concatenazione">8.3. Concatenazione</a></li>
<li><a href="#_operatore_alimentazione">8.4. Operatore alimentazione</a></li>
<li><a href="#_operatore_iper">8.5. Operatore iper</a></li>
<li><a href="#_giunzioni">8.6. Giunzioni</a></li>
<li><a href="#_liste_pigre">8.7. Liste pigre</a></li>
<li><a href="#_chiusure">8.8. Chiusure</a></li>
</ul>
</li>
<li><a href="#_classi_e_oggetti">9. Classi e oggetti</a>
<ul class="sectlevel2">
<li><a href="#_introduzione_2">9.1. Introduzione</a></li>
<li><a href="#_incapsulazione">9.2. Incapsulazione</a></li>
<li><a href="#_parametri_per_nome_e_parametri_per_posizione">9.3. Parametri per nome e parametri per posizione</a></li>
<li><a href="#_metodi">9.4. Metodi</a></li>
<li><a href="#_attributi_di_classe">9.5. Attributi di classe</a></li>
<li><a href="#_tipi_di_accesso_agli_attributi">9.6. Tipi di accesso agli attributi</a></li>
<li><a href="#_ereditarietà">9.7. Ereditarietà</a></li>
<li><a href="#_ereditarietà_multipla">9.8. Ereditarietà multipla</a></li>
<li><a href="#_ruoli">9.9. Ruoli</a></li>
<li><a href="#_introspezione_2">9.10. Introspezione</a></li>
</ul>
</li>
<li><a href="#_gestione_delle_eccezioni">10. Gestione delle eccezioni</a>
<ul class="sectlevel2">
<li><a href="#_catturare_le_eccezioni">10.1. Catturare le eccezioni</a></li>
<li><a href="#_scatenare_eccezioni">10.2. Scatenare eccezioni</a></li>
</ul>
</li>
<li><a href="#_espressioni_regolari">11. Espressioni regolari</a>
<ul class="sectlevel2">
<li><a href="#_definizione_delle_espressioni_regolari">11.1. Definizione delle espressioni regolari</a></li>
<li><a href="#_corrispondenza_dei_caratteri">11.2. Corrispondenza dei caratteri</a></li>
<li><a href="#_corrispondenza_di_categorie_di_caratteri">11.3. Corrispondenza di categorie di caratteri</a></li>
<li><a href="#_proprietà_della_codifica_unicode">11.4. Proprietà della codifica Unicode</a></li>
<li><a href="#_jolly">11.5. Jolly</a></li>
<li><a href="#_quantificatori">11.6. Quantificatori</a></li>
<li><a href="#_risultati_della_corrispondenza">11.7. Risultati della corrispondenza</a></li>
<li><a href="#_esempio">11.8. Esempio</a></li>
</ul>
</li>
<li><a href="#_i_moduli_perl_6">12. I moduli Perl 6</a>
<ul class="sectlevel2">
<li><a href="#_usare_i_moduli">12.1. Usare i moduli</a></li>
</ul>
</li>
<li><a href="#_unicode">13. Unicode</a>
<ul class="sectlevel2">
<li><a href="#_usare_lunicode">13.1. Usare l&#8217;unicode</a></li>
</ul>
</li>
<li><a href="#_parallelismo_concorrenza_ed_asyncronismo">14. Parallelismo, concorrenza ed asyncronismo</a>
<ul class="sectlevel2">
<li><a href="#_parallelismo">14.1. Parallelismo</a></li>
<li><a href="#_concorrenza_ed_asincronismo">14.2. Concorrenza ed asincronismo</a></li>
</ul>
</li>
<li><a href="#_interfaccia_chiamante_nativa">15. Interfaccia chiamante nativa</a>
<ul class="sectlevel2">
<li><a href="#_chiamata_a_funzione">15.1. Chiamata a funzione</a></li>
<li><a href="#_rinominare_una_funzione">15.2. Rinominare una funzione</a></li>
<li><a href="#_passaggio_di_argomenti">15.3. Passaggio di argomenti</a></li>
<li><a href="#_restituire_i_valori">15.4. restituire i valori</a></li>
<li><a href="#_tipi_2">15.5. Tipi</a></li>
</ul>
</li>
<li><a href="#_la_comunità">16. La comunità</a></li>
</ul>
</div>
</div>
<div id="content">
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>Scopo di questo documento è dare una veloce panoramica del linguaggio di
programmazione Perl 6. Per i neofiti di Perl 6, questo dovrebbe mettere in grado di partire.</p>
</div>
<div class="paragraph">
<p>Alcune sezioni di questo documento si riferiscono ad altre parti della <a href="http://docs.perl6.org">Perl 6 documentation</a>
(più completa ed accurata); consultale in caso di necessità di maggiori informazioni.</p>
</div>
<div class="paragraph">
<p>In questo documento, troverai esempi sulle materie più in voga.
Per comprenderli meglio, prenditi il tempo di riprodurre tutti gli esempi.</p>
</div>
<div class="paragraph">
<div class="title">Licenza</div>
<p>Questo lavoro è licenziato sotto Creative Commons Attribution-ShareAlike 4.0 International License.
Per vederne una copia, vista</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="https://creativecommons.org/licenses/by-sa/4.0/" class="bare">https://creativecommons.org/licenses/by-sa/4.0/</a>.</p>
</li>
</ul>
</div>
<div class="paragraph">
<div class="title">Contributi</div>
<p>Se vuoi contribuire a questo documento, riferisciti a:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="https://github.com/hankache/perl6intro" class="bare">https://github.com/hankache/perl6intro</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<div class="title">Feedback</div>
<p>tutti i feedback sono benvenuti:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="mailto:naoum@hankache.com">naoum@hankache.com</a></p>
</li>
<li>
<p><a href="mailto:marsmarsico@tiscali.it">marsmarsico@tiscali.it</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Se questo lavoro ti piace, clicca la <em>Star</em> nel repository che trovi qui:
<a href="https://github.com/hankache/perl6intro">Github</a>
grazie!</p>
</div>
<div class="ulist">
<div class="title">Altre versioni disponibili</div>
<ul>
<li>
<p>Bulgaro: <a href="http://bg.perl6intro.com" class="bare">http://bg.perl6intro.com</a></p>
</li>
<li>
<p>Cinese: <a href="http://zh.perl6intro.com" class="bare">http://zh.perl6intro.com</a></p>
</li>
<li>
<p>Francese: <a href="http://fr.perl6intro.com" class="bare">http://fr.perl6intro.com</a></p>
</li>
<li>
<p>Giapponese: <a href="http://ja.perl6intro.com" class="bare">http://ja.perl6intro.com</a></p>
</li>
<li>
<p>Inglese: <a href="http://perl6intro.com" class="bare">http://perl6intro.com</a></p>
</li>
<li>
<p>Olandese: <a href="http://nl.perl6intro.com" class="bare">http://nl.perl6intro.com</a></p>
</li>
<li>
<p>Portoghese: <a href="http://pt.perl6intro.com" class="bare">http://pt.perl6intro.com</a></p>
</li>
<li>
<p>Spagnolo: <a href="http://es.perl6intro.com" class="bare">http://es.perl6intro.com</a></p>
</li>
<li>
<p>Tedesco: <a href="http://de.perl6intro.com" class="bare">http://de.perl6intro.com</a></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_introduzione">1. Introduzione</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_cosè_perl_6">1.1. Cos&#8217;è Perl 6</h3>
<div class="paragraph">
<p>Perl 6 è un linguaggio gradualmente tipizzato, di alto livello, di uso generale.
Perl 6 è multiparadigmatico. Supporta sia programmazione procedurale
che orientatata agli oggetti che funzionale.</p>
</div>
<div class="ulist">
<div class="title">Il motto del Perl :</div>
<ul>
<li>
<p>TMTOWTDI (Pronounced Tim Toady): "There is more than one way to do it", ossia "c&#8217;è più di un modo per farlo".</p>
</li>
<li>
<p>Le cose facili debbono restare facili, le difficili più semplici e le impossibili difficili.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_gergo">1.2. Gergo</h3>
<div class="ulist">
<ul>
<li>
<p><strong>Perl 6</strong>: è la specifica di un linguaggio con una test suite.
Le implementazioni che passano la test suite di specifica sono considerate Perl 6.</p>
</li>
<li>
<p><strong>Rakudo</strong>: è un compilatore Perl 6.</p>
</li>
<li>
<p><strong>Rakudobrew</strong>: è un manager d&#8217;installazione per Rakudo.</p>
</li>
<li>
<p><strong>Zef</strong>: è un installatore di moduli per Perl 6.</p>
</li>
<li>
<p><strong>Rakudo Star</strong>: è una raccolta che include Rakudo, Zef, una collezione di moduli Perl 6 e della documentazione.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_come_installare_perl_6">1.3. Come installare Perl 6</h3>
<div class="paragraph">
<div class="title">Linux</div>
<p>Per installare Rakudo Star, lancia questi comandi dal tuo terminale:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-n">wget</span> <span class="tok-n">https:</span>//<span class="tok-n">rakudo</span>.<span class="tok-n">perl6</span>.<span class="tok-n">org</span><span class="tok-o">/</span><span class="tok-n">downloads</span><span class="tok-o">/</span><span class="tok-n">star</span><span class="tok-o">/</span><span class="tok-n">rakudo-star-2019</span><span class="tok-mf">.03</span>.<span class="tok-n">tar</span>.<span class="tok-n">gz</span>
<span class="tok-n">tar</span> <span class="tok-n">xfz</span> <span class="tok-n">rakudo-star-2019</span><span class="tok-mf">.03</span>.<span class="tok-n">tar</span>.<span class="tok-n">gz</span>
<span class="tok-n">cd</span> <span class="tok-n">rakudo-star-2019</span><span class="tok-mf">.03</span>
<span class="tok-nb">perl</span> <span class="tok-n">Configure</span>.<span class="tok-n">pl</span> --<span class="tok-n">gen-moar</span> --<span class="tok-n">make-install</span> --<span class="tok-n">prefix</span> ~/<span class="tok-n">rakudo</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Per altre opzioni, vai a <a href="http://rakudo.org/how-to-get-rakudo/#Installing-Rakudo-Star-Linux" class="bare">http://rakudo.org/how-to-get-rakudo/#Installing-Rakudo-Star-Linux</a></p>
</div>
<div class="paragraph">
<div class="title">macOS</div>
<p>Ci sono quattro opzioni:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Seguire gli stessi passi indicati per Linux</p>
</li>
<li>
<p>Installazione secondo homebrew: <code>brew install rakudo-star</code></p>
</li>
<li>
<p>Installazione con MacPorts: <code>sudo port install rakudo</code></p>
</li>
<li>
<p>scaricare l&#8217;ultimo installer (file con estensione .dmg) from <a href="https://rakudo.perl6.org/downloads/star/" class="bare">https://rakudo.perl6.org/downloads/star/</a></p>
</li>
</ul>
</div>
<div class="olist arabic">
<div class="title">Windows</div>
<ol class="arabic">
<li>
<p>Scaricare l&#8217;ultimo installer (file con estensione .msi) da <a href="https://rakudo.perl6.org/downloads/star/" class="bare">https://rakudo.perl6.org/downloads/star/</a><br>
Se la tua architettura è una 32-bit, scarica il file x86; se è una 64-bit, il file x86_64.</p>
</li>
<li>
<p>Dopo l&#8217;installazione accertati che <code>C:\rakudo\bin</code> sia nel PATH</p>
</li>
</ol>
</div>
<div class="olist arabic">
<div class="title">Docker</div>
<ol class="arabic">
<li>
<p>Prendi l&#8217;immagine ufficiale per Docker <code>docker pull rakudo-star</code></p>
</li>
<li>
<p>Poi fai girare un container con l&#8217;immagine <code>docker run -it rakudo-star</code></p>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="_eseguire_codice_perl_6">1.4. Eseguire codice Perl 6</h3>
<div class="paragraph">
<p>Eseguire codice Perl 6 può essere fatto usando REPL (Read-Eval-Print Loop).
Per farlo apri un terminale, digita <code>perl6</code> e premi [Enter].
Questo farà apparire il prompt <code>&gt;</code>.
Poi digita una linea di codice e digita [Enter].
REPL fornirà il valore della linea. Puoi digitare un&#8217;altra linea, oppure <code>exit</code>
e premere [Enter] per uscire da REPL.</p>
</div>
<div class="paragraph">
<p>Alternativamente, scrivi il tuo codice in un file, salvalo e fallo girare.
Si raccomanda che gli script Perl 6 abbiano l&#8217;estension <code>.pl6</code>.
Fai girare il file digitando <code>perl6 nomefile.pl6</code> nel terminale e premi [Enter].
A differenza di REPL, questo non scriverà automaticamente il risultato di
ogni linea: il codice deve contenere una istruzione opportuna (per esempio <code>say</code>)
per scrivere un output sul monitor.</p>
</div>
<div class="paragraph">
<p>REPL in generale si usa per fare delle prove su pezzetti specifici di codice,
tipicamente singole linee. Per programmi con più di una singola linea si raccomanda
di scriverle prima in un file e poi far girare quello.</p>
</div>
<div class="paragraph">
<p>Linee singole possono essere provate anche non interattivamente sulla linea di comando
attaverso il comando <code>perl6 -e 'tuo-codice-qui'</code> e premendo [Enter].</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Rakudo Star contiene un editor di liea che permette di fare quasi tutto senza REPL.</p>
</div>
<div class="paragraph">
<p>Se hai installato il semplice Rakudo invece di Rakudo Star allor probabilmente non avrai
abilitate le funzionalità di editing  di linea (che sono frecce alto e basso per la storia,
sinistra e destra per editare l&#8217;input, completamento con il TAB).
Valuta di far girare i seguenti comandi per avere tutto disponibile:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>zef install Linenoise</code> funziona su Windows, Linux e macOS</p>
</li>
<li>
<p><code>zef install Readline</code> se sei su Linux e preferisci la libreria <em>Readline</em> library</p>
</li>
</ul>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_editor">1.5. Editor</h3>
<div class="paragraph">
<p>Poiché scriveremo e salveremo il nostro codice Perl 6 per la maggior parte del tempo,
dovremmo avere un buon editor di testo che riconosca la sintassi Perl 6.</p>
</div>
<div class="paragraph">
<p>Personalmente uso e raccomando <a href="https://atom.io/">Atom</a>.
Si tratta di un moderno editor di testo che fornisce nativamente riconoscimento sintattico di Perl 6</p>
</div>
<div class="paragraph">
<p><a href="https://atom.io/packages/language-perl6">Perl 6 FE</a> è un altro riconoscitore sintattico di Perl 6 per Atom;
è derivato da un package originale corretto e riveduto.</p>
</div>
<div class="paragraph">
<p>Altre persone della comunità usano anche <a href="http://www.vim.org/">Vim</a>, <a href="https://www.gnu.org/software/emacs/">Emacs</a> oppure
<a href="http://padre.perlide.org/">Padre</a>.</p>
</div>
<div class="paragraph">
<p>Versioni recenti di Vim forniscono il riconoscimento sintattico nativamente.
Emacs e Padre richiederanno invece l&#8217;installaizone di package addizionali.</p>
</div>
</div>
<div class="sect2">
<h3 id="_salve_mondo">1.6. Salve Mondo!</h3>
<div class="paragraph">
<p>Inizieremo dal tradizionale 'salve mondo'</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-nb">say</span> <span class="tok-s">&#39;salve mondo&#39;</span>;</code></pre>
</div>
</div>
<div class="paragraph">
<p>che può anche essere scritto così:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-s">&#39;salve mondo&#39;</span>.<span class="tok-nb">say</span>;</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_panoramica_sulla_sintassi">1.7. Panoramica sulla sintassi</h3>
<div class="paragraph">
<p>Perl 6 è <strong>free form</strong>: Sei libero (la maggior parte delle volte) di usare un numero di spazi a piacere.</p>
</div>
<div class="paragraph">
<p><strong>Istruzioni</strong> sono tipicamente una linea logica di codice, necessitano di finire con punto e virgola:
<code>say "Ciao" if True;</code></p>
</div>
<div class="paragraph">
<p><strong>Espressioni</strong> sono speciali tipi di istruzioni che ritornano un valore:
<code>1+2</code> restituirà <code>3</code></p>
</div>
<div class="paragraph">
<p>Le espressioni sono composte da <strong>Operandi</strong> ed <strong>Operatori</strong></p>
</div>
<div class="paragraph">
<p>Gli <strong>operandi</strong> possono essere:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Variabili</strong>: un valore che può essere manipolato o cambiato.</p>
</li>
<li>
<p><strong>Costanti</strong>: un valore costante come un numero o una stringa.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Gli <strong>operatore</strong> vengono classificati nei seguenti tipi:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Tipo</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Descrizione</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Esempio</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Prefisso</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">precede l&#8217;operando</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>++1</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Infisso</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">tra operandi</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>1+2</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Postfisso</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">segue l&#8217;operando</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>1++</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Circumfisso</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">circonda l&#8217;operando</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>(1)</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Postcircumfisso</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">segue un operando, abbraccia l&#8217;altro</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Array[1]</code></p></td>
</tr>
</tbody>
</table>
<div class="sect3">
<h4 id="_identificatori">1.7.1. Identificatori</h4>
<div class="paragraph">
<p>Gli identificatori sono nomi dati agli opernadi quando questi vengono definiti.</p>
</div>
<div class="ulist">
<div class="title">Regole:</div>
<ul>
<li>
<p>Debbono iniziare con un carattere alfanumerico oppure con un trattino-basso.</p>
</li>
<li>
<p>Possono contenere cifre numeriche (eccetto che al primo posto).</p>
</li>
<li>
<p>Possono contenere trattini oppure apostrofi (eccetto che al primo o all&#8217;ultimo posto), dato che ci deve essere un carattere alfabetico alla destra di ogni trattino o di ogni apostrofo.</p>
</li>
</ul>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Corretto</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Scorretto</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>var1</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>1var</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>var-uno</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>var-1</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>var&#8217;uno</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>var'1</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>var1_</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>var1'</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>_var</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>-var</code></p></td>
</tr>
</tbody>
</table>
<div class="ulist">
<div class="title">Notazini convenzionali:</div>
<ul>
<li>
<p>notazione a cammello: <code>variabileNo1</code></p>
</li>
<li>
<p>notazione kebab: <code>variabile-no1</code></p>
</li>
<li>
<p>notazione a serpente: <code>variabile_no1</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Sei libero di nominare i tuoi identificatori come preferisci; è buona pratica adottare una certa notazione in modo uniforme.</p>
</div>
<div class="paragraph">
<p>Usare nomi significativi facilita la tua vita di programmatore (e quella degli altri!).</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>var1 = var2 * var3</code> è una istruzione sintatticamente corretta, ma il suo scopo non è di immediata comprensione.</p>
</li>
<li>
<p><code>salario-mensile = paga-giornaliera * giorni-lavorati</code> sarebbe un modo milgiore di nominare queste variabili.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_commenti">1.7.2. Commenti</h4>
<div class="paragraph">
<p>Un commento è un testo che viene ignorato dal compilatore e viene usato come un appunto.</p>
</div>
<div class="paragraph">
<p>I commenti si dividono in tre tipi:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>su singola linea:</p>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-c1"># questo è un commento su singola linea</span></code></pre>
</div>
</div>
</li>
<li>
<p>Annidati:</p>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-nb">say</span> <span class="tok-cm">#`(questo è un commento annidato)</span> <span class="tok-s">&quot;Salve Mondo.&quot;</span></code></pre>
</div>
</div>
</li>
<li>
<p>Multi-linea:</p>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-cm">=begin commento</span>
<span class="tok-cm">Questo è un commento multilinea.</span>
<span class="tok-cm">Commento 1</span>
<span class="tok-cm">Commento 2</span>
<span class="tok-cm">=end commento</span></code></pre>
</div>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_virgolettato">1.7.3. Virgolettato</h4>
<div class="paragraph">
<p>Le stringhe hanno bisogno di essere delimitate o da doppie virgolette oppure da virgolette singole.</p>
</div>
<div class="paragraph">
<p>Usa sempre le doppie virgolette se:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>la tua stringa contiene un apostrofo.</p>
</li>
<li>
<p>la tua stringa contiene una variabile che deve essere interpolata.</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-nb">say</span> <span class="tok-s">&#39;Salve Mondo&#39;</span>;   <span class="tok-c1"># Salve Mondo</span>
<span class="tok-nb">say</span> <span class="tok-s">&quot;Salve Mondo&quot;</span>;   <span class="tok-c1"># Salve Mondo</span>
<span class="tok-nb">say</span> <span class="tok-s">&quot;l&#39;amo&quot;</span>;         <span class="tok-c1"># l&#39;amo</span>
<span class="tok-k">my</span> <span class="tok-nv">$nome</span> = <span class="tok-s">&#39;John Doe&#39;</span>;
<span class="tok-nb">say</span> <span class="tok-s">&#39;Salve $nome&#39;</span>;   <span class="tok-c1"># Salve $nome</span>
<span class="tok-nb">say</span> <span class="tok-s">&quot;Salve $nome&quot;</span>;   <span class="tok-c1"># Salve John Doe</span></code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_operatori">2. Operatori</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_operatori_comuni">2.1. Operatori comuni</h3>
<div class="paragraph">
<p>Nella tabella qui sotto vediamo gli operatori più comunemente usati.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 7.1428%;">
<col style="width: 7.1428%;">
<col style="width: 28.5714%;">
<col style="width: 28.5714%;">
<col style="width: 28.5716%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-middle">Operatore</th>
<th class="tableblock halign-center valign-middle">Tipo</th>
<th class="tableblock halign-left valign-middle">Descrizione</th>
<th class="tableblock halign-left valign-middle">Esempio</th>
<th class="tableblock halign-left valign-middle">Risultato</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>+</code></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>Infisso</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">Addizione</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>1 + 2</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>3</code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>-</code></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>Infisso</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">Sottrazione</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>3 - 1</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>2</code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>*</code></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>Infisso</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">Moltiplicazione</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>3 * 2</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>6</code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>**</code></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>Infisso</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">Elevamento a potenza</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>3 ** 2</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>9</code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>/</code></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>Infisso</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">Divisione</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>3 / 2</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>1.5</code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>div</code></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>Infisso</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">Divisione Intera (arrotondamento per difetto)</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>3 div 2</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>1</code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>%</code></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>Infisso</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">Modulo</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>7 % 4</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>3</code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle" rowspan="2"><p class="tableblock"><code>%%</code></p></td>
<td class="tableblock halign-center valign-middle" rowspan="2"><p class="tableblock"><code>Infisso</code></p></td>
<td class="tableblock halign-left valign-middle" rowspan="2"><p class="tableblock">Divisibilità</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>6 %% 4</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>False</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>6 %% 3</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>True</code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>gcd</code></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>Infisso</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">Massimo comune divisore</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>6 gcd 9</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>3</code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>lcm</code></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>Infisso</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">Minimo comune multiplo</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>6 lcm 9</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>18</code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>==</code></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>Infisso</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">Uguaglianza numerica</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>9 == 7</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>False</code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>!=</code></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>Infisso</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">Disuguaglianza numerica</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>9 != 7</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>True</code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>&lt;</code></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>Infisso</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">Minore di</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>9 &lt; 7</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>False</code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>&gt;</code></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>Infisso</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">Maggiore di</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>9 &gt; 7</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>True</code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>&lt;=</code></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>Infisso</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">Minore o uguale</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>7 &lt;= 7</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>True</code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>&gt;=</code></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>Infisso</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">Maggiore o uguale</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>9 &gt;= 7</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>True</code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>eq</code></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>Infisso</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">Uguaglianza tra stringhe</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>"Giovanni" eq "Giovanni"</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>True</code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>ne</code></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>Infisso</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">Disuguaglianza tra stringhe</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>"Giovanni" ne "Giovanna"</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>True</code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>=</code></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>Infisso</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">Assegnamento</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>my $var = 7</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>Assegna il valore di <code>7</code> alla variabile <code>$var</code></code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle" rowspan="2"><p class="tableblock"><code>~</code></p></td>
<td class="tableblock halign-center valign-middle" rowspan="2"><p class="tableblock"><code>Infisso</code></p></td>
<td class="tableblock halign-left valign-middle" rowspan="2"><p class="tableblock">Concatenazione tra stringhe</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>9 ~ 7</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>97</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>"Hei " ~ "là"</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>Hei là</code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle" rowspan="2"><p class="tableblock"><code>x</code></p></td>
<td class="tableblock halign-center valign-middle" rowspan="2"><p class="tableblock"><code>Infisso</code></p></td>
<td class="tableblock halign-left valign-middle" rowspan="2"><p class="tableblock">Replicazione di stringhe</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>13 x 3</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>131313</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>"Ciao " x 3</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>Ciao Ciao Ciao</code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle" rowspan="5"><p class="tableblock"><code>~~</code></p></td>
<td class="tableblock halign-center valign-middle" rowspan="5"><p class="tableblock"><code>Infisso</code></p></td>
<td class="tableblock halign-left valign-middle" rowspan="5"><p class="tableblock">Corrispondenza intelligente</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>2 ~~ 2</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>True</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>2 ~~ Int</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>True</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>"Perl 6" ~~ "Perl 6"</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>True</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>"Perl 6" ~~ Str</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>True</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>"illuminismo" ~~ /lumi/</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>｢lumi｣</code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle" rowspan="2"><p class="tableblock"><code>++</code></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>Prefisso</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">Incremento</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>my $var = 2; ++$var;</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>PRIMA incrementa di 1 la variabile e ritorna il risultato <code>3</code></code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>Postfisso</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">Incremento</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>my $var = 2; $var++;</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>Ritorna la variabile <code>2</code> e POI la incrementa</code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle" rowspan="2"><p class="tableblock"><code>--</code></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>Prefisso</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">Decremento</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>my $var = 2; --$var;</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>PRIMA decrementa la variabile di 1 e ritorna il risultato <code>1</code></code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>Postfisso</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">Decremento</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>my $var = 2; $var--;</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>Ritorna la variabile <code>2</code> e POI la decrementa</code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle" rowspan="3"><p class="tableblock"><code>+</code></p></td>
<td class="tableblock halign-center valign-middle" rowspan="3"><p class="tableblock"><code>Prefisso</code></p></td>
<td class="tableblock halign-left valign-middle" rowspan="3"><p class="tableblock">Forza l&#8217;operando ad un valore numerico</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>+"3"</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>3</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>+True</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>1</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>+False</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>0</code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle" rowspan="3"><p class="tableblock"><code>-</code></p></td>
<td class="tableblock halign-center valign-middle" rowspan="3"><p class="tableblock"><code>Prefisso</code></p></td>
<td class="tableblock halign-left valign-middle" rowspan="3"><p class="tableblock">Forza l&#8217;opernaod ad un valroe numerico e ne ritorna la negazione</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>-"3"</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>-3</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>-True</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>-1</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>-False</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>0</code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle" rowspan="6"><p class="tableblock"><code>?</code></p></td>
<td class="tableblock halign-center valign-middle" rowspan="6"><p class="tableblock"><code>Prefisso</code></p></td>
<td class="tableblock halign-left valign-middle" rowspan="6"><p class="tableblock">Forza l&#8217;operando ad un valore booleano</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>?0</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>False</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>?9.8</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>True</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>?"Ciao"</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>True</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>?""</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>False</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>my $var; ?$var;</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>False</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>my $var = 7; ?$var;</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>True</code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>!</code></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>Prefisso</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">Forza l&#8217;operando ad un valore booleano e ne ritorna la negazione</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>!4</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>False</code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>..</code></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>Infisso</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">Intervallo</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>0..5</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>Crea un intervallo da 0 a 5</code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>..^</code></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>Infisso</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">Intervallo con estremo escluso</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>0..^5</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>Crea un intervallo da 0 a 4</code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>^..</code></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>Infisso</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">Intervallo con estremo escluso</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>0^..5</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>Crea un intervallo da 1 a 5</code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>^..^</code></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>Infisso</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">Intervallo con estremi esclusi</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>0^..^5</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>Crea un intervallo da 1 a 4</code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>^</code></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>Prefisso</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">Intervallo unario</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>^5</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>Come fosse 0..^5; crea un intervallo da 0 a 4</code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>&#8230;&#8203;</code></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>Infisso</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">Costruttore pigro di liste</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>0&#8230;&#8203;9999</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>ritorna gli elementi solo se richiesti</code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle" rowspan="2"><p class="tableblock"><code>|</code></p></td>
<td class="tableblock halign-center valign-middle" rowspan="2"><p class="tableblock"><code>Prefisso</code></p></td>
<td class="tableblock halign-left valign-middle" rowspan="2"><p class="tableblock">Spalmatore</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>|(0..5)</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>(0 1 2 3 4 5)</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>|(0^..^5)</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>(1 2 3 4)</code></p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="_operatori_inversi">2.2. Operatori inversi</h3>
<div class="paragraph">
<p>Aggiungendo una <code>R</code> prima di ogni operatore si rovesceranno i suoi operandi.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-middle">Operazione normale</th>
<th class="tableblock halign-left valign-middle">Risultato</th>
<th class="tableblock halign-left valign-middle">Operazione inversa</th>
<th class="tableblock halign-left valign-middle">Risultato</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>2 / 3</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>0.666667</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>2 R/ 3</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>1.5</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>2 - 1</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>1</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>2 R- 1</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>-1</code></p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="_operatori_di_riduzione">2.3. Operatori di riduzione</h3>
<div class="paragraph">
<p>Gli operatori di riduzione lavorano su liste di valori.
Si formano avvolgendo l&#8217;operatore tra parentesi quadre <code>[]</code></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-middle">Operazione normale</th>
<th class="tableblock halign-left valign-middle">Risultato</th>
<th class="tableblock halign-left valign-middle">Operatore di riduzione</th>
<th class="tableblock halign-left valign-middle">Risultato</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>1 + 2 + 3 + 4 + 5</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>15</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>[+] 1,2,3,4,5</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>15</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>1 * 2 * 3 * 4 * 5</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>120</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>[*] 1,2,3,4,5</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>120</code></p></td>
</tr>
</tbody>
</table>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Per vedere una lista completa degli operatori, incluse le precedenze tra di loro, vai qui <a href="https://docs.perl6.org/language/operators" class="bare">https://docs.perl6.org/language/operators</a>
</td>
</tr>
</table>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_variabili">3. Variabili</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Le variabili Perl 6 sono classificate in tre categorie: scalari, array e hash.</p>
</div>
<div class="paragraph">
<p>Un <strong>sigillo</strong> è un carattere che viene usato come prefisso per categorizzare le variabili.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>$</code> per gli scalari</p>
</li>
<li>
<p><code>@</code> per gli array</p>
</li>
<li>
<p><code>%</code> per gli hash</p>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="_scalari">3.1. Scalari</h3>
<div class="paragraph">
<p>Gli scalari portano un singolo valore oppure un puntatore.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-c1"># Stringa</span>
<span class="tok-k">my</span> <span class="tok-nv">$nome</span> = <span class="tok-s">&#39;John Doe&#39;</span>;
<span class="tok-nb">say</span> <span class="tok-nv">$nome</span>;

<span class="tok-c1"># Interi</span>
<span class="tok-k">my</span> <span class="tok-nv">$anni</span> = <span class="tok-mi">99</span>;
<span class="tok-nb">say</span> <span class="tok-nv">$anni</span>;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Sugli scalari si può applicare un gruppo specifico di operazioni, dipendentemente dal valore che portano.</p>
</div>
<div class="listingblock">
<div class="title">Stringhe</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">my</span> <span class="tok-nv">$nome</span> = <span class="tok-s">&#39;John Doe&#39;</span>;
<span class="tok-nb">say</span> <span class="tok-nv">$nome</span>.<span class="tok-nb">uc</span>;
<span class="tok-nb">say</span> <span class="tok-nv">$nome</span>.<span class="tok-nb">chars</span>;
<span class="tok-nb">say</span> <span class="tok-nv">$nome</span>.<span class="tok-nb">flip</span>;</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-n">JOHN</span> <span class="tok-n">DOE</span>
<span class="tok-mi">8</span>
<span class="tok-n">eoD</span> <span class="tok-n">nhoJ</span></code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Per avere una lista completa dei metodi applicabili alle stringhe, vedi qui <a href="https://docs.perl6.org/type/Str" class="bare">https://docs.perl6.org/type/Str</a>
</td>
</tr>
</table>
</div>
<div class="listingblock">
<div class="title">Interi</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">my</span> <span class="tok-nv">$anni</span> = <span class="tok-mi">17</span>;
<span class="tok-nb">say</span> <span class="tok-nv">$anni</span>.<span class="tok-n">is-prime</span>;</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-nb">True</span></code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Per avere una lista completa dei metodi applicabili agli interi vei qui <a href="https://docs.perl6.org/type/Int" class="bare">https://docs.perl6.org/type/Int</a>
</td>
</tr>
</table>
</div>
<div class="listingblock">
<div class="title">Numeri razionali</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">my</span> <span class="tok-nv">$anni</span> = <span class="tok-mf">2.3</span>;
<span class="tok-nb">say</span> <span class="tok-nv">$anni</span>.<span class="tok-n">numerator</span>;
<span class="tok-nb">say</span> <span class="tok-nv">$anni</span>.<span class="tok-n">denominator</span>;
<span class="tok-nb">say</span> <span class="tok-nv">$anni</span>.<span class="tok-n">nude</span>;</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-mi">23</span>
<span class="tok-mi">10</span>
(<span class="tok-mi">23</span> <span class="tok-mi">10</span>)</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Per una lista completa dei metodi applicabili ai numeri razionali vedi qui <a href="https://docs.perl6.org/type/Rat" class="bare">https://docs.perl6.org/type/Rat</a>
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_array">3.2. Array</h3>
<div class="paragraph">
<p>Gli array (alias vettori, liste etc ndt.) sono liste contenenti valori multipli.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">my</span> <span class="tok-nv">@animali</span> = <span class="tok-s">&#39;cammello&#39;</span>,<span class="tok-s">&#39;lama&#39;</span>,<span class="tok-s">&#39;gufo&#39;</span>;
<span class="tok-nb">say</span> <span class="tok-nv">@animali</span>;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Sugli array si possono fare un sacco di perazioni, come mostrato nell&#8217;esempio sottostante:</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
La tilde <code>~</code> si usa per la concatenazione delle stringhe.
</td>
</tr>
</table>
</div>
<div class="listingblock">
<div class="title"><code>Script</code></div>
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">my</span> <span class="tok-nv">@animali</span> = <span class="tok-s">&#39;cammello&#39;</span>,<span class="tok-s">&#39;vigogna&#39;</span>,<span class="tok-s">&#39;lama&#39;</span>;
<span class="tok-nb">say</span> <span class="tok-s">&quot;Nello zoo ci sono &quot;</span> ~ <span class="tok-nv">@animali</span>.<span class="tok-nb">elems</span> ~ <span class="tok-s">&quot; animali&quot;</span>;
<span class="tok-nb">say</span> <span class="tok-s">&quot;Gli animali sono: &quot;</span> ~ <span class="tok-nv">@animali</span>;
<span class="tok-nb">say</span> <span class="tok-s">&quot;Adotterò un gufo per lo zoo&quot;</span>;
<span class="tok-nv">@animali</span>.<span class="tok-nb">push</span>(<span class="tok-s">&quot;gufo&quot;</span>);
<span class="tok-nb">say</span> <span class="tok-s">&quot;Ora il mio zoo ha: &quot;</span> ~ <span class="tok-nv">@animali</span>;
<span class="tok-nb">say</span> <span class="tok-s">&quot;Il primo animale adottato fu &quot;</span> ~ <span class="tok-nv">@animali</span>[<span class="tok-mi">0</span>];
<span class="tok-nv">@animali</span>.<span class="tok-nb">pop</span>;
<span class="tok-nb">say</span> <span class="tok-s">&quot;Sfortunatamente il gufo è volato via e siamo rimasti con: &quot;</span> ~ <span class="tok-nv">@animali</span>;
<span class="tok-nb">say</span> <span class="tok-s">&quot;Stiamo chiudendo lo zoo tenendo un solo animale&quot;</span>;
<span class="tok-nb">say</span> <span class="tok-s">&quot;Stiamo lasciando andare: &quot;</span> ~ <span class="tok-nv">@animali</span>.<span class="tok-nb">splice</span>(<span class="tok-mi">1</span>,<span class="tok-mi">2</span>) ~ <span class="tok-s">&quot; e teniamo il &quot;</span> ~ <span class="tok-nv">@animali</span>;</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title"><code>Output</code></div>
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-n">Nello</span> <span class="tok-n">zoo</span> <span class="tok-n">ci</span> <span class="tok-n">sono</span> <span class="tok-mi">3</span> <span class="tok-n">animali</span>
<span class="tok-n">Gli</span> <span class="tok-n">animali</span> <span class="tok-n">sono:</span> <span class="tok-n">cammello</span> <span class="tok-n">vigogna</span> <span class="tok-n">lama</span>
<span class="tok-n">Adotterò</span> <span class="tok-n">un</span> <span class="tok-n">gufo</span> <span class="tok-n">per</span> <span class="tok-n">lo</span> <span class="tok-n">zoo</span>
<span class="tok-n">Ora</span> <span class="tok-n">il</span> <span class="tok-n">mio</span> <span class="tok-n">zoo</span> <span class="tok-n">ha:</span> <span class="tok-n">cammello</span> <span class="tok-n">vigogna</span> <span class="tok-n">lama</span> <span class="tok-n">gufo</span>
<span class="tok-n">Il</span> <span class="tok-n">primo</span> <span class="tok-n">animale</span> <span class="tok-n">adottato</span> <span class="tok-n">fu</span> <span class="tok-n">il</span> <span class="tok-n">cammello</span>
<span class="tok-n">Sfortunatamente</span> <span class="tok-n">il</span> <span class="tok-n">gufo</span> <span class="tok-n">è</span> <span class="tok-n">volato</span> <span class="tok-n">via</span> <span class="tok-nb">e</span> <span class="tok-n">siamo</span> <span class="tok-n">rimasti</span> <span class="tok-n">con:</span> <span class="tok-n">cammello</span> <span class="tok-n">vigogna</span> <span class="tok-n">lama</span>
<span class="tok-n">Stiamo</span> <span class="tok-n">chiudendo</span> <span class="tok-n">lo</span> <span class="tok-n">zoo</span> <span class="tok-n">tenendo</span> <span class="tok-n">un</span> <span class="tok-n">solo</span> <span class="tok-n">animale</span>
<span class="tok-n">Stiamo</span> <span class="tok-n">lasciando</span> <span class="tok-n">andare:</span> <span class="tok-n">vigogna</span> <span class="tok-n">lama</span> <span class="tok-nb">e</span> <span class="tok-n">teniamo</span> <span class="tok-n">il</span> <span class="tok-n">cammello</span></code></pre>
</div>
</div>
<div class="paragraph">
<div class="title">Spiegazione</div>
<p><code>.elems</code> ritorna il numero degli elementi di un array.<br>
<code>.push()</code> aggiunge uno o più elementi all&#8217;array.<br>
Possiamo accedere ad uno specifico elemento dell&#8217;array specificando la sua posizione <code>@animali[0]</code>.<br>
<code>.pop</code> rimuove l&#8217;ultimo elemento dell&#8217;array e lo restituisce.<br>
<code>.splice(a,n)</code> rimuove <code>n</code> elmenti iniziando dalla posizione <code>a</code>.</p>
</div>
<div class="sect3">
<h4 id="_array_a_dimensione_fissata">3.2.1. array a dimensione fissata</h4>
<div class="paragraph">
<p>Un array semplice viene dichiarato così:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">my</span> <span class="tok-nv">@array</span>;</code></pre>
</div>
</div>
<div class="paragraph">
<p>L&#8217;array semplice può avere una lunghezza qualsiasi e per questo viene chiamato auto-estensibile.<br>
L&#8217;array accetta qualsiasi numero di valori, senza restrizioni.</p>
</div>
<div class="paragraph">
<p>Al contrario, possiamo creare array a dimesione fissata.<br>
Questi array non possono ricevere accessi oltre la dimensione data.</p>
</div>
<div class="paragraph">
<p>Per dichiarare un array di dimensione fissata devi specificare il massimo numero di elementi tra parentesi quadre subito dopo il suo nome:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">my</span> <span class="tok-nv">@array</span>[<span class="tok-mi">3</span>];</code></pre>
</div>
</div>
<div class="paragraph">
<p>Questo array potrà tenere al massimo tre valori, indicizzati da 0 a 2.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">my</span> <span class="tok-nv">@array</span>[<span class="tok-mi">3</span>];
<span class="tok-nv">@array</span>[<span class="tok-mi">0</span>] = <span class="tok-s">&quot;primo valore&quot;</span>;
<span class="tok-nv">@array</span>[<span class="tok-mi">1</span>] = <span class="tok-s">&quot;secondo valore&quot;</span>;
<span class="tok-nv">@array</span>[<span class="tok-mi">2</span>] = <span class="tok-s">&quot;terzo valore&quot;</span>;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Non potrai aggiungere un quarto valore:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">my</span> <span class="tok-nv">@array</span>[<span class="tok-mi">3</span>];
<span class="tok-nv">@array</span>[<span class="tok-mi">0</span>] = <span class="tok-s">&quot;primo valore&quot;</span>;
<span class="tok-nv">@array</span>[<span class="tok-mi">1</span>] = <span class="tok-s">&quot;secondo valore&quot;</span>;
<span class="tok-nv">@array</span>[<span class="tok-mi">2</span>] = <span class="tok-s">&quot;terzo valore&quot;</span>;
<span class="tok-nv">@array</span>[<span class="tok-mi">3</span>] = <span class="tok-s">&quot;quarto valore&quot;</span>;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Otterresti il seguente messaggio di errore:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-n">Index</span> <span class="tok-mi">3</span> <span class="tok-k">for</span> <span class="tok-n">dimension</span> <span class="tok-mi">1</span> <span class="tok-n">out</span> <span class="tok-k">of</span> <span class="tok-n">range</span> (<span class="tok-n">must</span> <span class="tok-n">be</span> <span class="tok-mi">0</span><span class="tok-o">..</span><span class="tok-mi">2</span>)</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_array_multidimensionali">3.2.2. Array multidimensionali</h4>
<div class="paragraph">
<p>Gli array che abbiamo visto sono monodimensionali.<br>
Fortunatamente possiamo definirne anche di multidimensionali in Perl 6.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">my</span> <span class="tok-nv">@tbl</span>[<span class="tok-mi">3</span>;<span class="tok-mi">2</span>];</code></pre>
</div>
</div>
<div class="paragraph">
<p>Questo array è mulitidimensionale.
La prima dimensione può avere un massimo di tre valori e la seconda un massimo di due.</p>
</div>
<div class="paragraph">
<p>Pensa ad una griglia 3x2.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">my</span> <span class="tok-nv">@tbl</span>[<span class="tok-mi">3</span>;<span class="tok-mi">2</span>];
<span class="tok-nv">@tbl</span>[<span class="tok-mi">0</span>;<span class="tok-mi">0</span>] = <span class="tok-mi">1</span>;
<span class="tok-nv">@tbl</span>[<span class="tok-mi">0</span>;<span class="tok-mi">1</span>] = <span class="tok-s">&quot;x&quot;</span>;
<span class="tok-nv">@tbl</span>[<span class="tok-mi">1</span>;<span class="tok-mi">0</span>] = <span class="tok-mi">2</span>;
<span class="tok-nv">@tbl</span>[<span class="tok-mi">1</span>;<span class="tok-mi">1</span>] = <span class="tok-s">&quot;y&quot;</span>;
<span class="tok-nv">@tbl</span>[<span class="tok-mi">2</span>;<span class="tok-mi">0</span>] = <span class="tok-mi">3</span>;
<span class="tok-nv">@tbl</span>[<span class="tok-mi">2</span>;<span class="tok-mi">1</span>] = <span class="tok-s">&quot;z&quot;</span>;
<span class="tok-nb">say</span> <span class="tok-nv">@tbl</span></code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span>[[<span class="tok-mi">1</span> <span class="tok-o">x</span>] [<span class="tok-mi">2</span> <span class="tok-n">y</span>] [<span class="tok-mi">3</span> <span class="tok-n">z</span>]]</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Rappresentazione visuale di un array:</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span>[<span class="tok-mi">1</span> <span class="tok-o">x</span>]
[<span class="tok-mi">2</span> <span class="tok-n">y</span>]
[<span class="tok-mi">3</span> <span class="tok-n">z</span>]</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Per avere una guida completa sugli array vedi qui <a href="https://docs.perl6.org/type/Array" class="bare">https://docs.perl6.org/type/Array</a>
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_hash">3.3. Hash</h3>
<div class="listingblock">
<div class="title">Un hash è un insime di coppie chiave/valore.</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">my</span> <span class="tok-nv">%capitali</span> = (<span class="tok-s">&#39;Italia&#39;</span>,<span class="tok-s">&#39;Roma&#39;</span>,<span class="tok-s">&#39;Germania&#39;</span>,<span class="tok-s">&#39;Berlino&#39;</span>);
<span class="tok-nb">say</span> <span class="tok-nv">%capitali</span>;</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Un altra forma, più succinta, di popolare un hash:</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">my</span> <span class="tok-nv">%capitali</span> = (<span class="tok-n">Italia</span> =&gt; <span class="tok-s">&#39;Roma&#39;</span>, <span class="tok-n">Germania</span> =&gt; <span class="tok-s">&#39;Berlino&#39;</span>);
<span class="tok-nb">say</span> <span class="tok-nv">%capitali</span>;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Alcuni metodi che possono essere applicati agli hash:</p>
</div>
<div class="listingblock">
<div class="title"><code>Script</code></div>
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">my</span> <span class="tok-nv">%capitali</span> = (<span class="tok-n">Italia</span> =&gt; <span class="tok-s">&#39;Roma&#39;</span>, <span class="tok-n">Germania</span> =&gt; <span class="tok-s">&#39;Berlino&#39;</span>);
<span class="tok-nv">%capitali</span>.<span class="tok-n">push:</span> (<span class="tok-n">Francia</span> =&gt; <span class="tok-s">&#39;Parigi&#39;</span>);
<span class="tok-nb">say</span> <span class="tok-nv">%capitali</span>.<span class="tok-nb">kv</span>;
<span class="tok-nb">say</span> <span class="tok-nv">%capitali</span>.<span class="tok-nb">keys</span>;
<span class="tok-nb">say</span> <span class="tok-nv">%capitali</span>.<span class="tok-nb">values</span>;
<span class="tok-nb">say</span> <span class="tok-s">&quot;La capitale della Francia è: &quot;</span> ~ <span class="tok-nv">%capitali&lt;Francia&gt;</span>;</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title"><code>Output</code></div>
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span>(<span class="tok-n">Francia</span> <span class="tok-n">Parigi</span> <span class="tok-n">Germania</span> <span class="tok-n">Berlino</span> <span class="tok-n">Italia</span> <span class="tok-n">Roma</span>)
(<span class="tok-n">Francia</span> <span class="tok-n">Germania</span> <span class="tok-n">Italia</span>)
(<span class="tok-n">Parigi</span> <span class="tok-n">Berlino</span> <span class="tok-n">Roma</span>)
<span class="tok-n">La</span> <span class="tok-n">capitale</span> <span class="tok-n">della</span> <span class="tok-n">Francia</span> <span class="tok-n">è:</span> <span class="tok-n">Parigi</span></code></pre>
</div>
</div>
<div class="paragraph">
<div class="title">Spiegazione</div>
<p><code>.push: (chiave =&gt; 'valore')</code> aggiunge una nuova coppia chiave/valore.<br>
<code>.kv</code> ritorna una lista contenente tutte le chiavi ed i valori.<br>
<code>.keys</code> ritorna una lista contenente tutte le chiavi.<br>
<code>.values</code> ritorna una lista contenente tutti i valori.<br>
Possiamo accedere ad uno specifico valore nell&#8217;hash specificando la sua chaive, così <code>%hash&lt;key&gt;</code></p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Per avere una guida completa sugli hash vedi qui <a href="https://docs.perl6.org/type/Hash" class="bare">https://docs.perl6.org/type/Hash</a>
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_tipi">3.4. Tipi</h3>
<div class="paragraph">
<p>Nei precedenti esempi non abbiamo specificato che tipo di valori le variabili dovrebbero contenere.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
<code>.WHAT</code> ritornerà il tipo di valore contentuo in una variabile.
</td>
</tr>
</table>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">my</span> <span class="tok-nv">$var</span> = <span class="tok-s">&#39;Text&#39;</span>;
<span class="tok-nb">say</span> <span class="tok-nv">$var</span>;
<span class="tok-nb">say</span> <span class="tok-nv">$var</span>.<span class="tok-nb">WHAT</span>;

<span class="tok-nv">$var</span> = <span class="tok-mi">123</span>;
<span class="tok-nb">say</span> <span class="tok-nv">$var</span>;
<span class="tok-nb">say</span> <span class="tok-nv">$var</span>.<span class="tok-nb">WHAT</span>;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Come puoi vedere nell&#8217;esempio qui sopra, il tipo di valore in <code>$var</code> prima era (Str) e poi è diventato (Int).</p>
</div>
<div class="paragraph">
<p>Questo stile di programmazionie viene chiamato tipizzazione dinamica. Dinamica nel senso che le variabili possono contenere valori di ogni tipo (tipo Any ndt).</p>
</div>
<div class="paragraph">
<p>Prova a far girare questo esempio:<br>
Nota <code>Int</code> prima del nome della variabile.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">my</span> <span class="tok-nb">Int</span> <span class="tok-nv">$var</span> = <span class="tok-s">&#39;Text&#39;</span>;
<span class="tok-nb">say</span> <span class="tok-nv">$var</span>;
<span class="tok-nb">say</span> <span class="tok-nv">$var</span>.<span class="tok-nb">WHAT</span>;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Fallirà con questo messaggio di errore: <code>Type check failed in assignment to $var; expected Int but got Str</code>
 controllo sul tipo fallito per $var; mi aspettavo un Int ma ho ricevuto Str]</p>
</div>
<div class="paragraph">
<p>Ciò che è successo è che abbiamo specificato che la variabile avrebbe dovuto essere di un tipo (Int), ma quando l&#8217;abbiamo assegnata ad una stringa è fallita.</p>
</div>
<div class="paragraph">
<p>Questo stile di programmazione si chiama tipizzazione statica. Statica nel senso che i tipi delle variablili sono definiti prima degli assegnamenti e non possono più cambiare.</p>
</div>
<div class="paragraph">
<p>Il Perl 6 è classificato come <strong>gradualmente tipizzato</strong>; esso permette sia la tipizzazione <strong>statica</strong> che quella <strong>dinamica</strong>.</p>
</div>
<div class="listingblock">
<div class="title">Anche array ed hash possono essere tipizzati staticamente:</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">my</span> <span class="tok-nb">Int</span> <span class="tok-nv">@array</span> = <span class="tok-mi">1</span>,<span class="tok-mi">2</span>,<span class="tok-mi">3</span>;
<span class="tok-nb">say</span> <span class="tok-nv">@array</span>;
<span class="tok-nb">say</span> <span class="tok-nv">@array</span>.<span class="tok-nb">WHAT</span>;

<span class="tok-k">my</span> <span class="tok-nb">Str</span> <span class="tok-nv">@multilingual</span> = <span class="tok-s">&quot;Ciao&quot;</span>,<span class="tok-s">&quot;Salut&quot;</span>,<span class="tok-s">&quot;Hallo&quot;</span>,<span class="tok-s">&quot;您好&quot;</span>,<span class="tok-s">&quot;안녕하세요&quot;</span>,<span class="tok-s">&quot;こんにちは&quot;</span>;
<span class="tok-nb">say</span> <span class="tok-nv">@multilingual</span>;
<span class="tok-nb">say</span> <span class="tok-nv">@multilingual</span>.<span class="tok-nb">WHAT</span>;

<span class="tok-k">my</span> <span class="tok-nb">Str</span> <span class="tok-nv">%capitali</span> = (<span class="tok-n">Italia</span> =&gt; <span class="tok-s">&#39;Roma&#39;</span>, <span class="tok-n">Germania</span> =&gt; <span class="tok-s">&#39;Berlino&#39;</span>);
<span class="tok-nb">say</span> <span class="tok-nv">%capitali</span>;
<span class="tok-nb">say</span> <span class="tok-nv">%capitali</span>.<span class="tok-nb">WHAT</span>;

<span class="tok-k">my</span> <span class="tok-nb">Int</span> <span class="tok-nv">%country-codes</span> = (<span class="tok-n">Italia</span> =&gt; <span class="tok-mi">39</span>, <span class="tok-n">Germania</span> =&gt; <span class="tok-mi">49</span>);
<span class="tok-nb">say</span> <span class="tok-nv">%country-codes</span>;
<span class="tok-nb">say</span> <span class="tok-nv">%country-codes</span>.<span class="tok-nb">WHAT</span>;</code></pre>
</div>
</div>
<div class="paragraph">
<div class="title">Qui sotto una lista dei tipi più comunemente usati:</div>
<p>Probabilmente non userai mai i primi due ma essi vengono inclusi in questa lista per completezza.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 14.2857%;">
<col style="width: 42.8571%;">
<col style="width: 28.5714%;">
<col style="width: 14.2858%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code><strong>Tipo</strong></code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code><strong>Descrizione</strong></code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code><strong>Esempio</strong></code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code><strong>Risultato</strong></code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>Mu</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>La radice della gerarchia dei tipi del Perl 6</code></p></td>
<td class="tableblock halign-left valign-middle"></td>
<td class="tableblock halign-left valign-middle"></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>Any</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>Classe base per nuove classi e per la maggior parte delle classi predefinite</code></p></td>
<td class="tableblock halign-left valign-middle"></td>
<td class="tableblock halign-left valign-middle"></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>Cool</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>Valore che può essere trattato indifferentemente come una stringa oppure come un numero</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>my Cool $var = 31; say $var.flip; say $var * 2;</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>13 62</code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>Str</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>Stringa di caratteri</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>my Str $var = "NEON"; say $var.flip;</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>NOEN</code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>Int</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>Intero (precisioine arbitraria)</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>7 + 7</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>14</code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>Rat</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>Numero razionale (precisione limitata)</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>0.1 + 0.2</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>0.3</code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>Bool</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>Booleano</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>!True</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>False</code></p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="_introspezione">3.5. Introspezione</h3>
<div class="paragraph">
<p>Introspezione è il processo per cui si ottiene una informazione sulle proprietà di un oggetto, come il tipo.<br>
In un esempio precedente abbiamo usato <code>.WHAT</code> per ottenere il tipo di una variabile.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">my</span> <span class="tok-nb">Int</span> <span class="tok-nv">$var</span>;
<span class="tok-nb">say</span> <span class="tok-nv">$var</span>.<span class="tok-nb">WHAT</span>;    <span class="tok-c1"># (Int)</span>
<span class="tok-k">my</span> <span class="tok-nv">$var2</span>;
<span class="tok-nb">say</span> <span class="tok-nv">$var2</span>.<span class="tok-nb">WHAT</span>;   <span class="tok-c1"># (Any)</span>
<span class="tok-nv">$var2</span> = <span class="tok-mi">1</span>;
<span class="tok-nb">say</span> <span class="tok-nv">$var2</span>.<span class="tok-nb">WHAT</span>;   <span class="tok-c1"># (Int)</span>
<span class="tok-nv">$var2</span> = <span class="tok-s">&quot;Hello&quot;</span>;
<span class="tok-nb">say</span> <span class="tok-nv">$var2</span>.<span class="tok-nb">WHAT</span>;   <span class="tok-c1"># (Str)</span>
<span class="tok-nv">$var2</span> = <span class="tok-nb">True</span>;
<span class="tok-nb">say</span> <span class="tok-nv">$var2</span>.<span class="tok-nb">WHAT</span>;   <span class="tok-c1"># (Bool)</span>
<span class="tok-nv">$var2</span> = <span class="tok-n">Nil</span>;
<span class="tok-nb">say</span> <span class="tok-nv">$var2</span>.<span class="tok-nb">WHAT</span>;   <span class="tok-c1"># (Any)</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Il tipo di una variabile che contiene un valore è correlato a tale valore.<br>
Il tipo di una variabile vuota dichiarata staticamente è il tipo con il quale è stata dichiarata.<br>
Il tipo di una variabile vuote che non è stata dichiarata staticamente è <code>(Any)</code><br>
Per cancellare il valroe di una variabile assegnale <code>Nil</code>.</p>
</div>
</div>
<div class="sect2">
<h3 id="_ambito">3.6. Ambito</h3>
<div class="paragraph">
<p>Prima di usare una variabile per la prima volta essa deve essere dichiarata.</p>
</div>
<div class="paragraph">
<p>Ci sono molti dichiaratori in Perl 6. Finora abbiamo usato il <code>my</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">my</span> <span class="tok-nv">$var</span>=<span class="tok-mi">1</span>;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Il <code>my</code> fornisce alla variabile un ambito <strong>lessicale</strong>.
In altre parole la variabile sarà accessibile nel nello stesso blocco in cui è stata dichiarata.</p>
</div>
<div class="paragraph">
<p>Un blocco in Perl 6 è delimitato dalle parentesi graffe <code>{ }</code>.
Se non ci sono blocchi la variabile sarà disponibile nell&#8217;intero script.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span>{
  <span class="tok-k">my</span> <span class="tok-nb">Str</span> <span class="tok-nv">$var</span> = <span class="tok-s">&#39;testo&#39;</span>;
  <span class="tok-nb">say</span> <span class="tok-nv">$var</span>;   <span class="tok-c1"># è accessibile</span>
}
<span class="tok-nb">say</span> <span class="tok-nv">$var</span>;   <span class="tok-c1"># non è accessibile, dà errore</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Dato che una variabile è accessibile nel blocco dove viene definita, lo stesso nome di variabile può tranquillamente essere usato in un altro blocco.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span>{
  <span class="tok-k">my</span> <span class="tok-nb">Str</span> <span class="tok-nv">$var</span> = <span class="tok-s">&#39;Text&#39;</span>;
  <span class="tok-nb">say</span> <span class="tok-nv">$var</span>;
}
<span class="tok-k">my</span> <span class="tok-nb">Int</span> <span class="tok-nv">$var</span> = <span class="tok-mi">123</span>;
<span class="tok-nb">say</span> <span class="tok-nv">$var</span>;</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_assegnamenti_e_vincoli">3.7. Assegnamenti e vincoli</h3>
<div class="paragraph">
<p>Abbiamo visto negli esempi precedenti come <strong>assegnare valori alle variabili.<br>
Un *assegnamento</strong> viene fatto tramite l&#8217;operatore <code>=</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">my</span> <span class="tok-nb">Int</span> <span class="tok-nv">$var</span> = <span class="tok-mi">123</span>;
<span class="tok-nb">say</span> <span class="tok-nv">$var</span>;</code></pre>
</div>
</div>
<div class="paragraph">
<p>IL valore assegnato ad una variabile si può cambiare:</p>
</div>
<div class="listingblock">
<div class="title">Assegnamento</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">my</span> <span class="tok-nb">Int</span> <span class="tok-nv">$var</span> = <span class="tok-mi">123</span>;
<span class="tok-nb">say</span> <span class="tok-nv">$var</span>;
<span class="tok-nv">$var</span> = <span class="tok-mi">999</span>;
<span class="tok-nb">say</span> <span class="tok-nv">$var</span>;</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title"><code>Output</code></div>
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-mi">123</span>
<span class="tok-mi">999</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>D&#8217;altro canto, non possiamo cambiare il valore di una variabile quando questo è <strong>vincolato</strong>.<br>
Il <strong>vincolo</strong> viene definito tramite l&#8217;operatore <code>:=</code>.</p>
</div>
<div class="listingblock">
<div class="title">Vincolo</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">my</span> <span class="tok-nb">Int</span> <span class="tok-nv">$var</span> := <span class="tok-mi">123</span>;
<span class="tok-nb">say</span> <span class="tok-nv">$var</span>;
<span class="tok-nv">$var</span> = <span class="tok-mi">999</span>;
<span class="tok-nb">say</span> <span class="tok-nv">$var</span>;</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title"><code>Output</code></div>
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-mi">123</span>
<span class="tok-n">Cannot</span> <span class="tok-n">assign</span> <span class="tok-nb">to</span> <span class="tok-n">an</span> <span class="tok-n">immutable</span> <span class="tok-nb">value</span></code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">le variabili possono anche essere vincolate ad altre variabli:</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">my</span> <span class="tok-nv">$a</span>;
<span class="tok-k">my</span> <span class="tok-nv">$b</span>;
<span class="tok-nv">$b</span> := <span class="tok-nv">$a</span>;
<span class="tok-nv">$a</span> = <span class="tok-mi">7</span>;
<span class="tok-nb">say</span> <span class="tok-nv">$b</span>;
<span class="tok-nv">$b</span> = <span class="tok-mi">8</span>;
<span class="tok-nb">say</span> <span class="tok-nv">$a</span>;</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title"><code>Output</code></div>
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-mi">7</span>
<span class="tok-mi">8</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Vincolare le variabili è bidirezionale.<br>
<code>$a := $b</code> and <code>$b := $a</code> hanno lo stesso effetto.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Per avere più informazioni sulle variabli vedi qui <a href="https://docs.perl6.org/language/variables" class="bare">https://docs.perl6.org/language/variables</a>
</td>
</tr>
</table>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_funzioni_e_modificatori">4. Funzioni e modificatori</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Ci sono differenze tra funzioni e modificatori.<br>
Le funzioni non cambiano lo stato dell&#8217;oggetto su cui vengono chiamate ad operare.<br>
I modificatori sì.</p>
</div>
<div class="listingblock">
<div class="title"><code>Script</code></div>
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><table class="linenotable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10</pre></div></td><td class="code"><pre><span></span><span class="tok-k">my</span> <span class="tok-nv">@numeri</span> = [<span class="tok-mi">7</span>,<span class="tok-mi">2</span>,<span class="tok-mi">4</span>,<span class="tok-mi">9</span>,<span class="tok-mi">11</span>,<span class="tok-mi">3</span>];

<span class="tok-nv">@numeri</span>.<span class="tok-nb">push</span>(<span class="tok-mi">99</span>);
<span class="tok-nb">say</span> <span class="tok-nv">@numeri</span>;      <span class="tok-c1">#1</span>

<span class="tok-nb">say</span> <span class="tok-nv">@numeri</span>.<span class="tok-nb">sort</span>; <span class="tok-c1">#2</span>
<span class="tok-nb">say</span> <span class="tok-nv">@numeri</span>;      <span class="tok-c1">#3</span>

<span class="tok-nv">@numeri</span>.=<span class="tok-nb">sort</span>;
<span class="tok-nb">say</span> <span class="tok-nv">@numeri</span>;      <span class="tok-c1">#4</span>
</pre></td></tr></table></code></pre>
</div>
</div>
<div class="listingblock">
<div class="title"><code>Output</code></div>
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span>[<span class="tok-mi">7</span> <span class="tok-mi">2</span> <span class="tok-mi">4</span> <span class="tok-mi">9</span> <span class="tok-mi">11</span> <span class="tok-mi">3</span> <span class="tok-mi">99</span>] <span class="tok-c1">#1</span>
(<span class="tok-mi">2</span> <span class="tok-mi">3</span> <span class="tok-mi">4</span> <span class="tok-mi">7</span> <span class="tok-mi">9</span> <span class="tok-mi">11</span> <span class="tok-mi">99</span>) <span class="tok-c1">#2</span>
[<span class="tok-mi">7</span> <span class="tok-mi">2</span> <span class="tok-mi">4</span> <span class="tok-mi">9</span> <span class="tok-mi">11</span> <span class="tok-mi">3</span> <span class="tok-mi">99</span>] <span class="tok-c1">#3</span>
[<span class="tok-mi">2</span> <span class="tok-mi">3</span> <span class="tok-mi">4</span> <span class="tok-mi">7</span> <span class="tok-mi">9</span> <span class="tok-mi">11</span> <span class="tok-mi">99</span>] <span class="tok-c1">#4</span></code></pre>
</div>
</div>
<div class="paragraph">
<div class="title">Spiegazione</div>
<p><code>.push</code> è un modificatore; esso cambia lo stato dell&#8217;array (#1)</p>
</div>
<div class="paragraph">
<p><code>.sort</code> è una funzione; essa ritorna un array ordinato ma non modifica lo stato iniziale dell&#8217;array:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>(#2) mostra che viene ritornato un array ordinato.</p>
</li>
<li>
<p>(#3) mostra che l&#8217;array iniziale è rimasto immutato.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Per forzare una funzione a comportarsi da modificatore usiamo <code>.=</code> invece di <code>.</code> (#4) (linea 9 dello script)</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_cicli_e_condizioni">5. Cicli e condizioni</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Perl 6 ha molti costrutti condizionali e ciclici.</p>
</div>
<div class="sect2">
<h3 id="_if">5.1. if</h3>
<div class="paragraph">
<p>Il codice gira solo se la condizione specificata viene soddisfatta, ossia una espressione viene valutata come <code>True</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">my</span> <span class="tok-nv">$anni</span> = <span class="tok-mi">19</span>;

<span class="tok-k">if</span> <span class="tok-nv">$anni</span> &gt; <span class="tok-mi">18</span> {
  <span class="tok-nb">say</span> <span class="tok-s">&#39;Benvenuto&#39;</span>
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>In Perl 6, possiamo invertire il codice condizionato e la condizione.<br>
Anche se il codice e la condizione vengono invertiti, la condizione viene sempre valutata per prima.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">my</span> <span class="tok-nv">$anni</span> = <span class="tok-mi">19</span>;

<span class="tok-nb">say</span> <span class="tok-s">&#39;Benvenuto&#39;</span> <span class="tok-k">if</span> <span class="tok-nv">$anni</span> &gt; <span class="tok-mi">18</span>;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Se la condizione non viene soddisfatta, possiamo specificare blocchi da eseguire in alternativa usando:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>else</code></p>
</li>
<li>
<p><code>elsif</code></p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-c1"># fai girare lo stesso codice per valori dfferenti della variabile</span>
<span class="tok-k">my</span> <span class="tok-nv">$numero_di_posti</span> = <span class="tok-mi">9</span>;

<span class="tok-k">if</span> <span class="tok-nv">$numero_di_posti</span> &lt;= <span class="tok-mi">5</span> {
  <span class="tok-nb">say</span> <span class="tok-s">&#39;sono una berlina&#39;</span>
} <span class="tok-k">elsif</span> <span class="tok-nv">$numero_di_posti</span> &lt;= <span class="tok-mi">7</span> {
  <span class="tok-nb">say</span> <span class="tok-s">&#39;sono una station&#39;</span>
} <span class="tok-k">else</span> {
  <span class="tok-nb">say</span> <span class="tok-s">&#39;sono un furgone&#39;</span>
}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_unless">5.2. unless</h3>
<div class="paragraph">
<p>La versione negata di una istruzione <code>if</code> può essere <code>unless</code>.</p>
</div>
<div class="paragraph">
<p>Il codice seguente:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">my</span> <span class="tok-nv">$scarpe-pulite</span> = <span class="tok-nb">False</span>;

<span class="tok-k">if</span> <span class="tok-nb">not</span> <span class="tok-nv">$scarpe-pulite</span> {
  <span class="tok-nb">say</span> <span class="tok-s">&#39;Pulisciti le scarpe&#39;</span>
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>può essere scritto così:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">my</span> <span class="tok-nv">$scarpe-pulite</span> = <span class="tok-nb">False</span>;

<span class="tok-k">unless</span> <span class="tok-nv">$scarpe-pulite</span> {
  <span class="tok-nb">say</span> <span class="tok-s">&#39;Pulisciti le scarpe&#39;</span>
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>La negazione, in Perl 6, viene fatta usando o <code>!</code> o <code>not</code>.</p>
</div>
<div class="paragraph">
<p><code>unless (codizione)</code> viene usato al posto di <code>if not (condizione)</code>.</p>
</div>
<div class="paragraph">
<p><code>unless</code> non può avere una clausola di alternativa <code>else</code>.</p>
</div>
</div>
<div class="sect2">
<h3 id="_with">5.3. with</h3>
<div class="paragraph">
<p><code>with</code> si comporta come <code>if</code>, ma controlla se la variabile sia definita.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">my</span> <span class="tok-nb">Int</span> <span class="tok-nv">$var</span>=<span class="tok-mi">1</span>;

<span class="tok-n">with</span> <span class="tok-nv">$var</span> {
  <span class="tok-nb">say</span> <span class="tok-s">&#39;Ciao&#39;</span>
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Se fai girare il codice senza assegnare una valore alla variabile, non accade nulla.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">my</span> <span class="tok-nb">Int</span> <span class="tok-nv">$var</span>;

<span class="tok-n">with</span> <span class="tok-nv">$var</span> {
  <span class="tok-nb">say</span> <span class="tok-s">&#39;Ciao&#39;</span>
}</code></pre>
</div>
</div>
<div class="paragraph">
<p><code>without</code> è la versione negata di <code>with</code>. Puoi vederne un&#8217;analogia di <code>unless</code>.</p>
</div>
<div class="paragraph">
<p>se il primo <code>with</code> non viene soddisfatto, si può specificare un percorso alternativo con <code>orwith</code>.<br>
<code>with</code> ed <code>orwith</code> sono analoghi ad <code>if</code> ed <code>elsif</code>.</p>
</div>
</div>
<div class="sect2">
<h3 id="_for">5.4. for</h3>
<div class="paragraph">
<p>Il ciclo <code>for</code> itera su valori multipli.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">my</span> <span class="tok-nv">@array</span> = [<span class="tok-mi">1</span>,<span class="tok-mi">2</span>,<span class="tok-mi">3</span>];

<span class="tok-k">for</span> <span class="tok-nv">@array</span> -&gt; <span class="tok-nv">$array-item</span> {
  <span class="tok-nb">say</span> <span class="tok-nv">$array-item</span> * <span class="tok-mi">100</span>
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Nota che abbiamo creato una variabile di iterazione <code>$array-item</code> e poi eseguito l&#8217;operazione <code>*100</code> su ogni occorrenza della stessa.</p>
</div>
</div>
<div class="sect2">
<h3 id="_given">5.5. given</h3>
<div class="paragraph">
<p><code>given</code> è l&#8217;equivalente Perl 6 dell&#8217;istruzione switch che si trova in altri linguaggi,
ma molto più potente.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">my</span> <span class="tok-nv">$var</span> = <span class="tok-mi">42</span>;

<span class="tok-k">given</span> <span class="tok-nv">$var</span> {
    <span class="tok-k">when</span> <span class="tok-mi">0</span><span class="tok-o">..</span><span class="tok-mi">50</span> { <span class="tok-nb">say</span> <span class="tok-s">&#39;minore di o uguale a 50&#39;</span>}
    <span class="tok-k">when</span> <span class="tok-nb">Int</span> { <span class="tok-nb">say</span> <span class="tok-s">&quot;è un Int&quot;</span> }
    <span class="tok-k">when</span> <span class="tok-mi">42</span>  { <span class="tok-nb">say</span> <span class="tok-mi">42</span> }
    <span class="tok-k">default</span>  { <span class="tok-nb">say</span> <span class="tok-s">&quot;eh?&quot;</span> }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>A seguito di una condizione soddisfatta, il processo di confronto si interrompe.</p>
</div>
<div class="paragraph">
<p>L&#8217;alternativa è usare <code>proceed</code> che dice a Perl 6 di continuare i confronti anche dopo un successo.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">my</span> <span class="tok-nv">$var</span> = <span class="tok-mi">42</span>;

<span class="tok-k">given</span> <span class="tok-nv">$var</span> {
    <span class="tok-k">when</span> <span class="tok-mi">0</span><span class="tok-o">..</span><span class="tok-mi">50</span> { <span class="tok-nb">say</span> <span class="tok-s">&#39;minore di o uguale a 50&#39;</span>;<span class="tok-n">proceed</span>}
    <span class="tok-k">when</span> <span class="tok-nb">Int</span> { <span class="tok-nb">say</span> <span class="tok-s">&quot;è un Int&quot;</span>;<span class="tok-n">proceed</span>}
    <span class="tok-k">when</span> <span class="tok-mi">42</span>  { <span class="tok-nb">say</span> <span class="tok-mi">42</span> }
    <span class="tok-k">default</span>  { <span class="tok-nb">say</span> <span class="tok-s">&quot;eh?&quot;</span> }
}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_loop">5.6. loop</h3>
<div class="paragraph">
<p><code>loop</code> è un altro modo di scrivere un ciclo <code>for</code>.</p>
</div>
<div class="paragraph">
<p>In realtà <code>loop</code> sarebbe il <code>for</code> per come è scritto nei linguaggi di programmazione della famiglia che si rifà al C.</p>
</div>
<div class="paragraph">
<p>Infatti il Perl 6 appartiene a tale famiglia.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">loop</span> (<span class="tok-k">my</span> <span class="tok-nv">$i</span> = <span class="tok-mi">0</span>; <span class="tok-nv">$i</span> &lt; <span class="tok-mi">5</span>; <span class="tok-nv">$i</span>++) {
  <span class="tok-nb">say</span> <span class="tok-s">&quot;Il numero corrente è $i&quot;</span>
}</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Per avere più informazioni su cicli e costrutti condizioniali vedi qui <a href="https://docs.perl6.org/language/control" class="bare">https://docs.perl6.org/language/control</a>
</td>
</tr>
</table>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_io">6. I/O</h2>
<div class="sectionbody">
<div class="paragraph">
<p>In Perl 6 due delle più comuni interfacce di <em>Input/Output</em> sono il <em>terminale</em> ed i <em>file</em>.</p>
</div>
<div class="sect2">
<h3 id="_io_essenziale_usando_il_terminale">6.1. I/O essenziale usando il terminale</h3>
<div class="sect3">
<h4 id="_say">6.1.1. say</h4>
<div class="paragraph">
<p><code>say</code> scrive sullo standard output. Aggiunge un a-capo alla fine. In altre parole il seguente codice:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-nb">say</span> <span class="tok-s">&#39;Salve Signora.&#39;</span>;
<span class="tok-nb">say</span> <span class="tok-s">&#39;Salve Signore.&#39;</span>;</code></pre>
</div>
</div>
<div class="paragraph">
<p>viene scritto su due linee separate.</p>
</div>
</div>
<div class="sect3">
<h4 id="_print">6.1.2. print</h4>
<div class="paragraph">
<p><code>print</code> invece si comporta come <code>say</code> ma senza aggiungere l&#8217;a-capo.</p>
</div>
<div class="paragraph">
<p>Prova a sostituire <code>say</code> con <code>print</code> e confronta i risultati.</p>
</div>
</div>
<div class="sect3">
<h4 id="_get">6.1.3. get</h4>
<div class="paragraph">
<p><code>get</code> viene usato per catturare l&#8217;ingresso dal terminale.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">my</span> <span class="tok-nv">$name</span>;

<span class="tok-nb">say</span> <span class="tok-s">&quot;Ciao, come ti chiami?&quot;</span>;
<span class="tok-nv">$name</span> = <span class="tok-n">get</span>;

<span class="tok-nb">say</span> <span class="tok-s">&quot;Caro $name benvenuto al Perl 6&quot;</span>;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Quando il codice qui sopra viene eseguito il terminale aspetterà che tu inserisca un nome. Poi premi [Enter].
In questo modo ti saluterà.</p>
</div>
</div>
<div class="sect3">
<h4 id="_prompt">6.1.4. prompt</h4>
<div class="paragraph">
<p><code>prompt</code> è una combinazione di <code>print</code> e <code>get</code>.</p>
</div>
<div class="paragraph">
<p>L&#8217;esempio sopra può essere scritto così:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">my</span> <span class="tok-nv">$nome</span> = <span class="tok-n">prompt</span> <span class="tok-s">&quot;Ciao come ti chiami? &quot;</span>;

<span class="tok-nb">say</span> <span class="tok-s">&quot;Caro $nome benvenuto a Perl 6&quot;</span>;</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_eseguire_comandi_shell">6.2. Eseguire comandi shell</h3>
<div class="paragraph">
<p>Si possono usare due subroutine per far girare comandi shell:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>run</code> Fa girare un comando esterno senza coinvolgere shell.</p>
</li>
<li>
<p><code>shell</code> Fa girare un comando mediante una vera system shell; esso dipende sia dalla shell di sistema sia dalla piattaforma.
Tutti i meta caratteri tipici della shell verranno interpretati proprio dalla shell di sistema, inclusa pipe, ridirezione, variabili di ambiente, sostituzioni ecc.</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="title">Fai girare questo codice se lavori su piattaforma Linux/macOS</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">my</span> <span class="tok-nv">$nome</span> = <span class="tok-s">&#39;Neo&#39;</span>;
<span class="tok-nb">run</span> <span class="tok-s">&#39;echo&#39;</span>, <span class="tok-s">&quot;ciao $nome&quot;</span>;
<span class="tok-n">shell</span> <span class="tok-s">&quot;ls&quot;</span>;</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Fai girare questo se lavori su piattaforma Windows</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-n">shell</span> <span class="tok-s">&quot;dir&quot;</span>;</code></pre>
</div>
</div>
<div class="paragraph">
<p><code>echo</code> ed <code>ls</code> sono comandi Linux:<br>
<code>echo</code> stampa un testo su terminale (equivalente a <code>say</code> in Perl 6)<br>
<code>ls</code> lista tutti i file e le cartelle del direttorio corrente</p>
</div>
<div class="paragraph">
<p><code>dir</code> equivale a <code>ls</code> quando sei su Windows.</p>
</div>
</div>
<div class="sect2">
<h3 id="_file_io">6.3. File I/O</h3>
<div class="sect3">
<h4 id="_slurp">6.3.1. slurp</h4>
<div class="paragraph">
<p><code>slurp</code> si usa per leggere dati da un file.</p>
</div>
<div class="paragraph">
<p>Crea un file di testo con il seguente contenuto:</p>
</div>
<div class="listingblock">
<div class="title">datafile.txt</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-n">Giovanni</span> <span class="tok-mi">9</span>
<span class="tok-n">Giovannino</span> <span class="tok-mi">7</span>
<span class="tok-n">Giovanna</span> <span class="tok-mi">8</span>
<span class="tok-n">Gianna</span> <span class="tok-mi">7</span></code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">my</span> <span class="tok-nv">$data</span> = <span class="tok-nb">slurp</span> <span class="tok-s">&quot;datafile.txt&quot;</span>;
<span class="tok-nb">say</span> <span class="tok-nv">$data</span>;</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_spurt">6.3.2. spurt</h4>
<div class="paragraph">
<p><code>spurt</code> si usa per scrivere dati in un file.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">my</span> <span class="tok-nv">$nuovodato</span> = <span class="tok-s">&quot;nuovi punti:</span>
<span class="tok-s">Paul 10</span>
<span class="tok-s">Paulie 9</span>
<span class="tok-s">Paulo 11&quot;</span>;

<span class="tok-n">spurt</span> <span class="tok-s">&quot;nuovodatafile.txt&quot;</span>, <span class="tok-nv">$nuovodato</span>;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Dopo aver fatto girare il codice qui sopra avremo un nuovo file <em>nuovodatafile.txt</em> ; esso conterrà i nuovi punti.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_lavorare_con_file_e_cartelle">6.4. Lavorare con file e cartelle</h3>
<div class="paragraph">
<p>Perl 6 può listare il contentuo di una cartella senza ricorrere alla shell di comando (per esempio se vogliamo fare un <code>ls</code>).</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-nb">say</span> <span class="tok-n">dir</span>;                <span class="tok-c1"># Lista di file e cartelle nel direttorio corrente</span>
<span class="tok-nb">say</span> <span class="tok-n">dir</span> <span class="tok-s">&quot;/Documents&quot;</span>;   <span class="tok-c1"># Lista di file e cartelle nel direttorio specificato</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>In oltre puoi creare e cancellare cartelle.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-n">mkdir</span> <span class="tok-s">&quot;nuovacartella&quot;</span>; <span class="tok-c1"># crea una nuova cartella</span>
<span class="tok-n">rmdir</span> <span class="tok-s">&quot;nuovacartella&quot;</span>; <span class="tok-c1"># cancella una cartella vuota e ritorna un errore se non è vuota</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Puoi anche controllare se un certo percorso esista; puoi controllare se sia un file, oppure una cartella:</p>
</div>
<div class="paragraph">
<p>Nella cartella dove farai girare lo script sottostante, crea prima una sottocartella vuota chiamata <code>cartella123</code> e crea anche un file vuoto chiamato <code>script123.pl6</code></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-nb">say</span> <span class="tok-s">&quot;script123.pl6&quot;</span>.<span class="tok-nb">IO</span>.<span class="tok-nb">e</span>;
<span class="tok-nb">say</span> <span class="tok-s">&quot;cartella123&quot;</span>.<span class="tok-nb">IO</span>.<span class="tok-nb">e</span>;

<span class="tok-nb">say</span> <span class="tok-s">&quot;script123.pl6&quot;</span>.<span class="tok-nb">IO</span>.<span class="tok-n">d</span>;
<span class="tok-nb">say</span> <span class="tok-s">&quot;cartella123&quot;</span>.<span class="tok-nb">IO</span>.<span class="tok-n">d</span>;

<span class="tok-nb">say</span> <span class="tok-s">&quot;script123.pl6&quot;</span>.<span class="tok-nb">IO</span>.<span class="tok-n">f</span>;
<span class="tok-nb">say</span> <span class="tok-s">&quot;cartella123&quot;</span>.<span class="tok-nb">IO</span>.<span class="tok-n">f</span>;</code></pre>
</div>
</div>
<div class="paragraph">
<p><code>IO.e</code> controlla che la cartella o il file esistano.<br>
<code>IO.f</code> controlla che il percorso sia un file.<br>
<code>IO.d</code> controlla che il percorso sia una cartella.</p>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
Gli utenti Windows possono usare sia <code>/</code> che <code>\\</code> per definire le cartelle<br>
<code>C:\\rakudo\\bin</code><br>
<code>C:/rakudo/bin</code><br>
</td>
</tr>
</table>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Per avere più informazioni sull&#8217;I/O vedi qui <a href="https://docs.perl6.org/type/IO" class="bare">https://docs.perl6.org/type/IO</a>
</td>
</tr>
</table>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_funzioni_o_metodi">7. Funzioni o metodi</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_definizioni">7.1. Definizioni</h3>
<div class="paragraph">
<p>Le <strong>Subroutine</strong> (chiamate anche <strong>sub</strong> o <strong>funzioni</strong> o <strong>procedure</strong> o <strong>metodi</strong>) sono strumenti per riutilizzare delle specifiche funzionalità.<br></p>
</div>
<div class="paragraph">
<p>La definizione di una subroutine inizia con la parola chiave <code>sub</code>. Dopo la loro definizione possono essere chiamate tramite il loro identificativo.<br>
Prova questo esempio:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">sub</span> <span class="tok-n">saluto-alieno</span> {
  <span class="tok-nb">say</span> <span class="tok-s">&quot;Salve terrestri&quot;</span>;
}

<span class="tok-n">saluto-alieno</span>;</code></pre>
</div>
</div>
<div class="paragraph">
<p>L&#8217;esempio precedente mostra una subroutine che non richiede alcun input.</p>
</div>
</div>
<div class="sect2">
<h3 id="_firma">7.2. Firma</h3>
<div class="paragraph">
<p>Le subroutine possono richiedere un input. Tali input vengono forniti tramite <strong>argomenti</strong>. Gli argomenti sono anche detti <strong>parametri</strong>. Il numero ed il tipo di parametri che una subroutine definisce viene chiamato <strong>firma</strong>.</p>
</div>
<div class="paragraph">
<p>La subroutine qui sotto accetta un argomento di tipo stringa.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">sub</span> <span class="tok-n">saluta</span> (<span class="tok-nb">Str</span> <span class="tok-nv">$nome</span>) {
    <span class="tok-nb">say</span> <span class="tok-s">&quot;Ciao &quot;</span> ~ <span class="tok-nv">$name</span> ~ <span class="tok-s">&quot;!!!!&quot;</span>
}
<span class="tok-n">saluta</span> <span class="tok-s">&quot;Paolo&quot;</span>;
<span class="tok-n">saluta</span> <span class="tok-s">&quot;Paola&quot;</span>;</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_indirizzamento_multiplo_overload">7.3. Indirizzamento multiplo (overload)</h3>
<div class="paragraph">
<p>Ci possono essere subroutine che hanno lo stesso nome ma firme diverse.
Quando si chiama una subroutne, l&#8217;ambiente di esecuzione decide quale versione usare basandosi sul numero e sul tipo degli argomenti forniti. Questo tipo di subroutine è definito nello stesso modo con cui si definiscono le normali sub eccetto per il fatto che usiamo la parola chiave <code>multi</code> al posto dell&#8217;originale <code>sub</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">multi</span> <span class="tok-n">saluti</span>(<span class="tok-nv">$nome</span>) {
    <span class="tok-nb">say</span> <span class="tok-s">&quot;Buongiorno $nome&quot;</span>;
}
<span class="tok-k">multi</span> <span class="tok-n">saluti</span>(<span class="tok-nv">$nome</span>, <span class="tok-nv">$titolo</span>) {
    <span class="tok-nb">say</span> <span class="tok-s">&quot;Buongiorno $titolo $nome&quot;</span>;
}

<span class="tok-n">saluti</span> <span class="tok-s">&quot;Giovannino&quot;</span>;
<span class="tok-n">saluti</span> <span class="tok-s">&quot;Laura&quot;</span>,<span class="tok-s">&quot;Signora&quot;</span>;</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_parametri_opzionali_e_mancanti">7.4. Parametri opzionali e mancanti</h3>
<div class="paragraph">
<p>Se una subroutine viene definita per accettare un argomento e noi invece la chiamiamo senza fornire tale argomento avremo un fallimento.</p>
</div>
<div class="paragraph">
<p>Perl 6 allora fornisce la possiblilità di definire:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Parametri opzionali</p>
</li>
<li>
<p>Parametri mancanti</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>I parametri opzionali vengono definiti aggiungendo <code>?</code> al nome del parametro.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">sub</span> <span class="tok-n">saluta</span>(<span class="tok-nv">$nome</span>?) {
  <span class="tok-n">with</span> <span class="tok-nv">$nome</span> { <span class="tok-nb">say</span> <span class="tok-s">&quot;Ciao &quot;</span> ~ <span class="tok-nv">$nome</span> }
  <span class="tok-k">else</span> { <span class="tok-nb">say</span> <span class="tok-s">&quot;Ciao&quot;</span> }
}
<span class="tok-n">saluta</span>;
<span class="tok-n">saluta</span>(<span class="tok-s">&quot;Laura&quot;</span>);</code></pre>
</div>
</div>
<div class="paragraph">
<p>Se non hai bisogno di fornire un argomento, puoi definirne uno in caso di mancanza.<br>
Per farlo assegni un valore al tuo parametro in fase di definizione.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">sub</span> <span class="tok-n">saluta</span>(<span class="tok-nv">$nome</span>=<span class="tok-s">&quot;Matteo&quot;</span>) {
  <span class="tok-nb">say</span> <span class="tok-s">&quot;Ciao &quot;</span> ~ <span class="tok-nv">$name</span>;
}
<span class="tok-n">saluta</span>;
<span class="tok-n">saluta</span>(<span class="tok-s">&quot;Laura&quot;</span>);</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_restituire_valori">7.5. Restituire valori</h3>
<div class="paragraph">
<p>Tutte le subroutine che abbiamo visto <strong>fanno qualcosa</strong>&#8201;&#8212;&#8201;scrivono del testo al terminale.</p>
</div>
<div class="paragraph">
<p>Talvolta, tuttavia, eseguiamo subroutine perché ci <strong>restituiscano</strong> un valore con il fino di usarlo nei passi successivi del nostro programma.</p>
</div>
<div class="paragraph">
<p>Se una funzione giunge alla fine del suo blocco, l&#8217;ultima istruzione o espressione determinerà il valore di ritorno; è il <strong>ritorno implicito</strong></p>
</div>
<div class="listingblock">
<div class="title">Ritorno implicito</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">sub</span> <span class="tok-n">quadrato</span> (<span class="tok-nv">$x</span>) {
  <span class="tok-nv">$x</span> ** <span class="tok-mi">2</span>;
}
<span class="tok-nb">say</span> <span class="tok-s">&quot;7 a quadrato è uguale a &quot;</span> ~ <span class="tok-n">quadrato</span>(<span class="tok-mi">7</span>);</code></pre>
</div>
</div>
<div class="paragraph">
<p>Per leggibilità e pulizia del codice, potrebbe essere bene specificare <em>esplicitamente</em> che cosa viene restituito; usiamo allora la parola chiave <code>return</code>; è il <strong>ritorno esplicito</strong></p>
</div>
<div class="listingblock">
<div class="title">Ritorno esplicito</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">sub</span> <span class="tok-n">quadrato</span> (<span class="tok-nv">$x</span>) {
  <span class="tok-k">return</span> <span class="tok-nv">$x</span> ** <span class="tok-mi">2</span>;
}
<span class="tok-nb">say</span> <span class="tok-s">&quot;7 al quadrato è uguale a &quot;</span> ~ <span class="tok-n">quadrato</span>(<span class="tok-mi">7</span>);</code></pre>
</div>
</div>
<div class="sect3">
<h4 id="_vincolare_i_valori_di_ritorno">7.5.1. Vincolare i valori di ritorno</h4>
<div class="paragraph">
<p>In un esempio precedente abbiamo visto come possiamo vincolare gli argomenti ad essere di un certo tipo.
Possiamo fare lo stesso con i valori di ritorno.</p>
</div>
<div class="paragraph">
<p>Per vincolare il valore di ritorno ad un certo tipo, possiamo usare la parola chiave <code>returns</code> oppure la notazione a freccia <code>--&gt;</code>.</p>
</div>
<div class="listingblock">
<div class="title">uso di returns</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">sub</span> <span class="tok-n">quadrato</span> (<span class="tok-nv">$x</span>) <span class="tok-k">returns</span> <span class="tok-nb">Int</span> {
  <span class="tok-k">return</span> <span class="tok-nv">$x</span> ** <span class="tok-mi">2</span>;
}
<span class="tok-nb">say</span> <span class="tok-s">&quot;1.2 al quadrato è uguale a &quot;</span> ~ <span class="tok-n">quadrato</span>(<span class="tok-mf">1.2</span>);</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">uso della notazione a freccia</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">sub</span> <span class="tok-n">quadrato</span> (<span class="tok-nv">$x</span> --&gt; <span class="tok-nb">Int</span>) {
  <span class="tok-k">return</span> <span class="tok-nv">$x</span> ** <span class="tok-mi">2</span>;
}
<span class="tok-nb">say</span> <span class="tok-s">&quot;1.2 al quadrato è uguale a &quot;</span> ~ <span class="tok-n">quadrato</span>(<span class="tok-mf">1.2</span>);</code></pre>
</div>
</div>
<div class="paragraph">
<p>Se sbagliamo a fornire un valore di ritorno che sia allineato con il vincolo di tipo, avremo un errore di questo tipo.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-n">Type</span> <span class="tok-n">check</span> <span class="tok-n">failed</span> <span class="tok-k">for</span> <span class="tok-k">return</span> <span class="tok-nb">value</span>; <span class="tok-n">expected</span> <span class="tok-nb">Int</span> <span class="tok-k">but</span> <span class="tok-n">got</span> <span class="tok-nb">Rat</span> (<span class="tok-mf">1.44</span>)</code></pre>
</div>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Il vincolo sul tipo può fare un controllo aggiuntivo: la sua definitezza.</p>
</div>
<div class="paragraph">
<p>Negli esempi precedente abbiamo specificato che il valore atteso doveva essere Int.</p>
</div>
<div class="paragraph">
<p>Possiamo specificare anche che il valore da ritornare debba essere strettamente definito (oppure indefinito) usando queste notazioni:<br>
<code>--&gt; Int:D</code> e <code>--&gt; Int:U</code></p>
</div>
<div class="paragraph">
<p>Ossia, è buona pratica usare questo tipo di vincoli.<br>
Qui sotto la versione modificata degll&#8217;esempio precedente che usa la faccina <code>:D</code> per vincolare l&#8217;intero ritornato ad essere anche definito.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">sub</span> <span class="tok-n">quadrato</span> (<span class="tok-nv">$x</span> --&gt; <span class="tok-nb">Int:D</span>) {
  <span class="tok-k">return</span> <span class="tok-nv">$x</span> ** <span class="tok-mi">2</span>;
}
<span class="tok-nb">say</span> <span class="tok-s">&quot;1.2 al quadrato è uguale a &quot;</span> ~ <span class="tok-n">quadrato</span>(<span class="tok-mf">1.2</span>);</code></pre>
</div>
</div>
</td>
</tr>
</table>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Per avere più informazioni su procedure e funzioni vedi qui <a href="https://docs.perl6.org/language/functions" class="bare">https://docs.perl6.org/language/functions</a>
</td>
</tr>
</table>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_programmazione_funzionale">8. Programmazione funzionale</h2>
<div class="sectionbody">
<div class="paragraph">
<p>In questo capitolo daremo un&#8217;occhiata ad alcune funzionalità orientate alla programmazione funzionale.</p>
</div>
<div class="sect2">
<h3 id="_i_metodi_sono_cittadini_di_prima_classe">8.1. I metodi sono cittadini di prima classe</h3>
<div class="paragraph">
<p>I metodi sono cittadini di prima classe:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>possono essere passate come argomenti</p>
</li>
<li>
<p>possono essere ritornate da altre funzini</p>
</li>
<li>
<p>possono essere assegnae a variabili</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Un ottimo esempio di questo è la funzione <code>map</code>.<br>
<code>map</code> è una <em>funzione di alto livello</em>, può accettare un&#8217;altra funzione come agomento.</p>
</div>
<div class="listingblock">
<div class="title">Script</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">my</span> <span class="tok-nv">@vettore</span> = <span class="tok-s">&lt;1 2 3 4 5&gt;</span>;
<span class="tok-k">sub</span> <span class="tok-n">quadrato</span>(<span class="tok-nv">$x</span>) {
  <span class="tok-nv">$x</span> ** <span class="tok-mi">2</span>
}
<span class="tok-nb">say</span> <span class="tok-nb">map</span>(<span class="tok-nv">&amp;quadrato</span>,<span class="tok-nv">@vettore</span>);</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Output</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span>(<span class="tok-mi">1</span> <span class="tok-mi">4</span> <span class="tok-mi">9</span> <span class="tok-mi">16</span> <span class="tok-mi">25</span>)</code></pre>
</div>
</div>
<div class="paragraph">
<div class="title">Spiegazione</div>
<p>Abbiamo definito la subroutine <code>quadrato</code> che prende un argomento e lo eleva al quadrato.<br>
Poi abbiamo usato <code>map</code>, una funzione di alto livello, e le abbiamo passato due argomenti: la funzione <code>quadrato</code> ed un vettore di interi.<br>
Il risultato è un vettore di elementi al quadrato.</p>
</div>
<div class="paragraph">
<p>Nota che per passare la funzione come argomento abbiamo avuto bisogno di anteporle <code>&amp;</code>.</p>
</div>
</div>
<div class="sect2">
<h3 id="_funzioni_anonime">8.2. Funzioni anonime</h3>
<div class="paragraph">
<p>Una funzione anonime non è legata ad un identificatore, non ha un nome.
Una <strong>funzione anonima</strong> si chiama anche <strong>lambda</strong>.<br></p>
</div>
<div class="paragraph">
<p>Proviamo a riscrivere l&#8217;esempio <code>map</code> ed usiamo una funzione anonima</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">my</span> <span class="tok-nv">@vettore</span> = <span class="tok-s">&lt;1 2 3 4 5&gt;</span>;
<span class="tok-nb">say</span> <span class="tok-nb">map</span>(-&gt; <span class="tok-nv">$x</span> {<span class="tok-nv">$x</span> ** <span class="tok-mi">2</span>},<span class="tok-nv">@vettore</span>);</code></pre>
</div>
</div>
<div class="paragraph">
<p>Nota che invece di dichiarare la funzioine <code>quadrato</code> e passarla come argomento a <code>map</code> abbiamo invece definitio questa funzione anonima <code>-&gt; $x {$x ** 2}</code>.</p>
</div>
<div class="paragraph">
<p>Nel gego del Perl 6 quesa notazione si chiama <code>blocco a punta</code>.</p>
</div>
<div class="listingblock">
<div class="title">Un blocco a punta può essere usato per assegnare funzioni a variabili:</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">my</span> <span class="tok-nv">$quadrato</span> = -&gt; <span class="tok-nv">$x</span> {
  <span class="tok-nv">$x</span> ** <span class="tok-mi">2</span>
}
<span class="tok-nb">say</span> <span class="tok-nv">$quadrato</span>(<span class="tok-mi">9</span>);</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_concatenazione">8.3. Concatenazione</h3>
<div class="paragraph">
<p>In Perl 6 i metodi possono essere concatenati: in tal modo non è più necessario passare il risultato di un metodo ad un altro come argomento.</p>
</div>
<div class="paragraph">
<p>Per esempio: Dato un array, puoi voler ritornare i valori unici dell&#8217;array, ordinati dal maggiore al minore.</p>
</div>
<div class="paragraph">
<p>Questa è la soluzione <em>senza concatenazione</em>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">my</span> <span class="tok-nv">@array</span> = <span class="tok-s">&lt;7 8 9 0 1 2 4 3 5 6 7 8 9&gt;</span>;
<span class="tok-k">my</span> <span class="tok-nv">@final-array</span> = <span class="tok-nb">reverse</span>(<span class="tok-nb">sort</span>(<span class="tok-n">unique</span>(<span class="tok-nv">@array</span>)));
<span class="tok-nb">say</span> <span class="tok-nv">@final-array</span>;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Qui chiamiamo la procedura <code>unique</code> su <code>@array</code>, e passiamo il risultato come argomento a <code>sort</code>, e poi passiamo il risultato a <code>reverse</code>.</p>
</div>
<div class="paragraph">
<p>Al contrario, usando i metodi concatenati, l&#8217;esempio sopra può essere riscritto così:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">my</span> <span class="tok-nv">@array</span> = <span class="tok-s">&lt;7 8 9 0 1 2 4 3 5 6 7 8 9&gt;</span>;
<span class="tok-k">my</span> <span class="tok-nv">@final-array</span> = <span class="tok-nv">@array</span>.<span class="tok-n">unique</span>.<span class="tok-nb">sort</span>.<span class="tok-nb">reverse</span>;
<span class="tok-nb">say</span> <span class="tok-nv">@final-array</span>;</code></pre>
</div>
</div>
<div class="paragraph">
<p><em>molto più leggibile</em>!</p>
</div>
</div>
<div class="sect2">
<h3 id="_operatore_alimentazione">8.4. Operatore alimentazione</h3>
<div class="paragraph">
<p>L' <strong>operatore alimentazione</strong>, chiamato <em>pipe</em> in alcuni linguaggi di programmazione funzionale, illustra ulteriormente le tecniche di concatenazione.</p>
</div>
<div class="listingblock">
<div class="title">Alimentazione in avanti (o finale)</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">my</span> <span class="tok-nv">@array</span> = <span class="tok-s">&lt;7 8 9 0 1 2then sort it 4 3 5 6 7 8 9&gt;</span>;
<span class="tok-nv">@array</span> ==&gt; <span class="tok-n">unique</span>()
       ==&gt; <span class="tok-nb">sort</span>()
       ==&gt; <span class="tok-nb">reverse</span>()
       ==&gt; <span class="tok-k">my</span> <span class="tok-nv">@final-array</span>;
<span class="tok-nb">say</span> <span class="tok-nv">@final-array</span>;</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Spiegazione</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-n">Inizi</span> <span class="tok-n">con</span> `<span class="tok-nv">@array</span>` <span class="tok-n">poi</span> <span class="tok-n">restituisci</span> <span class="tok-n">una</span> <span class="tok-n">lista</span> <span class="tok-n">di</span> <span class="tok-n">elementi</span> <span class="tok-n">unici</span>
                   <span class="tok-n">poi</span> <span class="tok-n">li</span> <span class="tok-n">ordini</span>
                   <span class="tok-n">poi</span> <span class="tok-n">inverti</span> <span class="tok-n">questo</span> <span class="tok-n">ordine</span>
                   <span class="tok-n">poi</span> <span class="tok-n">li</span> <span class="tok-n">memorizzi</span> <span class="tok-n">nel</span> <span class="tok-n">risultato</span> <span class="tok-nv">@final-array</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Qui il metodo delle chiamate è <code>top-down</code>&#8201;&#8212;&#8201;dal primo passo all&#8217;ultimo.</p>
</div>
<div class="listingblock">
<div class="title">Alimentazione inversa (o causale)</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">my</span> <span class="tok-nv">@array</span> = <span class="tok-s">&lt;7 8 9 0 1 2 4 3 5 6 7 8 9&gt;</span>;
<span class="tok-k">my</span> <span class="tok-nv">@final-array-v2</span> &lt;== <span class="tok-nb">reverse</span>()
                   &lt;== <span class="tok-nb">sort</span>()
                   &lt;== <span class="tok-n">unique</span>()
                   &lt;== <span class="tok-nv">@array</span>;
<span class="tok-nb">say</span> <span class="tok-nv">@final-array-v2</span>;</code></pre>
</div>
</div>
<div class="paragraph">
<div class="title">Spiegazione</div>
<p>Nella sostanza l&#8217;alimentazione inversa è identica a quella in avanti.<br>
Il flusso si inverte, dal passo finale al primo passo.</p>
</div>
</div>
<div class="sect2">
<h3 id="_operatore_iper">8.5. Operatore iper</h3>
<div class="paragraph">
<p>L' <strong>operatore iper</strong> <code>&gt;&gt;.</code> chiama un metodo su tutti gli elementi di una lista e ritorna la lista dei risultati.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">my</span> <span class="tok-nv">@array</span> = <span class="tok-s">&lt;0 1 2 3 4 5 6 7 8 9 10&gt;</span>;
<span class="tok-k">sub</span> <span class="tok-n">est-pari</span>(<span class="tok-nv">$var</span>) { <span class="tok-nv">$var</span> %% <span class="tok-mi">2</span> };

<span class="tok-nb">say</span> <span class="tok-nv">@array</span>&gt;&gt;.<span class="tok-n">is-prime</span>;
<span class="tok-nb">say</span> <span class="tok-nv">@array</span>&gt;&gt;.<span class="tok-nv">&amp;est-pari</span>;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Usando l&#8217;operatore iper possiamo chiamare i metodi predefiniti in Perl 6, per esempio <code>is-prime</code> che ci dice se un numero è primo oppure no.<br>
Inoltre possiamo definire nuove subroutine e chiamarle usando l&#8217;operatore iper. In questo caso dobbiamo anteporre <code>&amp;</code> al nome del metodo; per esempio <code>&amp;is-even</code>.</p>
</div>
<div class="paragraph">
<p>Questo è molto comodo e ci solleva dal dover scrivere cicli <code>for</code> per iterare su ogni valore.</p>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
Perl 6 garantisce che l&#8217;ordine dei risultati sia lo stesso di quello della lista originale.
Tuttavia non c&#8217;è garnzia che Perl 6 chiami i metodi nell&#8217;ordine della lista, oppure all&#8217;interno dello stesso thread. Quindi dobbiamo stare attenti con i metodi che hanno effetti collaterali come <code>say</code> o <code>print</code>.
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_giunzioni">8.6. Giunzioni</h3>
<div class="paragraph">
<p>Una <strong>giunzione</strong> è una sovrapposizione logica di valori.</p>
</div>
<div class="paragraph">
<p>Nell&#8217;esempio qui sotto <code>1|2|3</code> è una giunzione.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">my</span> <span class="tok-nv">$var</span> = <span class="tok-mi">2</span>;
<span class="tok-k">if</span> <span class="tok-nv">$var</span> == <span class="tok-mi">1</span><span class="tok-o">|</span><span class="tok-mi">2</span><span class="tok-o">|</span><span class="tok-mi">3</span> {
  <span class="tok-nb">say</span> <span class="tok-s">&quot;La variabile è 1 o 2 o 3&quot;</span>
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>L&#8217;uso di giunzioni nomalmente scatena l'<strong>autothreading</strong>;
ossia, l&#8217;operazione viene eseguita per ogni valore della giunzione e tutti i risultati vengono combinati in una nuova giunzione e ritornati.</p>
</div>
</div>
<div class="sect2">
<h3 id="_liste_pigre">8.7. Liste pigre</h3>
<div class="paragraph">
<p>Una <strong>lista pigra</strong> è una lista che viene valutata con pigrizia.<br>
Valutare con pigrizia significa ritardala la valutazione di una espressione fino a che essa non venga richiesta ed evita di ripetere valutazioni su valutazioni immagazzinando i risultati in una tabella predittiva.</p>
</div>
<div class="paragraph">
<p>I benefici includono:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Miglioramento delle prestazioni evitando calcoli inutili</p>
</li>
<li>
<p>La capacità di contruire strutture potenzialmente infinite</p>
</li>
<li>
<p>La capacità di definire il flusso di controllo</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Per costruire una lista pigra usiamo l&#8217;operatore <code>&#8230;&#8203;</code><br>
Una lista pigra ha uno o più <strong>elementi iniziali</strong>, un <strong>generatore</strong> ed un <strong>punto finale</strong>.</p>
</div>
<div class="listingblock">
<div class="title">Lista pigra semplice</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">my</span> <span class="tok-nv">$lazylist</span> = (<span class="tok-mi">1</span> ... <span class="tok-mi">10</span>);
<span class="tok-nb">say</span> <span class="tok-nv">$lazylist</span>;</code></pre>
</div>
</div>
<div class="paragraph">
<p>L&#8217;elemento iniziale è 1 ed il punto finale è 10. Qui non viene definito alcun gneeeratore quindi il generatore è il successore (+1)<br>
In altre parole la lista pigra può ritornare (se richiesti) i seguenti elementin (1, 2, 3, 4, 5, 6, 7, 8, 9, 10)</p>
</div>
<div class="listingblock">
<div class="title">Lista pigra infinita</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">my</span> <span class="tok-nv">$lazylist</span> = (<span class="tok-mi">1</span> ... <span class="tok-n">Inf</span>);
<span class="tok-nb">say</span> <span class="tok-nv">$lazylist</span>;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Questa può ritornare (se richiesto) un intero tra 1 ed infinito, in altre parle un numero naturale.</p>
</div>
<div class="listingblock">
<div class="title">Lista pigra costruita usando un generatore dedotto</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">my</span> <span class="tok-nv">$lazylist</span> = (<span class="tok-mi">0</span>,<span class="tok-mi">2</span> ... <span class="tok-mi">10</span>);
<span class="tok-nb">say</span> <span class="tok-nv">$lazylist</span>;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Gli elementi iniziali sono 0 e 2 ed il punto di fine è 10.
Non viene definito alcun generatore, ma usando gli elementi iniziali, Perl 6 dedurrà che il generatore è (+2)<br>
Questa lista pigra può ritornare (se richiesti) i seguenti elementi (0, 2, 4, 6, 8, 10)</p>
</div>
<div class="listingblock">
<div class="title">Lista pigra costruita usando un generatore definito</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">my</span> <span class="tok-nv">$lazylist</span> = (<span class="tok-mi">0</span>, { <span class="tok-nv">$_</span> + <span class="tok-mi">3</span> } ... <span class="tok-mi">12</span>);
<span class="tok-nb">say</span> <span class="tok-nv">$lazylist</span>;</code></pre>
</div>
</div>
<div class="paragraph">
<p>In questo esempio abbiamo definito esplicitamente il generatore abbacciandolo tra le <code>{ }</code><br>
Questa lista pigra può ritornare (se richiesti) i seguenti elementi (0, 3, 6, 9, 12)</p>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Quando usiamo un generatore esplicito, il punto di fine deve essere uno dei valori che il generatore può ritornare.<br>
Se riproduciamo l&#8217;esempio di prima con un punto di fine che sia 10 invece di 12, esso non si fermerà mai.
il generatore <em>salta oltre</em> il punto di fine.</p>
</div>
<div class="paragraph">
<p>Come alternativa puoi sostituire`0 &#8230;&#8203; 10` con <code>0 &#8230;&#8203;^ * &gt; 10</code><br>
Questa notazione si può leggere in questo modo: da 0 fino al primo valore maggiore di 10 (escluso tale valore)</p>
</div>
<div class="listingblock">
<div class="title">Questo non fermerà il generatore</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">my</span> <span class="tok-nv">$lazylist</span> = (<span class="tok-mi">0</span>, { <span class="tok-nv">$_</span> + <span class="tok-mi">3</span> } ... <span class="tok-mi">10</span>);
<span class="tok-nb">say</span> <span class="tok-nv">$lazylist</span>;</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Questo fermerà il generatore</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">my</span> <span class="tok-nv">$lazylist</span> = (<span class="tok-mi">0</span>, { <span class="tok-nv">$_</span> + <span class="tok-mi">3</span> } ...^ * &gt; <span class="tok-mi">10</span>);
<span class="tok-nb">say</span> <span class="tok-nv">$lazylist</span>;</code></pre>
</div>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_chiusure">8.8. Chiusure</h3>
<div class="paragraph">
<p>Tutti gli oggetti di Perl 6 sono chiusure, ossia essi possono riferirsi a variabili lessicali da un ambito più esterno.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">sub</span> <span class="tok-n">genera-saluti</span> {
    <span class="tok-k">my</span> <span class="tok-nv">$nome</span> = <span class="tok-s">&quot;Giovanni Dossi&quot;</span>;
    <span class="tok-k">sub</span> <span class="tok-n">saluti</span> {
      <span class="tok-nb">say</span> <span class="tok-s">&quot;Buongiorno $name&quot;</span>;
    };
    <span class="tok-k">return</span> <span class="tok-nv">&amp;saluti</span>;
}
<span class="tok-k">my</span> <span class="tok-nv">$saluto-generato</span> = <span class="tok-n">genera-saluti</span>;
<span class="tok-nv">$saluto-generato</span>();</code></pre>
</div>
</div>
<div class="paragraph">
<p>Quando fai girare il codice qui sopra, esso scriverà <code>Buongiorno Giovanni Dossi</code> sul terminale.<br>
Mentre il risultato è giustamente semplice, ciò che è interessante in questo esempio, è che la subroutine interna <code>saluti</code> venga ritornata da una routine esterna prima di essere eseguita.</p>
</div>
<div class="paragraph">
<p><code>$saluto-generato</code> è diventata una <strong>chiusura</strong>.</p>
</div>
<div class="paragraph">
<p>Una <strong>chiusura</strong> è uno speciale tipo di oggetto che combina due cose:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Una subroutine</p>
</li>
<li>
<p>L&#8217;ambiente in cui tale subroutine è stata creata</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>L&#8217;ambiente consiste in qualsiasi variabile locale che era all&#8217;interno dell&#8217;ambito al momento in cui la chiusura è stata creata. In questo esempio specifico, <code>$saluto-generato</code> è una chiusura che incorpora sia la funzione <code>saluti</code> che la stringa <code>Giovanni Dossi</code> che esisteva quando la chiusura era stata creata.</p>
</div>
<div class="paragraph">
<p>Vediamo ora un esempio più interessante.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">sub</span> <span class="tok-n">genera-saluti</span>(<span class="tok-nv">$periodo</span>) {
  <span class="tok-k">return</span> <span class="tok-k">sub</span> (<span class="tok-nv">$nome</span>) {
    <span class="tok-k">return</span> <span class="tok-s">&quot;Buon $periodo $nome&quot;</span>
  }
}
<span class="tok-k">my</span> <span class="tok-nv">$giorno</span> = <span class="tok-n">genera-salut</span>(<span class="tok-s">&quot;giorno&quot;</span>);
<span class="tok-k">my</span> <span class="tok-nv">$natale</span> = <span class="tok-n">genera-salut</span>(<span class="tok-s">&quot;Natale&quot;</span>);

<span class="tok-nb">say</span> <span class="tok-nv">$giorno</span>(<span class="tok-s">&quot;Giovanni&quot;</span>);
<span class="tok-nb">say</span> <span class="tok-nv">$natale</span>(<span class="tok-s">&quot;Giovanna&quot;</span>);</code></pre>
</div>
</div>
<div class="paragraph">
<p>In questo esempio abbiamo definito un metodo <code>genera-saluti($periodo)</code> che accetta un argomento singolo <code>$periodo</code> e ritorna una nuova funzione. Tale funzione accetta un argomento singolo <code>$nome</code> e ritorna un saluto.</p>
</div>
<div class="paragraph">
<p>Essenzialmente, <code>genera-saluti</code> è una fabbrica di funzioni. In questo esempio usiamo <code>genera-saluti</code> per creare due nuove funzioni, una dice <code>Buon giorno</code> mentre l&#8217;altra dice <code>Buon Natale</code>.</p>
</div>
<div class="paragraph">
<p><code>$giorno</code> e <code>$natale</code> sono entrambe delle chiusure. Esse condividono la stessa definizione di corpo, ma si portando dentro ambienti diversi. In <code>$giorno l&#8217;ambiente è `$periodo = "giorno"</code>. In <code>$natale</code> l&#8217;ambiente è <code>$periodo = "Natale"</code></p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_classi_e_oggetti">9. Classi e oggetti</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Nel capitolo precedente abbiamo imparato come Perl 6 faciliti la programmazione funzionale.<br>
In questo vedremo la programmazione orientata agli oggetti in Perl 6.</p>
</div>
<div class="sect2">
<h3 id="_introduzione_2">9.1. Introduzione</h3>
<div class="paragraph">
<p>La <em>programmazione orientata agli oggetti</em> è uno dei paradigmi maggiormente usati oggi.<br>
Un <strong>oggetto</strong> è un insieme di variabili e funzioni riuniti tutti insieme in una unità.<br>
Le variabili vengono chiamate <strong>attributi</strong> mentre le funzioni vengono chiamate <strong>metodi</strong>.<br>
Gli attributi definiscono lo <strong>stato</strong> mentre i metodi definiscono il <strong>comportamento</strong> di un oggetto.</p>
</div>
<div class="paragraph">
<p>Una <strong>classe</strong> è un modello per creare <strong>oggetti</strong>.<br></p>
</div>
<div class="paragraph">
<p>Per capire le relazioni tra questi concetti considera questo esempio:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ci sono quattro persone in una stanza</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>oggetti</strong> &#8658; 4 (persone)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Queste persone sono esseri umani</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>classe</strong> &#8658; umano</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Essi hanno nomi, età, sesso e nazionalità diversi</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>attributi</strong> &#8658; nome, anni, sesso, nazione</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Nel gergo <em>orientato agli oggetti</em> diciamo che gli oggetti sono <strong>istanze</strong> di una classe.</p>
</div>
<div class="paragraph">
<p>Considera questo script:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">class</span> <span class="tok-n">umano</span> {
  <span class="tok-k">has</span> <span class="tok-nv">$.nome</span>;
  <span class="tok-k">has</span> <span class="tok-nv">$.anni</span>;
  <span class="tok-k">has</span> <span class="tok-nv">$.sesso</span>;
  <span class="tok-k">has</span> <span class="tok-nv">$.nazione</span>;
}

<span class="tok-k">my</span> <span class="tok-nv">$giovanni</span> = <span class="tok-n">umano</span>.<span class="tok-nb">new</span>(<span class="tok-n">nome</span> =&gt; <span class="tok-s">&#39;Giovanni&#39;</span>, <span class="tok-n">anni</span> =&gt; <span class="tok-mi">23</span>, <span class="tok-n">sesso</span> =&gt; <span class="tok-s">&#39;M&#39;</span>, <span class="tok-n">nazione</span> =&gt; <span class="tok-s">&#39;Italia&#39;</span>);
<span class="tok-nb">say</span> <span class="tok-nv">$giovanni</span>;</code></pre>
</div>
</div>
<div class="paragraph">
<p>La parole chiave <code>class</code> definisce la classe.<br>
<code>has</code> definisce gli attributi di una classe.<br>
Il metodo <code>.new()</code> è detto <strong>costruttore</strong>. Esso crea l&#8217;oggetto come una istanza della classe su cui è stato chiamato.</p>
</div>
<div class="paragraph">
<p>Nello script riportato qui sopra la nuova variabile <code>$giovanni</code> contiene un puntatore ad una nuova istanza di "umano" che è stata definita con <code>umano.new()</code>.<br>
Gli argomenti passati al metodo <code>.new()</code> vengono usati per definire gli attribuiti dell&#8217;oggetto sotteso.</p>
</div>
<div class="paragraph">
<p>L'<em>ambito lessicale</em> di una classe può essere dato tramite <code>my</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">my</span> <span class="tok-k">class</span> <span class="tok-n">umano</span> {

}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_incapsulazione">9.2. Incapsulazione</h3>
<div class="paragraph">
<p>L&#8217;incapsulazione è un concetto del paradigma agli oggetti; esso racchiude dati e metodi di un oggetto in una unità. I dati (attributi) che si trovano all&#8217;interno dell&#8217;oggetto dovranno essere <strong>privati</strong>, ossia accessibili solamente dall&#8217;interno dell&#8217;oggetto.<br>
Per accedere agli attributi dall&#8217;esterno dell&#8217;oggetto bisognerà quindi usare speciali metodi detti <strong>accessori</strong> (ossia <em>che accedono</em> n.d.t).</p>
</div>
<div class="paragraph">
<p>I due script qui sotto danno lo stesso risultato.</p>
</div>
<div class="listingblock">
<div class="title">Accesso diretto alla variabile:</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">my</span> <span class="tok-nv">$var</span> = <span class="tok-mi">7</span>;
<span class="tok-nb">say</span> <span class="tok-nv">$var</span>;</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Incapsulazione:</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">my</span> <span class="tok-nv">$var</span> = <span class="tok-mi">7</span>;
<span class="tok-k">sub</span> <span class="tok-n">sayvar</span> {
  <span class="tok-nv">$var</span>;
}
<span class="tok-nb">say</span> <span class="tok-n">sayvar</span>;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Il metodo <code>sayvar</code> è un metodo accessorio. Ci permette di accedere al valore di una variabile senza entrare in contatto diretto con essa.</p>
</div>
<div class="paragraph">
<p>L&#8217;incapsulazione è facilitata in Perl 6 grazie all&#8217;uso dei <strong>sigilli secondari</strong>.<br>
Si pongono tra il sigillo ed il nome dell&#8217;attributo.<br>
Ci sono due tipi di sigilli secondari per le classi:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>!</code> viene usato per dichiarare esplicitamente che l&#8217;attributo è privato.</p>
</li>
<li>
<p><code>.</code> viene usato per generare automaticamente un accessore per l&#8217;attributo.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Tutti gli attributi sono privati, in mancanza di una precisazione diversa, ma è buona pratica usare sempre il sigillo secondario <code>!</code>.</p>
</div>
<div class="paragraph">
<p>Quindi, dovremmo riscrivere la classe in questa forma:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">class</span> <span class="tok-n">umano</span> {
  <span class="tok-k">has</span> <span class="tok-nv">$!nome</span>;
  <span class="tok-k">has</span> <span class="tok-nv">$!anni</span>;
  <span class="tok-k">has</span> <span class="tok-nv">$!sesso</span>;
  <span class="tok-k">has</span> <span class="tok-nv">$!nazione</span>;
}

<span class="tok-k">my</span> <span class="tok-nv">$giovanni</span> = <span class="tok-n">umano</span>.<span class="tok-nb">new</span>(<span class="tok-n">nome</span> =&gt; <span class="tok-s">&#39;Giovanni&#39;</span>, <span class="tok-n">anni</span> =&gt; <span class="tok-mi">23</span>, <span class="tok-n">sesso</span> =&gt; <span class="tok-s">&#39;M&#39;</span>, <span class="tok-n">nazione</span> =&gt; <span class="tok-s">&#39;Italia&#39;</span>);
<span class="tok-nb">say</span> <span class="tok-nv">$giovanni</span>;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Aggiungi allo script questa istruzione: <code>say $giovanni.anni;</code><br>
Essa ti risponderà con un messaggio di errore: <code>Method 'anni' not found for invocant of class 'umano'</code>
perché <code>$!anni</code> è privata e può essere usata solo all&#8217;interno dell&#8217;oggetto.
Provando ad accedere ad essa dall&#8217;esterno l&#8217;oggetto ritorna un errore.</p>
</div>
<div class="paragraph">
<p>Sostituisci ora <code>has $!anni</code> con <code>has $.anni</code> ed osserva il risultato di <code>say $giovanni.anni;</code></p>
</div>
</div>
<div class="sect2">
<h3 id="_parametri_per_nome_e_parametri_per_posizione">9.3. Parametri per nome e parametri per posizione</h3>
<div class="paragraph">
<p>In Perl 6, tutte le classi ereditano un costruttore base <code>.new()</code>.<br>
Esso può essere usato per creare oggetti passandogli degli argomenti.<br>
Il costruttore base accetta solamente <strong>argomenti nominali</strong>.<br>
Nel nostro esempio qui sopra, nota che gli argomenti passati al costruttore sono definiti tramite un nome di riferimento:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>nome =&gt; 'Giovanni'</p>
</li>
<li>
<p>anni =&gt; 23</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Che accade se io non voglio fornire il nome di ciascun attributo ogni volta che voglio creare un oggetto?
Ho bisogno di creare un diverso costrutto, il quale accetti <strong>argomenti posizionali</strong>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">class</span> <span class="tok-n">umano</span> {
  <span class="tok-k">has</span> <span class="tok-nv">$.nome</span>;
  <span class="tok-k">has</span> <span class="tok-nv">$.anni</span>;
  <span class="tok-k">has</span> <span class="tok-nv">$.sesso</span>;
  <span class="tok-k">has</span> <span class="tok-nv">$.nazione</span>;
  <span class="tok-c1"># nuovo costruttore che rimpiazza (override) quello base.</span>
  <span class="tok-k">method</span> <span class="tok-nb">new</span> (<span class="tok-nv">$nome</span>,<span class="tok-nv">$anni</span>,<span class="tok-nv">$sesso</span>,<span class="tok-nv">$nazione</span>) {
    <span class="tok-k">self</span>.<span class="tok-nb">bless</span>(:<span class="tok-nv">$nome</span>,:<span class="tok-nv">$anni</span>,:<span class="tok-nv">$sesso</span>,:<span class="tok-nv">$nazione</span>);
  }
}

<span class="tok-k">my</span> <span class="tok-nv">$giovanni</span> = <span class="tok-n">umano</span>.<span class="tok-nb">new</span>(<span class="tok-s">&#39;Giovanni&#39;</span>,<span class="tok-mi">23</span>,<span class="tok-s">&#39;M&#39;</span>,<span class="tok-s">&#39;Italia&#39;</span>);
<span class="tok-nb">say</span> <span class="tok-nv">$giovanni</span>;</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_metodi">9.4. Metodi</h3>
<div class="sect3">
<h4 id="_introduzione_3">9.4.1. Introduzione</h4>
<div class="paragraph">
<p>I metodi sono le <em>subroutine</em> di un oggetto.<br>
Come le subroutine, sono un mezzo di confezionare un insieme di funzionalità, accettano <strong>argomenti</strong>, hanno una <strong>firma</strong> e possono esser definiti <strong>multi</strong> ossia consentono l&#8217;overload.</p>
</div>
<div class="paragraph">
<p>I metodi sono definiti usando la parola chiave <code>method</code>.<br>
In circostanze normali, i metodi sono invocati per compiere certe azioini sugli attributi degli oggetti.
Questo implica il concetto di incapsulazione. Gli attributi di un oggetto possono essere manipolati dall&#8217;esterno dell&#8217;oggetto solo usando i metodi.
Il mondo esterno può interagire con i metodi dell&#8217;oggetto e non ha accesso diretto ai suoi attributi.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">class</span> <span class="tok-n">umano</span> {
  <span class="tok-k">has</span> <span class="tok-nv">$.nome</span>;
  <span class="tok-k">has</span> <span class="tok-nv">$.anni</span>;
  <span class="tok-k">has</span> <span class="tok-nv">$.sesso</span>;
  <span class="tok-k">has</span> <span class="tok-nv">$.nazione</span>;
  <span class="tok-k">has</span> <span class="tok-nv">$.valido</span>;
  <span class="tok-k">method</span> <span class="tok-n">valuta-accesso</span> {
      <span class="tok-k">if</span> <span class="tok-k">self</span>.<span class="tok-n">anni</span> &lt; <span class="tok-mi">21</span> {
        <span class="tok-nv">$!valido</span> = <span class="tok-s">&#39;No&#39;</span>
      } <span class="tok-k">else</span> {
        <span class="tok-nv">$!valido</span> = <span class="tok-s">&#39;Yes&#39;</span>
      }
  }

}

<span class="tok-k">my</span> <span class="tok-nv">$giovanni</span> = <span class="tok-n">umano</span>.<span class="tok-nb">new</span>(<span class="tok-n">nome</span> =&gt; <span class="tok-s">&#39;Giovanni&#39;</span>, <span class="tok-n">anni</span> =&gt; <span class="tok-mi">23</span>, <span class="tok-n">sesso</span> =&gt; <span class="tok-s">&#39;M&#39;</span>, <span class="tok-n">nazione</span> =&gt; <span class="tok-s">&#39;Italia&#39;</span>);
<span class="tok-nv">$giovanni</span>.<span class="tok-n">valuta-accesso</span>;
<span class="tok-nb">say</span> <span class="tok-nv">$giovanni</span>.<span class="tok-n">valido</span>;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Una volta definiti all&#8217;interno della classe, i metodi possono essere invocati su un oggetto usando la <em>notazione punto</em>:<br>
<em>oggetto</em> <strong>.</strong> <em>metodo</em> oppure come nell&#8217;esempio sopra: <code>$giovanni.valuta-accesso</code></p>
</div>
<div class="paragraph">
<p>Nella definizione di un metodo, se abbiamo bisogno di un riferimento all&#8217;oggetto stesso per chiamare un altro metodo dell&#8217;oggetto usiamo la parola chiave <code>self</code>.<br></p>
</div>
<div class="paragraph">
<p>Nella definizione di un metodo, se abbiamo bisogno di un riferimento ad un attributo usiamo <code>!</code> anche se è stato definito con <code>.</code><br>
Il concetto di base è questo: il sigillo secondario <code>.</code> dichiara un attributo con <code>!</code> ed automatizza la creazione di un accessore.</p>
</div>
<div class="paragraph">
<p>Nell&#8217;esempio sopra, <code>if self.anni &lt; 21</code> ed <code>if $!anni &lt; 21</code> avrebbero lo stesso effetto, sebbene essi siano tecnicamente diversi:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>self.anni</code> invoca il metodo accessorio <code>.anni</code><br>
Esso può anche essere scritto così <code>$.anni</code></p>
</li>
<li>
<p><code>$!anni</code> è una accesso diretto alla variabile.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_metodi_privati">9.4.2. Metodi privati</h4>
<div class="paragraph">
<p>I metodi ordinari possono essere invocati sugli oggetti dall&#8217;esterno della classe.</p>
</div>
<div class="paragraph">
<p>I <strong>metodi privati</strong> sono metodi che possono essere invocati solo dall&#8217;interno della classe.<br>
Un possibile uso di questi sono metodi che ne chiamano un&#8217;altro per un&#8217;azione specifica.
Il metodo che si interfaccia con l&#8217;esterno è pubblico, mentre l&#8217;altro privato.
Non vogliamo che l&#8217;utente lo invochi direttamente, quindi lo dichiariamo come privato.</p>
</div>
<div class="paragraph">
<p>La dichiarazione di un metodo privato richiede l&#8217;uso del sigillo secondario <code>!</code> prima del nome.<br>
I metodi privati sono chiamati con <code>!</code> invece di <code>.</code></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">method</span> !<span class="tok-n">sonoprivato</span> {
  <span class="tok-c1"># scrivi qui il tuo codice</span>
}

<span class="tok-k">method</span> <span class="tok-n">sonopubblico</span> {
  <span class="tok-k">self</span><span class="tok-o">!</span><span class="tok-n">sonoprivato</span>;
  <span class="tok-c1"># qui fai altre cose</span>
}</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_attributi_di_classe">9.5. Attributi di classe</h3>
<div class="paragraph">
<p>Gli <strong>attributi di classe</strong> sono attributi che appartengono alla classe stessa e non ai suoi oggetti.<br>
Essi possono essere inizializzati durante la definizione.<br>
Gli attributi di classe vengono dichiarati usanto <code>my</code> al posto di <code>has</code>.<br>
Sono invocati sulla classe stessa, invece che sugli oggetti.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">class</span> <span class="tok-n">umano</span> {
  <span class="tok-k">has</span> <span class="tok-nv">$.nome</span>;
  <span class="tok-k">my</span> <span class="tok-nv">$.contatore</span> = <span class="tok-mi">0</span>;
  <span class="tok-k">method</span> <span class="tok-nb">new</span>(<span class="tok-nv">$nome</span>) {
    <span class="tok-n">umano</span>.<span class="tok-n">contatore</span>++;
    <span class="tok-k">self</span>.<span class="tok-nb">bless</span>(:<span class="tok-nv">$nome</span>);
  }
}
<span class="tok-k">my</span> <span class="tok-nv">$a</span> = <span class="tok-n">umano</span>.<span class="tok-nb">new</span>(<span class="tok-s">&#39;a&#39;</span>);
<span class="tok-k">my</span> <span class="tok-nv">$b</span> = <span class="tok-n">umano</span>.<span class="tok-nb">new</span>(<span class="tok-s">&#39;b&#39;</span>);

<span class="tok-nb">say</span> <span class="tok-n">umano</span>.<span class="tok-n">contatore</span>;</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_tipi_di_accesso_agli_attributi">9.6. Tipi di accesso agli attributi</h3>
<div class="paragraph">
<p>Fino ad ora tutti gli esempi che abbiamo visto hanno usato accessori per <strong>prendere</strong> informazioni dagli oggetti.</p>
</div>
<div class="paragraph">
<p>Che accade se abbiamo bisogno di modificare il valore di un attributo?<br>
Abbiamo bisogno di marcarlo come <em>sia leggibile e scrivibile</em> usando la parola chiave <code>is rw</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">class</span> <span class="tok-n">umano</span> {
  <span class="tok-k">has</span> <span class="tok-nv">$.nome</span>;
  <span class="tok-k">has</span> <span class="tok-nv">$.anni</span> <span class="tok-k">is</span> <span class="tok-k">rw</span>;
}
<span class="tok-k">my</span> <span class="tok-nv">$giovanni</span> = <span class="tok-n">umano</span>.<span class="tok-nb">new</span>(<span class="tok-n">nome</span> =&gt; <span class="tok-s">&#39;Giovanni&#39;</span>, <span class="tok-n">anni</span> =&gt; <span class="tok-mi">21</span>);
<span class="tok-nb">say</span> <span class="tok-nv">$giovanni</span>.<span class="tok-n">anni</span>;

<span class="tok-nv">$giovanni</span>.<span class="tok-n">anni</span> = <span class="tok-mi">23</span>;
<span class="tok-nb">say</span> <span class="tok-nv">$giovanni</span>.<span class="tok-n">anni</span>;</code></pre>
</div>
</div>
<div class="paragraph">
<p>In mancanza di specificazioni, gli attributi vengono dichiarati come <em>solo leggibili non scrivibili</em>, ma questo tipo di accesso si può anche specificare esplicitamente tramite la parola chiave <code>is readonly</code>.</p>
</div>
</div>
<div class="sect2">
<h3 id="_ereditarietà">9.7. Ereditarietà</h3>
<div class="sect3">
<h4 id="_introduzione_4">9.7.1. Introduzione</h4>
<div class="paragraph">
<p>L'<strong>ereditarietà</strong> è un altro concetto che appartiene alla programmazione orientata agli oggetti.</p>
</div>
<div class="paragraph">
<p>Quando si definiscono le classi, abbastanza presto ci si rende conto che certi attributi e metodi sono comuni a molte classi.<br>
Dovremmo duplicare il codice? NO! Dovremmo usare l'<strong>ereditarietà</strong></p>
</div>
<div class="paragraph">
<p>Consideriamo quindi di voler definire due classi, la prima per gli esseri umani ed una classe per gli impegati.<br>
Gli esseri umani hanno due attributi: nome ed età.<br>
Gli impiegati hanno quattro attributi: nome, età, azienda e salario.</p>
</div>
<div class="paragraph">
<p>Potresti essere tentato di definire le classi in questo modo:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">class</span> <span class="tok-n">umano</span> {
  <span class="tok-k">has</span> <span class="tok-nv">$.nome</span>;
  <span class="tok-k">has</span> <span class="tok-nv">$.anni</span>;
}

<span class="tok-k">class</span> <span class="tok-n">impiegato</span> {
  <span class="tok-k">has</span> <span class="tok-nv">$.nome</span>;
  <span class="tok-k">has</span> <span class="tok-nv">$.anni</span>;
  <span class="tok-k">has</span> <span class="tok-nv">$.azienda</span>;
  <span class="tok-k">has</span> <span class="tok-nv">$.salario</span>;
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Sebbene tecnicamente corretto il codice qui sopra è considerato concettualmente debole.</p>
</div>
<div class="paragraph">
<p>Un modo migliore di scrivere sarebbe questo:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">class</span> <span class="tok-n">umano</span> {
  <span class="tok-k">has</span> <span class="tok-nv">$.nome</span>;
  <span class="tok-k">has</span> <span class="tok-nv">$.anni</span>;
}

<span class="tok-k">class</span> <span class="tok-n">impiegato</span> <span class="tok-k">is</span> <span class="tok-n">umano</span> {
  <span class="tok-k">has</span> <span class="tok-nv">$.azienda</span>;
  <span class="tok-k">has</span> <span class="tok-nv">$.salario</span>;
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>La parola chiave <code>is</code> definisce un legame di ereditarietà.<br>
Nel gergo del paradigma agli oggetti si dice che impiegato è <strong>figlio</strong> di umano e che umano è <strong>padre</strong> di impiegato.</p>
</div>
<div class="paragraph">
<p>Tutte le classi figlie ereditano gli attributi ed i metodi della classe padre, così non è necessario ridefinirli.</p>
</div>
</div>
<div class="sect3">
<h4 id="_overriding">9.7.2. Overriding</h4>
<div class="paragraph">
<p>Le classi ereditano tutti gli attributi ed i metodi dalle loro classi genitrici.<br>
Ci sono casi in cui abbiamo bisogno che il metodo nella classe figlia si comporti in modo diverso rispetto a quello ereditato.<br>
Questo si ottiene ridefinendo il metodo nella classe figlia.<br>
Questo concetto si chiama <strong>overriding</strong>.</p>
</div>
<div class="paragraph">
<p>Nell&#8217;esempio qui sotto, il metodo <code>presentati</code> viene ereditato dalla classe impiegato.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">class</span> <span class="tok-n">umano</span> {
  <span class="tok-k">has</span> <span class="tok-nv">$.nome</span>;
  <span class="tok-k">has</span> <span class="tok-nv">$.anni</span>;
  <span class="tok-k">method</span> <span class="tok-n">presentati</span> {
    <span class="tok-nb">say</span> <span class="tok-s">&#39;ciao sono un essere umano, il mio nome è&#39;</span> ~ <span class="tok-k">self</span>.<span class="tok-n">nome</span>;
  }
}

<span class="tok-k">class</span> <span class="tok-n">impiegato</span> <span class="tok-k">is</span> <span class="tok-n">umano</span> {
  <span class="tok-k">has</span> <span class="tok-nv">$.azienda</span>;
  <span class="tok-k">has</span> <span class="tok-nv">$.salario</span>;
}

<span class="tok-k">my</span> <span class="tok-nv">$giovanni</span> = <span class="tok-n">umano</span>.<span class="tok-nb">new</span>(<span class="tok-nb">name</span> =&gt;<span class="tok-s">&#39;Giovanni&#39;</span>, <span class="tok-n">anni</span> =&gt; <span class="tok-mi">23</span>,);
<span class="tok-k">my</span> <span class="tok-nv">$gianna</span> = <span class="tok-n">impiegato</span>.<span class="tok-nb">new</span>(<span class="tok-nb">name</span> =&gt;<span class="tok-s">&#39;Gianna&#39;</span>, <span class="tok-n">anni</span> =&gt; <span class="tok-mi">25</span>, <span class="tok-n">azienda</span> =&gt; <span class="tok-s">&#39;Luxottica&#39;</span>, <span class="tok-n">salario</span> =&gt; <span class="tok-mi">4000</span>);

<span class="tok-nv">$giovanni</span>.<span class="tok-n">presentati</span>;
<span class="tok-nv">$gianna</span>.<span class="tok-n">presentati</span>;</code></pre>
</div>
</div>
<div class="paragraph">
<p>L&#8217;overriding funziona in questo modo:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">class</span> <span class="tok-n">umano</span> {
  <span class="tok-k">has</span> <span class="tok-nv">$.name</span>;
  <span class="tok-k">has</span> <span class="tok-nv">$.anni</span>;
  <span class="tok-k">method</span> <span class="tok-n">presentati</span> {
    <span class="tok-nb">say</span> <span class="tok-s">&#39;Ciao sono un essere umano, mi chiamo &#39;</span> ~ <span class="tok-k">self</span>.<span class="tok-n">nome</span>;
  }
}

<span class="tok-k">class</span> <span class="tok-n">impiegato</span> <span class="tok-k">is</span> <span class="tok-n">umano</span> {
  <span class="tok-k">has</span> <span class="tok-nv">$.azienda</span>;
  <span class="tok-k">has</span> <span class="tok-nv">$.salario</span>;
  <span class="tok-k">method</span> <span class="tok-n">presentati</span> {
    <span class="tok-nb">say</span> <span class="tok-s">&#39;Ciao sono un impiegato, il mio nome è &#39;</span> ~ <span class="tok-k">self</span>.<span class="tok-n">nome</span> ~ <span class="tok-s">&#39; e lavoro in &#39;</span> ~ <span class="tok-k">self</span>.<span class="tok-n">azienda</span>;
  }

}

<span class="tok-k">my</span> <span class="tok-nv">$giovanni</span> = <span class="tok-n">umano</span>.<span class="tok-nb">new</span>(<span class="tok-n">nome</span> =&gt;<span class="tok-s">&#39;Giovanni&#39;</span>,<span class="tok-n">anni</span> =&gt; <span class="tok-mi">23</span>,);
<span class="tok-k">my</span> <span class="tok-nv">$gianna</span> = <span class="tok-n">impiegato</span>.<span class="tok-nb">new</span>(<span class="tok-n">nome</span> =&gt;<span class="tok-s">&#39;Gianna&#39;</span>,<span class="tok-n">anni</span> =&gt; <span class="tok-mi">25</span>,<span class="tok-n">azienda</span> =&gt; <span class="tok-s">&#39;Luxottica&#39;</span>,<span class="tok-n">salario</span> =&gt; <span class="tok-mi">4000</span>);

<span class="tok-nv">$giovanni</span>.<span class="tok-n">presentati</span>;
<span class="tok-nv">$gianna</span>.<span class="tok-n">presentati</span>;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Verrà sempre invocato il metodo corretto dipendentemente a quale classe l&#8217;oggetto appartenga.</p>
</div>
</div>
<div class="sect3">
<h4 id="_sottometodi">9.7.3. Sottometodi</h4>
<div class="paragraph">
<p>I <strong>sottometodi</strong> sono tipi di metodi che non sono ereditati da classi figlie.<br>
Essi sono accessibili dalla classe che li dichiara.<br>
Sono definiti dalla parola chiave <code>submethod</code>.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_ereditarietà_multipla">9.8. Ereditarietà multipla</h3>
<div class="paragraph">
<p>L&#8217;ereditarietà multipla è supportata in Perl 6. Una classe può ereditare da svariate classi.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">class</span> <span class="tok-n">grafico-a-barre</span> {
  <span class="tok-k">has</span> <span class="tok-nb">Int</span> <span class="tok-nv">@.bar-values</span>;
  <span class="tok-k">method</span> <span class="tok-n">traccia</span> {
    <span class="tok-nb">say</span> <span class="tok-nv">@.bar-values</span>;
  }
}

<span class="tok-k">class</span> <span class="tok-n">grafico-a-linee</span> {
  <span class="tok-k">has</span> <span class="tok-nb">Int</span> <span class="tok-nv">@.line-values</span>;
  <span class="tok-k">method</span> <span class="tok-n">traccia</span> {
    <span class="tok-nb">say</span> <span class="tok-nv">@.line-values</span>;
  }
}

<span class="tok-k">class</span> <span class="tok-n">grafico-combinato</span> <span class="tok-k">is</span> <span class="tok-n">grafico-a-barre</span> <span class="tok-k">is</span> <span class="tok-n">grafico-a-linee</span> {
}

<span class="tok-k">my</span> <span class="tok-nv">$vendite-correnti</span> = <span class="tok-n">grafico-a-barre</span>.<span class="tok-nb">new</span>(<span class="tok-n">bar-values</span> =&gt; [<span class="tok-mi">10</span>,<span class="tok-mi">9</span>,<span class="tok-mi">11</span>,<span class="tok-mi">8</span>,<span class="tok-mi">7</span>,<span class="tok-mi">10</span>]);
<span class="tok-k">my</span> <span class="tok-nv">$vendite-previste</span> = <span class="tok-n">grafico-a-linee</span>.<span class="tok-nb">new</span>(<span class="tok-n">line-values</span> =&gt; [<span class="tok-mi">9</span>,<span class="tok-mi">8</span>,<span class="tok-mi">10</span>,<span class="tok-mi">7</span>,<span class="tok-mi">6</span>,<span class="tok-mi">9</span>]);

<span class="tok-k">my</span> <span class="tok-nv">$correnti-e-previste</span> = <span class="tok-n">grafico-combinato</span>.<span class="tok-nb">new</span>(<span class="tok-n">bar-values</span> =&gt; [<span class="tok-mi">10</span>,<span class="tok-mi">9</span>,<span class="tok-mi">11</span>,<span class="tok-mi">8</span>,<span class="tok-mi">7</span>,<span class="tok-mi">10</span>],
                                         <span class="tok-n">line-values</span> =&gt; [<span class="tok-mi">9</span>,<span class="tok-mi">8</span>,<span class="tok-mi">10</span>,<span class="tok-mi">7</span>,<span class="tok-mi">6</span>,<span class="tok-mi">9</span>]);
<span class="tok-nb">say</span> <span class="tok-s">&quot;Vendite correnti:&quot;</span>;
<span class="tok-nv">$vendite-correnti</span>.<span class="tok-n">traccia</span>;
<span class="tok-nb">say</span> <span class="tok-s">&quot;Vendite previste:&quot;</span>;
<span class="tok-nv">$vendite-previste</span>.<span class="tok-n">traccia</span>;
<span class="tok-nb">say</span> <span class="tok-s">&quot;Correnti e previste:&quot;</span>;
<span class="tok-nv">$correnti-e-previste</span>.<span class="tok-n">traccia</span>;</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title"><code>Output</code></div>
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-n">Vendite</span> <span class="tok-n">correnti:</span>
[<span class="tok-mi">10</span> <span class="tok-mi">9</span> <span class="tok-mi">11</span> <span class="tok-mi">8</span> <span class="tok-mi">7</span> <span class="tok-mi">10</span>]
<span class="tok-n">Vendite</span> <span class="tok-n">previste:</span>
[<span class="tok-mi">9</span> <span class="tok-mi">8</span> <span class="tok-mi">10</span> <span class="tok-mi">7</span> <span class="tok-mi">6</span> <span class="tok-mi">9</span>]
<span class="tok-n">Correnti</span> <span class="tok-nb">e</span> <span class="tok-n">previste:</span>
[<span class="tok-mi">10</span> <span class="tok-mi">9</span> <span class="tok-mi">11</span> <span class="tok-mi">8</span> <span class="tok-mi">7</span> <span class="tok-mi">10</span>]</code></pre>
</div>
</div>
<div class="paragraph">
<div class="title">Spiegazione</div>
<p>La classe <code>grafico-combinato</code> dovrebbe essere in grado di gestire le due serie, quella dei valori correnti tracciati sulle barre, e quella dei valori previsti tracciati tramite linee.<br>
Questo perché abbiamo definito una figlia di <code>grafico-a-linee</code> e di <code>grafico-a-barre</code>.<br>
Dovresti aver notato che invocare il metodo <code>traccia</code> sulla classe <code>grafico-combinato</code> non porta il risultato richiesto.
Soltanot una serie viene tracciata.<br>
Perché?<br>
<code>grafico-combinato</code> eredita da <code>grafico-a-linee</code> e da <code>grafico-a-barre</code>, le quali possiedono entrambe un metodo chiamato <code>traccia</code>. Quando invochiamo il metodo su <code>grafico-combinato</code> Perl 6, internamente, cerca di risolvere il conflitto chiamando uno dei due metodi.</p>
</div>
<div class="paragraph">
<div class="title">Correzione</div>
<p>Per avere il comportamento corretto dobbiamo fare l&#8217;override del metodo <code>traccia</code> all&#8217;interno di <code>grafico-combinato</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">class</span> <span class="tok-n">grafico-a-barre</span> {
  <span class="tok-k">has</span> <span class="tok-nb">Int</span> <span class="tok-nv">@.bar-values</span>;
  <span class="tok-k">method</span> <span class="tok-n">traccia</span> {
    <span class="tok-nb">say</span> <span class="tok-nv">@.bar-values</span>;
  }
}

<span class="tok-k">class</span> <span class="tok-n">grafico-a-linee</span> {
  <span class="tok-k">has</span> <span class="tok-nb">Int</span> <span class="tok-nv">@.line-values</span>;
  <span class="tok-k">method</span> <span class="tok-n">traccia</span> {
    <span class="tok-nb">say</span> <span class="tok-nv">@.line-values</span>;
  }
}

<span class="tok-k">class</span> <span class="tok-n">grafico-combinato</span> <span class="tok-k">is</span> <span class="tok-n">grafico-a-barre</span> <span class="tok-k">is</span> <span class="tok-n">grafico-a-linee</span> {
  <span class="tok-k">method</span> <span class="tok-n">traccia</span> {
    <span class="tok-nb">say</span> <span class="tok-nv">@.bar-values</span>;
    <span class="tok-nb">say</span> <span class="tok-nv">@.line-values</span>;
  }
}

<span class="tok-k">my</span> <span class="tok-nv">$vendite-correnti</span> = <span class="tok-n">grafico-a-barre</span>.<span class="tok-nb">new</span>(<span class="tok-n">bar-values</span> =&gt; [<span class="tok-mi">10</span>,<span class="tok-mi">9</span>,<span class="tok-mi">11</span>,<span class="tok-mi">8</span>,<span class="tok-mi">7</span>,<span class="tok-mi">10</span>]);
<span class="tok-k">my</span> <span class="tok-nv">$vendite-previste</span> = <span class="tok-n">grafico-a-linee</span>.<span class="tok-nb">new</span>(<span class="tok-n">line-values</span> =&gt; [<span class="tok-mi">9</span>,<span class="tok-mi">8</span>,<span class="tok-mi">10</span>,<span class="tok-mi">7</span>,<span class="tok-mi">6</span>,<span class="tok-mi">9</span>]);

<span class="tok-k">my</span> <span class="tok-nv">$correnti-e-previste</span> = <span class="tok-n">grafico-combinato</span>.<span class="tok-nb">new</span>(<span class="tok-n">bar-values</span> =&gt; [<span class="tok-mi">10</span>,<span class="tok-mi">9</span>,<span class="tok-mi">11</span>,<span class="tok-mi">8</span>,<span class="tok-mi">7</span>,<span class="tok-mi">10</span>],
                                         <span class="tok-n">line-values</span> =&gt; [<span class="tok-mi">9</span>,<span class="tok-mi">8</span>,<span class="tok-mi">10</span>,<span class="tok-mi">7</span>,<span class="tok-mi">6</span>,<span class="tok-mi">9</span>]);
<span class="tok-nb">say</span> <span class="tok-s">&quot;Vendite correnti:&quot;</span>;
<span class="tok-nv">$vendite-correnti</span>.<span class="tok-n">traccia</span>;
<span class="tok-nb">say</span> <span class="tok-s">&quot;Vendite previste:&quot;</span>;
<span class="tok-nv">$vendite-previste</span>.<span class="tok-n">traccia</span>;
<span class="tok-nb">say</span> <span class="tok-s">&quot;Correnti e previste:&quot;</span>;
<span class="tok-nv">$correnti-e-previste</span>.<span class="tok-n">traccia</span>;</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title"><code>Output</code></div>
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-n">Vendite</span> <span class="tok-n">correnti:</span>
[<span class="tok-mi">10</span> <span class="tok-mi">9</span> <span class="tok-mi">11</span> <span class="tok-mi">8</span> <span class="tok-mi">7</span> <span class="tok-mi">10</span>]
<span class="tok-n">Vendite</span> <span class="tok-n">previste:</span>
[<span class="tok-mi">9</span> <span class="tok-mi">8</span> <span class="tok-mi">10</span> <span class="tok-mi">7</span> <span class="tok-mi">6</span> <span class="tok-mi">9</span>]
<span class="tok-n">Correnti</span> <span class="tok-nb">e</span> <span class="tok-n">previste:</span>
[<span class="tok-mi">10</span> <span class="tok-mi">9</span> <span class="tok-mi">11</span> <span class="tok-mi">8</span> <span class="tok-mi">7</span> <span class="tok-mi">10</span>]
[<span class="tok-mi">9</span> <span class="tok-mi">8</span> <span class="tok-mi">10</span> <span class="tok-mi">7</span> <span class="tok-mi">6</span> <span class="tok-mi">9</span>]</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_ruoli">9.9. Ruoli</h3>
<div class="paragraph">
<p>I <strong>ruoli</strong> sono simili alle classi per il fatto che essi sono collezioni di attributi e metodi.</p>
</div>
<div class="paragraph">
<p>I ruoli vengono dichiarati con la parola chiave <code>role</code>. Classi che vogliono implementare un ruolo debbono usare la parola chiave <code>does</code>.</p>
</div>
<div class="listingblock">
<div class="title">Riscriviamo allora l&#8217;esempio dell&#8217;ereditarietà multipla usando i ruoli:</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">role</span> <span class="tok-n">grafico-a-barre</span> {
  <span class="tok-k">has</span> <span class="tok-nb">Int</span> <span class="tok-nv">@.bar-values</span>;
  <span class="tok-k">method</span> <span class="tok-n">traccia</span> {
    <span class="tok-nb">say</span> <span class="tok-nv">@.bar-values</span>;
  }
}

<span class="tok-k">role</span> <span class="tok-n">grafico-a-linee</span> {
  <span class="tok-k">has</span> <span class="tok-nb">Int</span> <span class="tok-nv">@.line-values</span>;
  <span class="tok-k">method</span> <span class="tok-n">traccia</span> {
    <span class="tok-nb">say</span> <span class="tok-nv">@.line-values</span>;
  }
}

<span class="tok-k">class</span> <span class="tok-n">grafico-combinato</span> <span class="tok-nb">does</span> <span class="tok-n">grafico-a-barre</span> <span class="tok-nb">does</span> <span class="tok-n">grafico-a-linee</span> {
  <span class="tok-k">method</span> <span class="tok-n">traccia</span> {
    <span class="tok-nb">say</span> <span class="tok-nv">@.bar-values</span>;
    <span class="tok-nb">say</span> <span class="tok-nv">@.line-values</span>;
  }
}

<span class="tok-k">my</span> <span class="tok-nv">$vendite-correnti</span> = <span class="tok-n">grafico-a-barre</span>.<span class="tok-nb">new</span>(<span class="tok-n">bar-values</span> =&gt; [<span class="tok-mi">10</span>,<span class="tok-mi">9</span>,<span class="tok-mi">11</span>,<span class="tok-mi">8</span>,<span class="tok-mi">7</span>,<span class="tok-mi">10</span>]);
<span class="tok-k">my</span> <span class="tok-nv">$vendite-previste</span> = <span class="tok-n">grafico-a-linee</span>.<span class="tok-nb">new</span>(<span class="tok-n">line-values</span> =&gt; [<span class="tok-mi">9</span>,<span class="tok-mi">8</span>,<span class="tok-mi">10</span>,<span class="tok-mi">7</span>,<span class="tok-mi">6</span>,<span class="tok-mi">9</span>]);

<span class="tok-k">my</span> <span class="tok-nv">$correnti-e-previste</span> = <span class="tok-n">grafico-combinato</span>.<span class="tok-nb">new</span>(<span class="tok-n">bar-values</span> =&gt; [<span class="tok-mi">10</span>,<span class="tok-mi">9</span>,<span class="tok-mi">11</span>,<span class="tok-mi">8</span>,<span class="tok-mi">7</span>,<span class="tok-mi">10</span>],
                                         <span class="tok-n">line-values</span> =&gt; [<span class="tok-mi">9</span>,<span class="tok-mi">8</span>,<span class="tok-mi">10</span>,<span class="tok-mi">7</span>,<span class="tok-mi">6</span>,<span class="tok-mi">9</span>]);
<span class="tok-nb">say</span> <span class="tok-s">&quot;Vendite correnti:&quot;</span>;
<span class="tok-nv">$vendite-correnti</span>.<span class="tok-n">traccia</span>;
<span class="tok-nb">say</span> <span class="tok-s">&quot;Vendite previste:&quot;</span>;
<span class="tok-nv">$vendite-previste</span>.<span class="tok-n">traccia</span>;
<span class="tok-nb">say</span> <span class="tok-s">&quot;Correnti e previste:&quot;</span>;
<span class="tok-nv">$correnti-e-previste</span>.<span class="tok-n">traccia</span>;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Fai girare questo script e vedrai che il risultato non muta.</p>
</div>
<div class="paragraph">
<p>Allora ti chiederai: se i ruoli si comportano come le classi, che senso hanno?<br>
Per rispondere alla domanda modifica il primo script usato per le ereditarietà multiple, quello dove abbiamo <em>dimenticato</em> di fare l&#8217;override del metodo <code>traccia</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">role</span> <span class="tok-n">grafico-a-barre</span> {
  <span class="tok-k">has</span> <span class="tok-nb">Int</span> <span class="tok-nv">@.bar-values</span>;
  <span class="tok-k">method</span> <span class="tok-n">traccia</span> {
    <span class="tok-nb">say</span> <span class="tok-nv">@.bar-values</span>;
  <span class="tok-n">vendite-correnti</span>
}

<span class="tok-k">role</span> <span class="tok-n">grafico-a-linee</span> {
  <span class="tok-k">has</span> <span class="tok-nb">Int</span> <span class="tok-nv">@.line-values</span>;
  <span class="tok-k">method</span> <span class="tok-n">traccia</span> {
    <span class="tok-nb">say</span> <span class="tok-nv">@.line-values</span>;
  }
}<span class="tok-n">vendite-correnti</span>

<span class="tok-k">class</span> <span class="tok-n">grafico-combinato</span> <span class="tok-nb">does</span> <span class="tok-n">grafico-a-barre</span> <span class="tok-nb">does</span> <span class="tok-n">grafico-a-linee</span> {
}

<span class="tok-k">my</span> <span class="tok-nv">$vendite-correnti</span> = <span class="tok-n">grafico-a-barre</span>.<span class="tok-nb">new</span>(<span class="tok-n">bar-values</span> =&gt; [<span class="tok-mi">10</span>,<span class="tok-mi">9</span>,<span class="tok-mi">11</span>,<span class="tok-mi">8</span>,<span class="tok-mi">7</span>,<span class="tok-mi">10</span>]);
<span class="tok-k">my</span> <span class="tok-nv">$vendite-previste</span> = <span class="tok-n">grafico-a-linee</span>.<span class="tok-nb">new</span>(<span class="tok-n">line-values</span> =&gt; [<span class="tok-mi">9</span>,<span class="tok-mi">8</span>,<span class="tok-mi">10</span>,<span class="tok-mi">7</span>,<span class="tok-mi">6</span>,<span class="tok-mi">9</span>]);

<span class="tok-k">my</span> <span class="tok-nv">$correnti-e-previste</span> = <span class="tok-n">grafico-combinato</span>.<span class="tok-nb">new</span>(<span class="tok-n">bar-values</span> =&gt; [<span class="tok-mi">10</span>,<span class="tok-mi">9</span>,<span class="tok-mi">11</span>,<span class="tok-mi">8</span>,<span class="tok-mi">7</span>,<span class="tok-mi">10</span>],
                                         <span class="tok-n">line-values</span> =&gt; [<span class="tok-mi">9</span>,<span class="tok-mi">8</span>,<span class="tok-mi">10</span>,<span class="tok-mi">7</span>,<span class="tok-mi">6</span>,<span class="tok-mi">9</span>]);
<span class="tok-nb">say</span> <span class="tok-s">&quot;Vendite correnti:&quot;</span>;
<span class="tok-nv">$vendite-correnti</span>.<span class="tok-n">traccia</span>;
<span class="tok-nb">say</span> <span class="tok-s">&quot;Vendite previste:&quot;</span>;
<span class="tok-nv">$vendite-previste</span>.<span class="tok-n">traccia</span>;
<span class="tok-nb">say</span> <span class="tok-s">&quot;Correnti e previste:&quot;</span>;
<span class="tok-nv">$correnti-e-previste</span>.<span class="tok-n">traccia</span>;</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title"><code>Output</code></div>
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span>===<span class="tok-n">SORRY</span>!===
<span class="tok-nb">Method</span> <span class="tok-s">&#39;traccia&#39;</span> <span class="tok-n">must</span> <span class="tok-n">be</span> <span class="tok-n">resolved</span> <span class="tok-nb">by</span> <span class="tok-k">class</span> <span class="tok-n">grafico-combinato</span> <span class="tok-n">because</span> <span class="tok-n">it</span> <span class="tok-nb">exists</span> <span class="tok-n">in</span> <span class="tok-n">multiple</span> <span class="tok-n">roles</span> (<span class="tok-n">grafico-a-linee</span>, <span class="tok-n">grafico-a-barre</span>)</code></pre>
</div>
</div>
<div class="paragraph">
<div class="title">traduzione</div>
<p>Il metodo <code>traccia</code> deve essere risolto dalla classe grafico-combinato poiché esso esiste in ruoli multipli (grafico-a-linee, grafico-a-barre)</p>
</div>
<div class="paragraph">
<div class="title">Spiegazione</div>
<p>Se i ruoli multipli vengono applicati alla stessa classe e si presenta un conflitto, si genera un errore durante la compilazione del codice.<br>
Questo risulta essere un approccio molto più sicuro rispetto alla semplice eredità multipla, dove i conflitti non vengono conderati errori e vengono risolti (in qualche modo) in fase di esecuzione.</p>
</div>
<div class="paragraph">
<p>I ruoli ti avvisano che c&#8217;è un conflitto.</p>
</div>
</div>
<div class="sect2">
<h3 id="_introspezione_2">9.10. Introspezione</h3>
<div class="paragraph">
<p>L'<strong>introspezione</strong> è il processo di estrarre l&#8217;informazione su un oggetto, come per esempio quale sia il suo tipo, i suoi attributi o i suoi metodi.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">class</span> <span class="tok-n">umano</span> {
  <span class="tok-k">has</span> <span class="tok-nb">Str</span> <span class="tok-nv">$.nome</span>;
  <span class="tok-k">has</span> <span class="tok-nb">Int</span> <span class="tok-nv">$.anni</span>;
  <span class="tok-k">method</span> <span class="tok-n">presentati</span> {
    <span class="tok-nb">say</span> <span class="tok-s">&#39;ciao sono un essere umano, mi chiamo &#39;</span> ~ <span class="tok-k">self</span>.<span class="tok-n">nome</span>;
  }
}

<span class="tok-k">class</span> <span class="tok-n">impiegato</span> <span class="tok-k">is</span> <span class="tok-n">umano</span> {
  <span class="tok-k">has</span> <span class="tok-nb">Str</span> <span class="tok-nv">$.azienda</span>;
  <span class="tok-k">has</span> <span class="tok-nb">Int</span> <span class="tok-nv">$.salario</span>;
  <span class="tok-k">method</span> <span class="tok-n">presentati</span> {
    <span class="tok-nb">say</span> <span class="tok-s">&#39;ciao sono un impiegato, mi chiamo &#39;</span> ~ <span class="tok-k">self</span>.<span class="tok-n">nome</span> ~ <span class="tok-s">&#39; e lavoro in &#39;</span> ~ <span class="tok-k">self</span>.<span class="tok-n">azienda</span>;
  }
}

<span class="tok-k">my</span> <span class="tok-nv">$giovanni</span> = <span class="tok-n">umano</span>.<span class="tok-nb">new</span>(<span class="tok-n">nome</span> =&gt;<span class="tok-s">&#39;Giovanni&#39;</span>,<span class="tok-n">anni</span> =&gt; <span class="tok-mi">23</span>,);
<span class="tok-k">my</span> <span class="tok-nv">$gianna</span> = <span class="tok-n">impiegato</span>.<span class="tok-nb">new</span>(<span class="tok-n">nome</span> =&gt;<span class="tok-s">&#39;Gianna&#39;</span>,<span class="tok-n">anni</span> =&gt; <span class="tok-mi">25</span>,<span class="tok-n">azienda</span> =&gt; <span class="tok-s">&#39;Luxottica&#39;</span>,<span class="tok-n">salario</span> =&gt; <span class="tok-mi">4000</span>);

<span class="tok-nb">say</span> <span class="tok-nv">$giovanni</span>.<span class="tok-nb">WHAT</span>;
<span class="tok-nb">say</span> <span class="tok-nv">$gianna</span>.<span class="tok-nb">WHAT</span>;
<span class="tok-nb">say</span> <span class="tok-nv">$giovanni</span>.^<span class="tok-n">attributes</span>;
<span class="tok-nb">say</span> <span class="tok-nv">$gianna</span>.^<span class="tok-n">attributes</span>;
<span class="tok-nb">say</span> <span class="tok-nv">$giovanni</span>.^<span class="tok-n">methods</span>;
<span class="tok-nb">say</span> <span class="tok-nv">$gianna</span>.^<span class="tok-n">methods</span>;
<span class="tok-nb">say</span> <span class="tok-nv">$gianna</span>.^<span class="tok-n">parents</span>;
<span class="tok-k">if</span> <span class="tok-nv">$gianna</span> ~~ <span class="tok-n">umano</span> {<span class="tok-nb">say</span> <span class="tok-s">&#39;Gianna è un essere umano&#39;</span>};</code></pre>
</div>
</div>
<div class="paragraph">
<p>L&#8217;introspezione è facilitata da:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>.WHAT</code>&#8201;&#8212;&#8201;restituisce la classe di appartenenza dell&#8217;oggetto</p>
</li>
<li>
<p><code>.^attributes</code>&#8201;&#8212;&#8201;restituisce tutti gli attributi dell&#8217;oggetto</p>
</li>
<li>
<p><code>.^methods</code>&#8201;&#8212;&#8201;restituisce tutti i metodi che possono essere invocati sull&#8217;oggetto</p>
</li>
<li>
<p><code>.^parents</code>&#8201;&#8212;&#8201;restituisce le classi genitrici</p>
</li>
<li>
<p><code>~~</code> è un operatore chiamato <code>corrispondenza intelligente</code>
Esso valuta a <em>True</em> se l&#8217;oggetto è creato dalla classe con cui viene comparato o da qualche sua figlia.</p>
</li>
</ul>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Per avere più informazioni sulla prgrammazione orientata agli oggetti in Perl 6 vedi qui:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="https://docs.perl6.org/language/classtut" class="bare">https://docs.perl6.org/language/classtut</a></p>
</li>
<li>
<p><a href="https://docs.perl6.org/language/objects" class="bare">https://docs.perl6.org/language/objects</a></p>
</li>
</ul>
</div>
</td>
</tr>
</table>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_gestione_delle_eccezioni">10. Gestione delle eccezioni</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_catturare_le_eccezioni">10.1. Catturare le eccezioni</h3>
<div class="paragraph">
<p>Le <strong>eccezioni</strong> sono eventi speciali che accadono durante l&#8217;esecuzione del programma quando qualche cosa va storto.<br>
In questi casi si dice che le eccezioni vengono <em>scatentate</em>.</p>
</div>
<div class="paragraph">
<p>Considera lo script qui sotto, esso gira correttamente:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">my</span> <span class="tok-nb">Str</span> <span class="tok-nv">$nome</span>;
<span class="tok-nv">$name</span> = <span class="tok-s">&quot;Giovanna&quot;</span>;
<span class="tok-nb">say</span> <span class="tok-s">&quot;Ciao &quot;</span> ~ <span class="tok-nv">$nome</span>;
<span class="tok-nb">say</span> <span class="tok-s">&quot;Come stai oggi?&quot;</span></code></pre>
</div>
</div>
<div class="listingblock">
<div class="title"><code>Output</code></div>
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-n">Ciao</span> <span class="tok-n">Giovanna</span>
<span class="tok-n">Come</span> <span class="tok-n">stai</span> <span class="tok-n">oggi</span>?</code></pre>
</div>
</div>
<div class="paragraph">
<p>Ora considera questo script, che scatena una eccezione:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">my</span> <span class="tok-nb">Str</span> <span class="tok-nv">$nome</span>;
<span class="tok-nv">$nome</span> = <span class="tok-mi">123</span>;
<span class="tok-nb">say</span> <span class="tok-s">&quot;Ciao &quot;</span> ~ <span class="tok-nv">$nome</span>;
<span class="tok-nb">say</span> <span class="tok-s">&quot;Come stai oggi?&quot;</span></code></pre>
</div>
</div>
<div class="listingblock">
<div class="title"><code>Output</code></div>
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-n">Type</span> <span class="tok-n">check</span> <span class="tok-n">failed</span> <span class="tok-n">in</span> <span class="tok-n">assignment</span> <span class="tok-nb">to</span> <span class="tok-nv">$nome</span>; <span class="tok-n">expected</span> <span class="tok-nb">Str</span> <span class="tok-k">but</span> <span class="tok-n">got</span> <span class="tok-nb">Int</span>
   <span class="tok-n">in</span> <span class="tok-n">block</span> <span class="tok-s">&lt;unit&gt;</span> <span class="tok-n">at</span> <span class="tok-s">&lt;nome script&gt;</span>.<span class="tok-n">pl6:2</span></code></pre>
</div>
</div>
<div class="paragraph">
<div class="title">traduzione</div>
<p>Fallimento nel controllo sui tipi durante l&#8217;assegnamento a $nome; mi aspettavo Str ma ho ricevuto Int
 nel blocco &lt;unit&gt; in &lt;nome script&gt;.pl6:2</p>
</div>
<div class="paragraph">
<p>Notiamo che tutte le volte che accade un errore (in questo caso assegnando un numero ad una variabile stringa) il programma si ferma e la successiva linea di codice non viene neppure valutata.</p>
</div>
<div class="paragraph">
<p>la <strong>gestione delle eccezioni</strong> è il processo di <em>cattura</em> di una eccezione che è stata <em>scatenata</em> con il fine di permettere allo script di proseguire.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">my</span> <span class="tok-nb">Str</span> <span class="tok-nv">$nome</span>;
<span class="tok-k">try</span> {
  <span class="tok-nv">$nome</span> = <span class="tok-mi">123</span>;
  <span class="tok-nb">say</span> <span class="tok-s">&quot;Ciao &quot;</span> ~ <span class="tok-nv">$nome</span>;
  <span class="tok-k">CATCH</span> {
    <span class="tok-k">default</span> {
      <span class="tok-nb">say</span> <span class="tok-s">&quot;Puoi ripetere il nome, non lo abbiamo trovato nell&#39;archivio.&quot;</span>;
    }
  }
}
<span class="tok-nb">say</span> <span class="tok-s">&quot;Come stai oggi?&quot;</span>;</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title"><code>Output</code></div>
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-n">Puoi</span> <span class="tok-n">ripetere</span> <span class="tok-n">il</span> <span class="tok-n">nome</span>, <span class="tok-n">non</span> <span class="tok-n">lo</span> <span class="tok-n">abbiamo</span> <span class="tok-n">trovato</span> <span class="tok-n">nell&#39;archivio</span>.
<span class="tok-n">Come</span> <span class="tok-n">stai</span> <span class="tok-n">oggi</span>?&quot;;</code></pre>
</div>
</div>
<div class="paragraph">
<p>La gestione delle eccezioni si implementa con un blocco <code>try-catch</code> (prova e cattura, n.d.t.).</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">try</span> {
  <span class="tok-c1"># qui metti del codice</span>
  <span class="tok-c1"># se qualcosa va storto, lo script entrerà qui sotto, nel blocco CATCH</span>
  <span class="tok-c1"># se invece va tutto bene il blocco CATCH viene ignorato</span>
  <span class="tok-c1"># if anything goes wrong, the script will enter the below CATCH block</span>
  <span class="tok-c1"># if nothing goes wrong, the CATCH block will be ignored</span>
  <span class="tok-k">CATCH</span> {
    <span class="tok-k">default</span> {
      <span class="tok-c1"># Il codice che metterai qui sarà valutato solo nel caso in cui l&#39;eccezione venga scatenata.</span>
    }
  }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Il blocco <code>CATCH</code> può essere definito nello stesso modo in cui viene definito un blocco <code>given</code>; ossia possiamo <em>catturare</em> e gestire diversi tipi di eccezioni. Ecco un esempio:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">try</span> {
  <span class="tok-c1"># qui metti del codice</span>
  <span class="tok-c1"># se qualcosa va storto, lo script entrerà qui sotto, nel blocco CATCH</span>
  <span class="tok-c1"># se invece va tutto bene il blocco CATCH viene ignorato</span>
  <span class="tok-k">CATCH</span> {
    <span class="tok-k">when</span> <span class="tok-o">X</span>::<span class="tok-n">AdHoc</span>   { <span class="tok-c1"># gestisci l&#39;eccezione di tipo X::AdHoc }</span>
    <span class="tok-k">when</span> <span class="tok-o">X</span>::<span class="tok-n">IO</span>      { <span class="tok-c1"># gestisci l&#39;eccezione di tipo X::IO }</span>
    <span class="tok-k">when</span> <span class="tok-o">X</span>::<span class="tok-n">OS</span>      { <span class="tok-c1"># gestisci l&#39;eccezione di tipo X::OS }</span>
    <span class="tok-k">default</span>         { <span class="tok-c1"># gestisci gli altri tipi di eccezione }</span>
  }
}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_scatenare_eccezioni">10.2. Scatenare eccezioni</h3>
<div class="paragraph">
<p>Il Perl 6 permette anche di scatenare esplicitamente delle eccezioni.<br>
Si possono scatenare due tipi di eccezioni:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>ad-hoc</p>
</li>
<li>
<p>tipizzate</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="title">ad-hoc</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">my</span> <span class="tok-nb">Int</span> <span class="tok-nv">$anni</span> = <span class="tok-mi">21</span>;
<span class="tok-k">die</span> <span class="tok-s">&quot;Errore !&quot;</span>;</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">tipizzata</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">my</span> <span class="tok-nb">Int</span> <span class="tok-nv">$anni</span> = <span class="tok-mi">21</span>;
<span class="tok-o">X</span>::<span class="tok-n">AdHoc</span>.<span class="tok-nb">new</span>(<span class="tok-n">payload</span> =&gt; <span class="tok-s">&#39;Errore !&#39;</span>).<span class="tok-n">throw</span>;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Le eccezioni Ad-hoc vengono scatenate usando la subroutine <code>die</code>, seguita dal messaggio di eccezione.</p>
</div>
<div class="paragraph">
<p>Le eccezioni tipizzate sono oggetti; per questo abbiamo usato il costruttore <code>.new()</code> nell&#8217;esempio.<br>
Tutte le eccezioni tipizzate discendono dalla classe <code>X</code>; qui sotto alcuni esempi:<br>
<code>X::AdHoc</code> il più semplice tipo di eccezione<br>
<code>X::IO</code> errori relativi all&#8217;IO<br>
<code>X::OS</code> errori relativi al sistema operativo<br>
<code>X::Str::Numeric</code> errori relativi al tentare di forzare una stringa in un numero</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Per vedere una lista completa dei tipi di eccezione ed i loro metodi associati vedi qui <a href="https://docs.perl6.org/type-exceptions.html" class="bare">https://docs.perl6.org/type-exceptions.html</a>
</td>
</tr>
</table>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_espressioni_regolari">11. Espressioni regolari</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Una espressione regolare, o <em>regex</em>, è una sequenza di caratteri che si usano per la corrispondenza delle sequenze di caratteri (pattern-matching).<br>
Pensa ad una sequenza di caratteri.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">if</span> <span class="tok-s">&#39;illuminismo&#39;</span> ~~ <span class="tok-sr">m/lumi/</span> {
    <span class="tok-nb">say</span> <span class="tok-s">&quot;illuminismo contiene la parola lumi&quot;</span>;
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>In questo esempio l&#8217;operatore di corrispondenza intelligente <code>~~</code> viene usato per controllare che la stringa (illuminismo) contenga la parola (lumi).<br>
"illuminismo" corrisponde alla regex <code>m/lumi/</code></p>
</div>
<div class="sect2">
<h3 id="_definizione_delle_espressioni_regolari">11.1. Definizione delle espressioni regolari</h3>
<div class="paragraph">
<p>Una espressione regolare può essere definita in questi modi:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>/lumi/</code></p>
</li>
<li>
<p><code>m/lumi/</code></p>
</li>
<li>
<p><code>rx/lumi/</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Ameno che non sia specificato esplicitamente lo spazio bianco viene ignorato; <code>m/lumi/</code> and <code>m/ lumi /</code> sono equivalenti.</p>
</div>
</div>
<div class="sect2">
<h3 id="_corrispondenza_dei_caratteri">11.2. Corrispondenza dei caratteri</h3>
<div class="paragraph">
<p>Caratteri alfanumerici ed il trattino-basso <code>_</code> vengono scritti normalmente.<br>
Tutti gli altri caratteri debbono essere contrassegnati dal backslash o abbracciati da apici.</p>
</div>
<div class="listingblock">
<div class="title">Backslash</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">if</span> <span class="tok-s">&#39;Temperatura: 13&#39;</span> ~~ <span class="tok-sr">m/ \: /</span> {
    <span class="tok-nb">say</span> <span class="tok-s">&quot;La stringa fornita contiene un due-punti :&quot;</span>;
}</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">apici singoli</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">if</span> <span class="tok-s">&#39;Anni = 13&#39;</span> ~~ <span class="tok-sr">m/ &#39;=&#39; /</span> {
    <span class="tok-nb">say</span> <span class="tok-s">&quot;La stringa fornita contiene il carattere = &quot;</span>;
}</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">doppi apici</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">if</span> <span class="tok-s">&#39;nome@azienda.com&#39;</span> ~~ <span class="tok-sr">m/ &quot;@&quot; /</span> {
    <span class="tok-nb">say</span> <span class="tok-s">&quot;Questo è un indirizzo di posta elettronica valido, perché contiene un carattere @&quot;</span>;
}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_corrispondenza_di_categorie_di_caratteri">11.3. Corrispondenza di categorie di caratteri</h3>
<div class="paragraph">
<p>I caratteri possono essere classificati in categorie e possiamo riferirci a queste.<br>
Possiamo anche trovare corrispondenze inverse di tali categorie (ossia "tutto tranne questo insieme"):</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Categoria</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Regex</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Inversa</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Regex</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Carattere di parola (lettera, cifra o trattino-basso)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">\w</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Carattere di non-parola</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">\W</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Cifra</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">\d</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">carattere non-numero</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">\D</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">spazio</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">\s</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">tutti i caratteri tranne lo spazio</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">\S</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">spazio orizzontale</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">\h</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">tutti i caratteri tranne lo spazio orizzontale</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">\H</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">spazio verticale</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">\v</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">tutti i caratteri tranne lo spazio verticale</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">\V</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">tabulazione</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">\t</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">tutti i caratteri tranne la tabulazione</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">\T</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">a-capo</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">\n</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">tutti i caratteri tranne a-capo</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">\N</p></td>
</tr>
</tbody>
</table>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">if</span> <span class="tok-s">&quot;Giovanni123&quot;</span> ~~<span class="tok-sr"> / \d /</span> {
  <span class="tok-nb">say</span> <span class="tok-s">&quot;Questo non è un nome valido, i nomi non sono consentiti&quot;</span>;
} <span class="tok-k">else</span> {
  <span class="tok-nb">say</span> <span class="tok-s">&quot;Questo è un nome valido&quot;</span>
}
<span class="tok-k">if</span> <span class="tok-s">&quot;Giovanni-Doe&quot;</span> ~~<span class="tok-sr"> / \s /</span> {
  <span class="tok-nb">say</span> <span class="tok-s">&quot;questa stringa contiene uno spazio bianco&quot;</span>;
} <span class="tok-k">else</span> {
  <span class="tok-nb">say</span> <span class="tok-s">&quot;questa stringa non contiene uno spazio bianco&quot;</span>
}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_proprietà_della_codifica_unicode">11.4. Proprietà della codifica Unicode</h3>
<div class="paragraph">
<p>La corrispondenza con categorie di caratteri, come visto nella precedente sezione, è conveniente.<br>
Detto questo, un approccio più sistematico sarebbe l&#8217;uso delle proprietà Unicode.<br>
Queste ti permetttono di trovare corrispondenze tra categorie di caratteri sia all&#8217;interno che all&#8217;esterno dello standart ASCII.<br>
Le proprietà Unicode sono abbracciate da queste parentesi <code>&lt;: &gt;</code></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">if</span> <span class="tok-s">&quot;Numeri Devanagari १२३&quot;</span> ~~<span class="tok-sr"> / &lt;:N&gt; /</span> {
  <span class="tok-nb">say</span> <span class="tok-s">&quot;Contiene un numero&quot;</span>;
} <span class="tok-k">else</span> {
  <span class="tok-nb">say</span> <span class="tok-s">&quot;Non contiene un numero&quot;</span>
}
<span class="tok-k">if</span> <span class="tok-s">&quot;Привет, Иван.&quot;</span> ~~<span class="tok-sr"> / &lt;:Lu&gt; /</span> {
  <span class="tok-nb">say</span> <span class="tok-s">&quot;Contiene lettere maiuscole&quot;</span>;
} <span class="tok-k">else</span> {
  <span class="tok-nb">say</span> <span class="tok-s">&quot;Non contiene lettere maiuscole&quot;</span>
}
<span class="tok-k">if</span> <span class="tok-s">&quot;Giovanni-Doe&quot;</span> ~~<span class="tok-sr"> / &lt;:Pd&gt; /</span> {
  <span class="tok-nb">say</span> <span class="tok-s">&quot;Contiene il trattino&quot;</span>
} <span class="tok-k">else</span> {
  <span class="tok-nb">say</span> <span class="tok-s">&quot;Non contiene il trattino&quot;</span>
}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_jolly">11.5. Jolly</h3>
<div class="paragraph">
<p>I jolly possono essere usati nelle espressioni regolari.</p>
</div>
<div class="paragraph">
<p>Il punto <code>.</code> indica il singolo carattere.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">if</span> <span class="tok-s">&#39;abc&#39;</span> ~~ <span class="tok-sr">m/ a.c /</span> {
    <span class="tok-nb">say</span> <span class="tok-s">&quot;Corrispondenza trovata&quot;</span>;
}
<span class="tok-k">if</span> <span class="tok-s">&#39;a2c&#39;</span> ~~ <span class="tok-sr">m/ a.c /</span> {
    <span class="tok-nb">say</span> <span class="tok-s">&quot;Corrispondenza trovata&quot;</span>;
}
<span class="tok-k">if</span> <span class="tok-s">&#39;ac&#39;</span> ~~ <span class="tok-sr">m/ a.c /</span> {
    <span class="tok-nb">say</span> <span class="tok-s">&quot;Corrispondenza trovata&quot;</span>;
} <span class="tok-k">else</span> {
    <span class="tok-nb">say</span> <span class="tok-s">&quot;Nessuna corrispondenza&quot;</span>;
}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_quantificatori">11.6. Quantificatori</h3>
<div class="paragraph">
<p>I quantificatori seguono un carattere e vengono usati per specificare quante volte ce lo aspettiamo.</p>
</div>
<div class="paragraph">
<p>Il punto di domanda <code>?</code> significa zero o una volta.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">if</span> <span class="tok-s">&#39;ac&#39;</span> ~~ <span class="tok-sr">m/ a?c /</span> {
    <span class="tok-nb">say</span> <span class="tok-s">&quot;Corrispondono&quot;</span>;
} <span class="tok-k">else</span> {
    <span class="tok-nb">say</span> <span class="tok-s">&quot;Non corrispondono&quot;</span>;
}
<span class="tok-k">if</span> <span class="tok-s">&#39;c&#39;</span> ~~ <span class="tok-sr">m/ a?c /</span> {
    <span class="tok-nb">say</span> <span class="tok-s">&quot;Corrispondono&quot;</span>;
} <span class="tok-k">else</span> {
    <span class="tok-nb">say</span> <span class="tok-s">&quot;Non corrispondono&quot;</span>;
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>La stellina <code>*</code> indica zero o più volte</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">if</span> <span class="tok-s">&#39;az&#39;</span> ~~ <span class="tok-sr">m/ a*z /</span> {
    <span class="tok-nb">say</span> <span class="tok-s">&quot;Corrispondono&quot;</span>;
} <span class="tok-k">else</span> {
    <span class="tok-nb">say</span> <span class="tok-s">&quot;Non corrispondono&quot;</span>;
}
<span class="tok-k">if</span> <span class="tok-s">&#39;aaz&#39;</span> ~~ <span class="tok-sr">m/ a*z /</span> {
    <span class="tok-nb">say</span> <span class="tok-s">&quot;Corrispondono&quot;</span>;
} <span class="tok-k">else</span> {
    <span class="tok-nb">say</span> <span class="tok-s">&quot;Non corrispondono&quot;</span>;
}
<span class="tok-k">if</span> <span class="tok-s">&#39;aaaaaaaaaaz&#39;</span> ~~ <span class="tok-sr">m/ a*z /</span> {
    <span class="tok-nb">say</span> <span class="tok-s">&quot;Corrispondono&quot;</span>;
} <span class="tok-k">else</span> {
    <span class="tok-nb">say</span> <span class="tok-s">&quot;Non corrispondono&quot;</span>;
}
<span class="tok-k">if</span> <span class="tok-s">&#39;z&#39;</span> ~~ <span class="tok-sr">m/ a*z /</span> {
    <span class="tok-nb">say</span> <span class="tok-s">&quot;Corrispondono&quot;</span>;
} <span class="tok-k">else</span> {
    <span class="tok-nb">say</span> <span class="tok-s">&quot;Non corrispondono&quot;</span>;
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Il <code>+</code> indica almeno una volta.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">if</span> <span class="tok-s">&#39;az&#39;</span> ~~ <span class="tok-sr">m/ a+z /</span> {
    <span class="tok-nb">say</span> <span class="tok-s">&quot;Corrispondono&quot;</span>;
} <span class="tok-k">else</span> {
    <span class="tok-nb">say</span> <span class="tok-s">&quot;Non corrispondono&quot;</span>;
}
<span class="tok-k">if</span> <span class="tok-s">&#39;aaz&#39;</span> ~~ <span class="tok-sr">m/ a+z /</span> {
    <span class="tok-nb">say</span> <span class="tok-s">&quot;Corrispondono&quot;</span>;
} <span class="tok-k">else</span> {
    <span class="tok-nb">say</span> <span class="tok-s">&quot;Non corrispondono&quot;</span>;
}
<span class="tok-k">if</span> <span class="tok-s">&#39;aaaaaaaaaaz&#39;</span> ~~ <span class="tok-sr">m/ a+z /</span> {
    <span class="tok-nb">say</span> <span class="tok-s">&quot;Corrispondono&quot;</span>;
} <span class="tok-k">else</span> {
    <span class="tok-nb">say</span> <span class="tok-s">&quot;Non corrispondono&quot;</span>;
}
<span class="tok-k">if</span> <span class="tok-s">&#39;z&#39;</span> ~~ <span class="tok-sr">m/ a+z /</span> {
    <span class="tok-nb">say</span> <span class="tok-s">&quot;Corrispondono&quot;</span>;
} <span class="tok-k">else</span> {
    <span class="tok-nb">say</span> <span class="tok-s">&quot;Non corrispondono&quot;</span>;
}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_risultati_della_corrispondenza">11.7. Risultati della corrispondenza</h3>
<div class="paragraph">
<p>Ogni volta che il processo di corrispondenza ha successo, il risultato viene memorizzato in una variabile speciale <code>$/</code></p>
</div>
<div class="listingblock">
<div class="title">Script</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">if</span> <span class="tok-s">&#39;Rakudo è un compilatore Perl 6!&#39;</span> ~~ <span class="tok-sr">m/:s Perl 6/</span> {
    <span class="tok-nb">say</span> <span class="tok-s">&quot;Il risultato è: &quot;</span> ~ <span class="tok-vg">$/</span>;
    <span class="tok-nb">say</span> <span class="tok-s">&quot;La stringa prima del risultato è: &quot;</span> ~ <span class="tok-vg">$/</span>.<span class="tok-n">prematch</span>;
    <span class="tok-nb">say</span> <span class="tok-s">&quot;La stringa dopo il risultato è: &quot;</span> ~ <span class="tok-vg">$/</span>.<span class="tok-n">postmatch</span>;
    <span class="tok-nb">say</span> <span class="tok-s">&quot;La corrispondenza inizia alla posizione: &quot;</span> ~ <span class="tok-vg">$/</span>.<span class="tok-nb">from</span>;
    <span class="tok-nb">say</span> <span class="tok-s">&quot;La corrispondenza finisce alla posizione: &quot;</span> ~ <span class="tok-vg">$/</span>.<span class="tok-nb">to</span>;
}</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Output</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-n">Il</span> <span class="tok-n">risultato</span> <span class="tok-n">è:</span> <span class="tok-n">Perl</span> <span class="tok-mi">6</span>
<span class="tok-n">La</span> <span class="tok-n">stringa</span> <span class="tok-n">prima</span> <span class="tok-n">del</span> <span class="tok-n">risultato</span> <span class="tok-n">è:</span> <span class="tok-n">Rakudo</span> <span class="tok-n">è</span> <span class="tok-n">un</span> <span class="tok-n">compilatore</span>
<span class="tok-n">The</span> <span class="tok-n">string</span> <span class="tok-o">after</span> <span class="tok-n">the</span> <span class="tok-n">match</span> <span class="tok-n">is:</span> !
<span class="tok-n">The</span> <span class="tok-n">matching</span> <span class="tok-n">string</span> <span class="tok-n">starts</span> <span class="tok-n">at</span> <span class="tok-n">position:</span> <span class="tok-mi">24</span>
<span class="tok-n">The</span> <span class="tok-n">matching</span> <span class="tok-n">string</span> <span class="tok-n">ends</span> <span class="tok-n">at</span> <span class="tok-n">position:</span> <span class="tok-mi">30</span></code></pre>
</div>
</div>
<div class="paragraph">
<div class="title">Spiegazione</div>
<p><code>$/</code> ritorna un <em>oggetto corrispondente</em> (la stringa che corrisponde all&#8217;espressione regolare)<br>
I metodi seguenti possono essere chiamati sull'<em>oggetto corrispondente</em>:<br>
<code>.prematch</code> ritorna la stringa che precede la corrispondenza.<br>
<code>.postmatch</code> ritorna la stringa che segue la corrispondenza.<br>
<code>.from</code> ritorna la posizione di partenza della corrispondenza.<br>
<code>.to</code> ritorna la posizione finale della corrispondenza.<br></p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
Di norma lo spazio bianco in una espressione regolare viene ignorato.<br>
Se vogliamo una corrispondenza con una regex che contenga spazi, dobbiamo farlo esplicitamente.<br>
Il <code>:s</code> nella regex di esempio <code>m/:s Perl 6/</code> forza l&#8217;espressione a considerare gli spazi.<br>
Alternativamete potevamo scrivere la regex come <code>m/ Perl\s6 /</code> usando <code>\s</code> che rappresenta lo spazio.<br>
Se la regex contiene più di un singolo spazio, l&#8217;uso di <code>:s</code> è una scelta migliore che usare <code>\s</code> esplicitamente per ogni spazio presente.
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_esempio">11.8. Esempio</h3>
<div class="paragraph">
<p>Controlliamo se una mail è valida o no.<br>
Per semplicità assumiamo che una email valida abbia questo formato.<br>
nome [punto] cognome [chiocciolina] azienda [punto] (com/org/net)</p>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
l&#8217;espressione regolare usata in questo
esempio per la validazione dell&#8217;indirizzo email non è
molto accurata.<br>
Il suo solo scopo è di dimostrare la funzionalià delle
espressioni regolari in Perl 6.<br>
Non usarla in vero software applicativo!
</td>
</tr>
</table>
</div>
<div class="listingblock">
<div class="title">Script</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">my</span> <span class="tok-nv">$email</span> = <span class="tok-s">&#39;giovanni.dossi@perl6.org&#39;</span>;
<span class="tok-k">my</span> <span class="tok-nv">$regex</span> =<span class="tok-sr"> / &lt;:L&gt;+\.&lt;:L&gt;+\@&lt;:L+:N&gt;+\.&lt;:L&gt;+ /</span>;

<span class="tok-k">if</span> <span class="tok-nv">$email</span> ~~ <span class="tok-nv">$regex</span> {
  <span class="tok-nb">say</span> <span class="tok-vg">$/</span> ~ <span class="tok-s">&quot; è una mail valida&quot;</span>;
} <span class="tok-k">else</span> {
  <span class="tok-nb">say</span> <span class="tok-s">&quot;questa non è una mail valida&quot;</span>;
}</code></pre>
</div>
</div>
<div class="paragraph">
<div class="title">Output</div>
<p><code>giovanni.dossi@perl6.org è una mail valida</code></p>
</div>
<div class="paragraph">
<div class="title">Spiegazione</div>
<p><code>&lt;:L&gt;</code> trova la corrispondenza di una singola lettera<br>
<code>&lt;:L&gt;+</code> trova la corrispondenza con una o più lettere<br>
<code>\.</code> trova la corrisondenza con un singolo carattere [punto]<br>
<code>\@</code> trova la corrispondenza con un singolo carattere chiocciolina [@]<br>
<code>&lt;:L+:N&gt;</code> trova una singola lettera ho una singola cifra numerica<br>
<code>&lt;:L+:N&gt;+</code> una o più lettere o numeri<br></p>
</div>
<div class="paragraph">
<p>L&#8217;espressione regolare può quindi essere decomposta in questo modo:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>nome</strong> <code>&lt;:L&gt;+</code></p>
</li>
<li>
<p><strong>[punto]</strong> <code>\.</code></p>
</li>
<li>
<p><strong>cognome</strong> <code>&lt;:L&gt;+</code></p>
</li>
<li>
<p><strong>[chiocciolina]</strong> <code>\@</code></p>
</li>
<li>
<p><strong>nome azienda</strong> <code>&lt;:L+:N&gt;+</code></p>
</li>
<li>
<p><strong>[punto]</strong> <code>\.</code></p>
</li>
<li>
<p><strong>com/org/net</strong> <code>&lt;:L&gt;+</code></p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="title">In alternativa una espressione regolare può essere spezzata in espressioni regolari più semplici</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">my</span> <span class="tok-nv">$email</span> = <span class="tok-s">&#39;giovanni.dossi@perl6.org&#39;</span>;
<span class="tok-k">my</span> <span class="tok-k">regex</span><span class="tok-n"> molte-lettere</span> {<span class="tok-sr"> &lt;:L&gt;+ </span>};
<span class="tok-k">my</span> <span class="tok-k">regex</span><span class="tok-n"> punto</span> {<span class="tok-sr"> \. </span>};
<span class="tok-k">my</span> <span class="tok-k">regex</span><span class="tok-n"> chiocciolina</span> {<span class="tok-sr"> \@ </span>};
<span class="tok-k">my</span> <span class="tok-k">regex</span><span class="tok-n"> molte-lettere-e-numeri</span> {<span class="tok-sr"> &lt;:L+:N&gt;+ </span>};

<span class="tok-k">if</span> <span class="tok-nv">$email</span> ~~<span class="tok-sr"> / &lt;molte-lettere&gt; &lt;punto&gt; &lt;molte-lettere&gt; &lt;chiocciolina&gt; &lt;molte-lettere-e-numeri&gt; &lt;punto&gt; &lt;molte-lettere&gt; /</span> {
  <span class="tok-nb">say</span> <span class="tok-vg">$/</span> ~ <span class="tok-s">&quot; è una mail valida&quot;</span>;
} <span class="tok-k">else</span> {
  <span class="tok-nb">say</span> <span class="tok-s">&quot;questa non è una mail valida&quot;</span>;
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Una espressione regolare con nome viene definita con questa sintassi: <code>my regex nome-regex { defininizione-regex }</code><br>
Una espressione regolare con nome può essere chiamata usando questa sintassi: <code>&lt;nome-regex&gt;</code></p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Per avere più informazione sulle espressioni regolari vedi qui <a href="https://docs.perl6.org/language/regexes" class="bare">https://docs.perl6.org/language/regexes</a>
</td>
</tr>
</table>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_i_moduli_perl_6">12. I moduli Perl 6</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Perl 6 è un linguaggio di programmazione di utilizzo generale. Può essere usato per affrontare una moltitudine di compiti tra cui la manipolazione dei testi, grafica, web, database, protocolli di rete ecc.</p>
</div>
<div class="paragraph">
<p>Riusabilità è un concetto molto importante per i programmatori non devono reinventare la ruota ogni volta che vogliono svolgere un nuovo compito.</p>
</div>
<div class="paragraph">
<p>Perl 6 permette la creazione e la redistribuzione di <strong>moduli</strong>. Ogni modulo è un insieme di funzionalità ben impacchettate che possono essere riusate una volta installate.</p>
</div>
<div class="paragraph">
<p><em>Zef</em> è uno strumento di gestione dei moduli integrato con Rakudo Star.</p>
</div>
<div class="paragraph">
<p>Per installare un modulo specifico digita questo comando dal tuo terminale:</p>
</div>
<div class="paragraph">
<p><code>zef install "nome-del-modulo"</code></p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Le cartelle con i moduli Perl 6 sono qui: <a href="https://modules.perl6.org/" class="bare">https://modules.perl6.org/</a>
</td>
</tr>
</table>
</div>
<div class="sect2">
<h3 id="_usare_i_moduli">12.1. Usare i moduli</h3>
<div class="paragraph">
<p>MD5 è una funzione di crittografia che produce has a 128-bit.<br>
MD5 ha varie applicazioni, inclusa la codifica di password immagazzinate in un database.
Quando un nuovo utente si registra, le sue credenziali non vengono memorizzate come un semplice testo ma piùttosto inserite in un <em>hash</em>.
L&#8217;idea che sta dietro questa scelta è questa: se il DB viene compromesso, l&#8217;attaccante non sarà in gradi di sapere quali sono le password.</p>
</div>
<div class="paragraph">
<p>Fortunatamente, non devi implementare l&#8217;algoritmo MD5 da solo; già esiste un modulo Perl 6 che lo implementa.</p>
</div>
<div class="paragraph">
<p>Installiamolo:<br>
<code>zef install Digest::MD5</code></p>
</div>
<div class="paragraph">
<p>Ora fai girare questo script:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">use</span> <span class="tok-n">Digest::MD5</span>;
<span class="tok-k">my</span> <span class="tok-nv">$password</span> = <span class="tok-s">&quot;password123&quot;</span>;
<span class="tok-k">my</span> <span class="tok-nv">$hashed-password</span> = <span class="tok-n">Digest::MD5</span>.<span class="tok-nb">new</span>.<span class="tok-n">md5_hex</span>(<span class="tok-nv">$password</span>);

<span class="tok-nb">say</span> <span class="tok-nv">$hashed-password</span>;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Per far girare la funzione <code>md5_hex()</code> che crea gli has, abbiamo bisono di caricare il modulo richiesto.<br>
La parola chiave <code>use</code> carica il modulo permettendo di usarlo nello script.</p>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
In pradica il fatto che MD5 produca gli hash non è sufficiente, perché questa è una soluzione vulnerabile agli attacchi a dizionario [<a href="https://it.wikipedia.org/wiki/Attacco_a_dizionario" class="bare">https://it.wikipedia.org/wiki/Attacco_a_dizionario</a>].<br>
Dovrebbe essere combinato con un&#8217;azione crittografica [<a href="https://it.wikipedia.org/wiki/Sale_(crittografia" class="bare">https://it.wikipedia.org/wiki/Sale_(crittografia</a>)].
</td>
</tr>
</table>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_unicode">13. Unicode</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Unicode uno standard di codifca e di rappresentazione del test per la maggior parte dei sistemi di scrittura.<br>
UTF-8 è una codifica dei caratteri capace di codificare tutti i possibili caratteri, o punti di codice, in Unicode.</p>
</div>
<div class="paragraph">
<p>I caratteri sono definiti da:<br>
<strong>grafemi</strong>: una rappresentazione visuale.<br>
<strong>punti di codice</strong>: un numero assegnato di caratteri.</p>
</div>
<div class="sect2">
<h3 id="_usare_lunicode">13.1. Usare l&#8217;unicode</h3>
<div class="listingblock">
<div class="title">Guardiamo a come possiamo stampare i caratteri usando unicode.</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-nb">say</span> <span class="tok-s">&quot;a&quot;</span>;
<span class="tok-nb">say</span> <span class="tok-s">&quot;\x0061&quot;</span>;
<span class="tok-nb">say</span> <span class="tok-s">&quot;\c[LATIN SMALL LETTER A]&quot;</span>;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Le tre linee qui sopra mostrano diversi modi di costruire un carattere:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Scrivere un carattere direttamente (grafema)</p>
</li>
<li>
<p>usare <code>\x</code> ed il codice unicode relativo</p>
</li>
<li>
<p>Usare <code>\c</code> ed il codice unicode nominale (in inglese)</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="title">Ora stampiamo una faccina che sorride</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-nb">say</span> <span class="tok-s">&quot;☺&quot;</span>;
<span class="tok-nb">say</span> <span class="tok-s">&quot;\x263a&quot;</span>;
<span class="tok-nb">say</span> <span class="tok-s">&quot;\c[WHITE SMILING FACE]&quot;</span>;</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Un altro esempio che combina due codifiche</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-nb">say</span> <span class="tok-s">&quot;á&quot;</span>;
<span class="tok-nb">say</span> <span class="tok-s">&quot;\x00e1&quot;</span>;
<span class="tok-nb">say</span> <span class="tok-s">&quot;\x0061\x0301&quot;</span>;
<span class="tok-nb">say</span> <span class="tok-s">&quot;\c[LATIN SMALL LETTER A WITH ACUTE]&quot;</span>;</code></pre>
</div>
</div>
<div class="paragraph">
<p>La lettera <code>á</code> può essere scritta:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>usando il suo codice unicode numerico <code>\x00e1</code></p>
</li>
<li>
<p>come combinazione di due docidic numerici, quello della <code>a</code> con quello dell&#8217;accento: <code>\x0061\x0301</code></p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="title">Alcuni metodi che si possono usare:</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-nb">say</span> <span class="tok-s">&quot;á&quot;</span>.<span class="tok-n">NFC</span>;
<span class="tok-nb">say</span> <span class="tok-s">&quot;á&quot;</span>.<span class="tok-n">NFD</span>;
<span class="tok-nb">say</span> <span class="tok-s">&quot;á&quot;</span>.<span class="tok-n">uniname</span>;</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title"><code>Output</code></div>
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-n">NFC:0x</span><span class="tok-s">&lt;00e1&gt;</span>
<span class="tok-n">NFD:0x</span><span class="tok-s">&lt;0061 0301&gt;</span>
<span class="tok-n">LATIN</span> <span class="tok-n">SMALL</span> <span class="tok-n">LETTER</span> <span class="tok-n">A</span> <span class="tok-n">WITH</span> <span class="tok-n">ACUTE</span></code></pre>
</div>
</div>
<div class="paragraph">
<p><code>NFC</code> restituisce il codice numerico.<br>
<code>NFD</code> decompone il carattere nei codice numerici che lo compongono.<br>
<code>uniname</code> ritorna il codice nominale in inglese.</p>
</div>
<div class="listingblock">
<div class="title">Le lettere unicode possono essere usate come identificatori:</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">my</span> <span class="tok-nv">$Δ</span> = <span class="tok-mi">1</span>;
<span class="tok-nv">$Δ</span>++;
<span class="tok-nb">say</span> <span class="tok-nv">$Δ</span>;</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Il codice unicode può essere usato nelle espressioni matematiche in Perl 6:</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">my</span> <span class="tok-nv">$var</span> = <span class="tok-mi">2</span> + <span class="tok-n">⅒</span>;
<span class="tok-nb">say</span> <span class="tok-nv">$var</span>;</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_parallelismo_concorrenza_ed_asyncronismo">14. Parallelismo, concorrenza ed asyncronismo</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_parallelismo">14.1. Parallelismo</h3>
<div class="paragraph">
<p>In circostanze nomali, tutti i compiti di un programma girano in sequenza.<br>
Questo potrebbe non essere un problema, a meno che tu non stia tentando di perdere molto tempo.</p>
</div>
<div class="paragraph">
<p>Fortunatamente, Perl 6 fornisce funzionalità che permettono di far girare codice in parallelo.<br>
A questo punto, è importante notare che il parallelismo significa due cose:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>parallelismo dei task</strong>: due o più espressioni indipendenti girano in parallelo.</p>
</li>
<li>
<p><strong>parallelismo dei dati</strong>: uns singola espressione che si applica su una lista di elementi in parallelo.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Iniziamo da quest ultimo caso.</p>
</div>
<div class="sect3">
<h4 id="_parallelismo_dei_dati">14.1.1. Parallelismo dei dati</h4>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">my</span> <span class="tok-nv">@array</span> = (<span class="tok-mi">0</span><span class="tok-o">..</span><span class="tok-mi">50000</span>);                     <span class="tok-c1"># inizializzazione dell&#39;array</span>
<span class="tok-k">my</span> <span class="tok-nv">@risultato</span> = <span class="tok-nv">@array</span>.<span class="tok-nb">map</span>({ <span class="tok-n">is-prime</span> <span class="tok-nv">$_</span> });   <span class="tok-c1"># invoca is-prime per ogni elemento dell&#39;array</span>
<span class="tok-nb">say</span> <span class="tok-n">now</span> - <span class="tok-k">INIT</span> <span class="tok-n">now</span>;                         <span class="tok-c1"># stampa il tempo impiegato per completare</span></code></pre>
</div>
</div>
<div class="paragraph">
<div class="title">Considerando l&#8217;esempio qui sopra:</div>
<p>Stiamo facendo solo una operazione <code>@array.map({ is-prime $_ })</code><br>
La funzione <code>is-prime</code> viene invocata per ogni elemento dell&#8217;array alla volta:<br>
<code>is-prime @array[0]</code> poi <code>is-prime @array[1]</code> poi <code>is-prime @array[2]</code> ecc.</p>
</div>
<div class="listingblock">
<div class="title">Per fortuna possiamo invocare <code>is-prime</code> su elementi multipli contemporaneamente:</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">my</span> <span class="tok-nv">@array</span> = (<span class="tok-mi">0</span><span class="tok-o">..</span><span class="tok-mi">50000</span>);                         <span class="tok-c1"># inizializzazione dell&#39;array</span>
<span class="tok-k">my</span> <span class="tok-nv">@risultato</span> = <span class="tok-nv">@array</span>.<span class="tok-n">race</span>.<span class="tok-nb">map</span>({ <span class="tok-n">is-prime</span> <span class="tok-nv">$_</span> });  <span class="tok-c1"># invoca is-prime per ogni elemento dell&#39;array</span>
<span class="tok-nb">say</span> <span class="tok-n">now</span> - <span class="tok-k">INIT</span> <span class="tok-n">now</span>;                             <span class="tok-c1"># stampa il tempo impiegato per completare</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Vedi che qui abbiamo introdotto <code>race</code> nell&#8217;espressione.
Questo metodo abilita l&#8217;iterazione parallela sugli elementi dell&#8217;array.</p>
</div>
<div class="paragraph">
<p>Dopo aver fatto girare entrambi gli esempi (con e senza <code>race</code>), confrontiamo il tempo speso.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
<div class="paragraph">
<p><code>race</code> non conserva l&#8217;ordine degli elementi. Se vuoi conservarlo devi usare <code>hyper</code>.</p>
</div>
<div class="listingblock">
<div class="title">race</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">my</span> <span class="tok-nv">@array</span> = (<span class="tok-mi">1</span><span class="tok-o">..</span><span class="tok-mi">1000</span>);
<span class="tok-k">my</span> <span class="tok-nv">@risultato</span> = <span class="tok-nv">@array</span>.<span class="tok-n">race</span>.<span class="tok-nb">map</span>( {<span class="tok-nv">$_</span> + <span class="tok-mi">1</span>} );
.<span class="tok-nb">say</span> <span class="tok-k">for</span> <span class="tok-nv">@risultato</span>;</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">hyper</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">my</span> <span class="tok-nv">@array</span> = (<span class="tok-mi">1</span><span class="tok-o">..</span><span class="tok-mi">1000</span>);
<span class="tok-k">my</span> <span class="tok-nv">@risultato</span> = <span class="tok-nv">@array</span>.<span class="tok-nb">hyper</span>.<span class="tok-nb">map</span>( {<span class="tok-nv">$_</span> + <span class="tok-mi">1</span>} );
.<span class="tok-nb">say</span> <span class="tok-k">for</span> <span class="tok-nv">@risultato</span>;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Se fai girare entrambi questi esempi, dovresti notare ch ein uno gli elementi sono ordinati, nell&#8217;altro no.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="_parallelismo_delle_operazioni">14.1.2. Parallelismo delle operazioni</h4>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">my</span> <span class="tok-nv">@array1</span> = (<span class="tok-mi">0</span><span class="tok-o">..</span><span class="tok-mi">49999</span>);
<span class="tok-k">my</span> <span class="tok-nv">@array2</span> = (<span class="tok-mi">2</span><span class="tok-o">..</span><span class="tok-mi">50001</span>);

<span class="tok-k">my</span> <span class="tok-nv">@risultato1</span> = <span class="tok-nv">@array1</span>.<span class="tok-nb">map</span>( {<span class="tok-n">is-prime</span>(<span class="tok-nv">$_</span> + <span class="tok-mi">1</span>)} );
<span class="tok-k">my</span> <span class="tok-nv">@risultato2</span> = <span class="tok-nv">@array2</span>.<span class="tok-nb">map</span>( {<span class="tok-n">is-prime</span>(<span class="tok-nv">$_</span> - <span class="tok-mi">1</span>)} );

<span class="tok-nb">say</span> <span class="tok-nv">@risultato1</span> <span class="tok-o">eqv</span> <span class="tok-nv">@risultato2</span>;

<span class="tok-nb">say</span> <span class="tok-n">now</span> - <span class="tok-k">INIT</span> <span class="tok-n">now</span>;</code></pre>
</div>
</div>
<div class="olist arabic">
<div class="title">Consideriamo l&#8217;esempio qui sopra:</div>
<ol class="arabic">
<li>
<p>abbiamo definito due array</p>
</li>
<li>
<p>abbiamo applicato operazioni diverse su ognuno degli array ed abbiamo memorizzato il risultato</p>
</li>
<li>
<p>infine abbiamo controllato che entrambi i risultati siano identici</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Lo script aspetta che <code>@array1.map( {is-prime($_ + 1)} )</code> finisca<br>
e poi valuta <code>@array2.map( {is-prime($_ - 1)} )</code></p>
</div>
<div class="paragraph">
<p>Entrambe le operazioni applicate a ciascun array non dipendono l&#8217;una dall&#8217;altra.</p>
</div>
<div class="listingblock">
<div class="title">Perchè quindi non farle girare il parallelo?</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">my</span> <span class="tok-nv">@array1</span> = (<span class="tok-mi">0</span><span class="tok-o">..</span><span class="tok-mi">49999</span>);
<span class="tok-k">my</span> <span class="tok-nv">@array2</span> = (<span class="tok-mi">2</span><span class="tok-o">..</span><span class="tok-mi">50001</span>);

<span class="tok-k">my</span> <span class="tok-nv">$promessa1</span> = <span class="tok-n">start</span> <span class="tok-nv">@array1</span>.<span class="tok-nb">map</span>( {<span class="tok-n">is-prime</span>(<span class="tok-nv">$_</span> + <span class="tok-mi">1</span>)} ).<span class="tok-nb">eager</span>;
<span class="tok-k">my</span> <span class="tok-nv">$promessa2</span> = <span class="tok-n">start</span> <span class="tok-nv">@array2</span>.<span class="tok-nb">map</span>( {<span class="tok-n">is-prime</span>(<span class="tok-nv">$_</span> - <span class="tok-mi">1</span>)} ).<span class="tok-nb">eager</span>;

<span class="tok-k">my</span> <span class="tok-nv">@risultato1</span> = <span class="tok-n">await</span> <span class="tok-nv">$promessa1</span>;
<span class="tok-k">my</span> <span class="tok-nv">@risultato2</span> = <span class="tok-n">await</span> <span class="tok-nv">$promessa2</span>;

<span class="tok-nb">say</span> <span class="tok-nv">@risultato1</span> <span class="tok-o">eqv</span> <span class="tok-nv">@risultato2</span>;

<span class="tok-nb">say</span> <span class="tok-n">now</span> - <span class="tok-k">INIT</span> <span class="tok-n">now</span>;</code></pre>
</div>
</div>
<div class="paragraph">
<div class="title">Spiegazione</div>
<p>La funzione <code>start</code> valuta il codice e restutisce <strong>un oggetto di tipo promessa</strong> or brevemente <strong>una promessa</strong>.<br>
Se il codice è valutato correttamente la <em>promessa</em> sarà <strong>mantenuta</strong>.<br>
Se il codice scatena una eccezione, la <em>promessa</em> sarà <strong>spezzata</strong>.</p>
</div>
<div class="paragraph">
<p>la funzione <code>await</code> aspetta la <strong>promessa</strong>.<br>
Se essa sarà <strong>mantenuta</strong> allora fornirà il valore di ritorno.<br>
Se sarà <strong>spezzata</strong> allora fornirà l&#8217;eccezione scatenata.</p>
</div>
<div class="paragraph">
<p>Controlla il tempo impiegato da ciascuno script per completarsi</p>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
il parallelismo aggiunge sempre un carico sul thread. Se questo sovraccarico non è compensato dai guadagni dovuti alla velocità di computazione, lo script sarà più lento.<br>
Questa è  la ragione per cui, usando <code>race</code>, <code>hyper</code>, <code>start</code> e <code>await</code> per script brevi e semplici si possono ottenere tempi di esecuzione peggiori.
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_concorrenza_ed_asincronismo">14.2. Concorrenza ed asincronismo</h3>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Per avere più informazioni su programmazone concorrente ed asincronismo vedi qui <a href="https://docs.perl6.org/language/concurrency" class="bare">https://docs.perl6.org/language/concurrency</a>
</td>
</tr>
</table>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_interfaccia_chiamante_nativa">15. Interfaccia chiamante nativa</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Perl 6 fornisce la possibilità di usare le librerie C tramite l&#8217;interfaccia chiamante nativa.</p>
</div>
<div class="paragraph">
<p><code>NativeCall</code> è un modulo standard che è rilasciato con Perl 6 ed offre un insieme di funzionalità che facilitano il lavoro di interfacciare Perl 6 e C.</p>
</div>
<div class="sect2">
<h3 id="_chiamata_a_funzione">15.1. Chiamata a funzione</h3>
<div class="paragraph">
<p>Considera il codice C sottostante: esso definisce una funzione chiamata <code>hellofromc</code>.
Questa funzione stampa sul terminale la stringa <code>Hello from C</code>. Essa non accetta alcun argomento e non restituisce alcun valore.</p>
</div>
<div class="listingblock">
<div class="title">ncitest.c</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="c"><span></span><span class="tok-cp">#include</span> <span class="tok-cpf">&lt;stdio.h&gt;</span><span class="tok-cp"></span>

<span class="tok-kt">void</span> <span class="tok-nf">hellofromc</span> <span class="tok-p">()</span> <span class="tok-p">{</span>
  <span class="tok-n">printf</span><span class="tok-p">(</span><span class="tok-s">&quot;Hello from C</span><span class="tok-se">\n</span><span class="tok-s">&quot;</span><span class="tok-p">);</span>
<span class="tok-p">}</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Dipendendemente dal tuo sistema operativo i seguenti comandi servono per compilare tale codice C all&#8217;interno di una libreria.</p>
</div>
<div class="listingblock">
<div class="title">Su Linux:</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-n">gcc</span> -<span class="tok-n">c</span> -<span class="tok-n">fpic</span> <span class="tok-n">ncitest</span>.<span class="tok-n">c</span>
<span class="tok-n">gcc</span> -<span class="tok-n">shared</span> -<span class="tok-n">o</span> <span class="tok-n">libncitest</span>.<span class="tok-o">so</span> <span class="tok-n">ncitest</span>.<span class="tok-n">o</span></code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Su Windows:</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-n">gcc</span> -<span class="tok-n">c</span> <span class="tok-n">ncitest</span>.<span class="tok-n">c</span>
<span class="tok-n">gcc</span> -<span class="tok-n">shared</span> -<span class="tok-n">o</span> <span class="tok-n">ncitest</span>.<span class="tok-n">dll</span> <span class="tok-n">ncitest</span>.<span class="tok-n">o</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>All&#8217;interno della stessa cartello dove hai compilato la tua libreria in C, crea un nuovo file Perl 6 che contene il codice sottostante e fallo girare.</p>
</div>
<div class="listingblock">
<div class="title">ncitest.pl6</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">use</span> <span class="tok-n">NativeCall</span>;

<span class="tok-k">constant</span> <span class="tok-n">LIBPATH</span> = <span class="tok-s">&quot;$*CWD/ncitest&quot;</span>;
<span class="tok-k">sub</span> <span class="tok-n">hellofromc</span>() <span class="tok-k">is</span> <span class="tok-n">native</span>(<span class="tok-n">LIBPATH</span>) { * }

<span class="tok-n">hellofromc</span>();</code></pre>
</div>
</div>
<div class="paragraph">
<div class="title">Spiegazione:</div>
<p>Prima di tutto dichiariamo che useremo il modulo <code>NativeCall</code>.<br>
Poi creiamo una costante <code>LIBPATH</code> che contiene il percorso fino alla libreria C.<br>
Nota che <code>$*CWD</code> restituisce la cartella corrente.<br>
Poi creiamo una nuova funzione Perl 6 chiamata <code>hellofromc()</code> la quale funge da
wrapper per la sua controparte C avendo lo stesso nome e risiedendo nella libreria C che si
trova in <code>LIBPATH</code>.<br>
Tutto questo viene fatto usando  la direttiva <code>is native</code>.<br>
Alla fine invochiamo la nostra subroutine Perl 6.</p>
</div>
<div class="paragraph">
<p>Alla fine, il tutto si riduce a dichiarare una subroutine con la direttiva <code>is native</code> ed il nome della libreria C.</p>
</div>
</div>
<div class="sect2">
<h3 id="_rinominare_una_funzione">15.2. Rinominare una funzione</h3>
<div class="paragraph">
<p>Nel paragrafo qui sopra, abbiamo visto come possiamo chiamare una funzione C molto semplice
wrappandola con una subroutine Perl 6 che ha lo stesso nome, tramite la direttiva <code>is native</code>.</p>
</div>
<div class="paragraph">
<p>In alcuni casi, potremmo voler cambiare il nome della subroutine Perl 6.<br>
Per farlo usiamo la direttiva <code>is symbol</code>.</p>
</div>
<div class="paragraph">
<p>Modifichiamo allora il codice Perl 6 qui sopra e rinominiamo la subroutine come <code>hello</code>
invece di <code>hellofromc</code></p>
</div>
<div class="listingblock">
<div class="title">ncitest.pl6</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">use</span> <span class="tok-n">NativeCall</span>;

<span class="tok-k">constant</span> <span class="tok-n">LIBPATH</span> = <span class="tok-s">&quot;$*CWD/ncitest&quot;</span>;
<span class="tok-k">sub</span> <span class="tok-n">hello</span>() <span class="tok-k">is</span> <span class="tok-n">native</span>(<span class="tok-n">LIBPATH</span>) <span class="tok-k">is</span> <span class="tok-n">symbol</span>(<span class="tok-s">&#39;hellofromc&#39;</span>) { * }

<span class="tok-n">hello</span>();</code></pre>
</div>
</div>
<div class="paragraph">
<div class="title">Spiegazione:</div>
<p>Nel caso in cui la subroutine Perl 6 abbia un nome diverso dalla sua controparte C,
dovremmo usare <code>is symbol</code> con il nome della funzione C originale.</p>
</div>
</div>
<div class="sect2">
<h3 id="_passaggio_di_argomenti">15.3. Passaggio di argomenti</h3>
<div class="paragraph">
<p>Compila e fai girare la seguente libreria C nello script Perl 6 che trovi ancora più sotto.<br>
Nota come abbiamo modificato sia C che Perl 6 per accettale la stringa (<code>char*</code> in C e <code>Str</code> in Perl 6)</p>
</div>
<div class="listingblock">
<div class="title">ncitest.c</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="c"><span></span><span class="tok-cp">#include</span> <span class="tok-cpf">&lt;stdio.h&gt;</span><span class="tok-cp"></span>

<span class="tok-kt">void</span> <span class="tok-nf">hellofromc</span> <span class="tok-p">(</span><span class="tok-kt">char</span><span class="tok-o">*</span> <span class="tok-n">nome</span><span class="tok-p">)</span> <span class="tok-p">{</span>
  <span class="tok-n">printf</span><span class="tok-p">(</span><span class="tok-s">&quot;Hello, %s! This is C!</span><span class="tok-se">\n</span><span class="tok-s">&quot;</span><span class="tok-p">,</span> <span class="tok-n">nome</span><span class="tok-p">);</span>
<span class="tok-p">}</span></code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">ncitest.pl6</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">use</span> <span class="tok-n">NativeCall</span>;

<span class="tok-k">constant</span> <span class="tok-n">LIBPATH</span> = <span class="tok-s">&quot;$*CWD/ncitest&quot;</span>;
<span class="tok-k">sub</span> <span class="tok-n">hello</span>(<span class="tok-nb">Str</span>) <span class="tok-k">is</span> <span class="tok-n">native</span>(<span class="tok-n">LIBPATH</span>) <span class="tok-k">is</span> <span class="tok-n">symbol</span>(<span class="tok-s">&#39;hellofromc&#39;</span>) { * }

<span class="tok-n">hello</span>(<span class="tok-s">&#39;Gianna&#39;</span>);</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_restituire_i_valori">15.4. restituire i valori</h3>
<div class="paragraph">
<p>Ripetiamo il processo ancora una volta e creiamo un semplice calcolatore che prende due interi e li somma.<br>
Compila la libreria C e lancia lo script Perl 6.</p>
</div>
<div class="listingblock">
<div class="title">ncitest.c</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="c"><span></span><span class="tok-kt">int</span> <span class="tok-nf">add</span> <span class="tok-p">(</span><span class="tok-kt">int</span> <span class="tok-n">a</span><span class="tok-p">,</span> <span class="tok-kt">int</span> <span class="tok-n">b</span><span class="tok-p">)</span> <span class="tok-p">{</span>
  <span class="tok-k">return</span> <span class="tok-p">(</span><span class="tok-n">a</span> <span class="tok-o">+</span> <span class="tok-n">b</span><span class="tok-p">);</span>
<span class="tok-p">}</span></code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">ncitest.pl6</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">use</span> <span class="tok-n">NativeCall</span>;

<span class="tok-k">constant</span> <span class="tok-n">LIBPATH</span> = <span class="tok-s">&quot;$*CWD/ncitest&quot;</span>;
<span class="tok-k">sub</span> <span class="tok-n">add</span>(<span class="tok-nb">int32</span>,<span class="tok-nb">int32</span>) <span class="tok-k">returns</span> <span class="tok-nb">int32</span> <span class="tok-k">is</span> <span class="tok-n">native</span>(<span class="tok-n">LIBPATH</span>) { * }

<span class="tok-nb">say</span> <span class="tok-n">add</span>(<span class="tok-mi">2</span>,<span class="tok-mi">3</span>);</code></pre>
</div>
</div>
<div class="paragraph">
<p>Nota come entrambi C e Perl 6 accettino due interi e ne restituiscano uno solo.
(<code>int</code> in C e <code>int32</code> in Perl 6)</p>
</div>
</div>
<div class="sect2">
<h3 id="_tipi_2">15.5. Tipi</h3>
<div class="paragraph">
<p>Potresti chiederti perché abbiamo usato <code>int32</code> invece di <code>Int</code> nell&#8217;ultimo script.<br>
Alcuni tipi del Perl 6, come <code>Int</code>, <code>Rat</code> ecc. non possono essere usati per passare e ricevere valori dalle funzioni C.<br>
Si debbono infatti usare tipi omologhi tra i due linguaggi.</p>
</div>
<div class="paragraph">
<p>Fortunatamente Perl 6 fornisce molti tipi che si mappano perfettamente con le loro controparti in C.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-middle">C Type</th>
<th class="tableblock halign-center valign-middle">Perl 6 Type</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>char</code></p></td>
<td class="tableblock halign-center valign-middle" rowspan="2"><p class="tableblock"><code>int8</code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>int8_t</code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>short</code></p></td>
<td class="tableblock halign-center valign-middle" rowspan="2"><p class="tableblock"><code>int16</code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>int16_t</code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>int</code></p></td>
<td class="tableblock halign-center valign-middle" rowspan="2"><p class="tableblock"><code>int32</code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>int32_t</code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>int64_t</code></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>int64</code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>unsigned char</code></p></td>
<td class="tableblock halign-center valign-middle" rowspan="2"><p class="tableblock"><code>uint8</code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>uint8_t</code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>unsigned short</code></p></td>
<td class="tableblock halign-center valign-middle" rowspan="2"><p class="tableblock"><code>uint16</code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>uint16_t</code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>unsigned int</code></p></td>
<td class="tableblock halign-center valign-middle" rowspan="2"><p class="tableblock"><code>uint32</code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>uint32_t</code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>uint64_t</code></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>uint64</code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>long</code></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>long</code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>long long</code></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>longlong</code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>float</code></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>num32</code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>double</code></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>num64</code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>size_t</code></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>size_t</code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>bool</code></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>bool</code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>char*</code> (String)</p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>Str</code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock">Arrays: Per esempio <code>int*</code> (Array of int) e <code>double*</code> (Array of double)</p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>CArray</code>:Per esempio <code>CArray[int32]</code> e <code>CArray[num64]</code></p></td>
</tr>
</tbody>
</table>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Per avere più informazioni sull&#8217;interfaccia chiamante nativa vedi qui <a href="https://docs.perl6.org/language/nativecall" class="bare">https://docs.perl6.org/language/nativecall</a>
</td>
</tr>
</table>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_la_comunità">16. La comunità</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p><a href="irc://irc.freenode.net/#perl6">#perl6</a> Canale IRC. Si discute molto su IRC. Per le tue investigazioni rivolgiti a questo canale: <a href="https://perl6.org/community/irc" class="bare">https://perl6.org/community/irc</a></p>
</li>
<li>
<p><a href="https://p6weekly.wordpress.com">p6weekly</a> Panoramica settimanale dei cambiamenti intorno al mondo Perl 6.</p>
</li>
<li>
<p><a href="http://pl6anet.org">pl6anet</a> Aggregatore di blog. Resta sintonizzto su questo canale per leggere le ultime novità Perl 6.</p>
</li>
<li>
<p><a href="https://www.reddit.com/r/perl6/">/r/perl6</a> Iscriviti al subreddit su Perl 6.</p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
Last updated 2019-11-15 16:58:31 +0200
</div>
</div>
<style>
pre.pygments .hll { background-color: #ffffcc }
pre.pygments  { background: #f8f8f8; }
pre.pygments .tok-c { color: #408080; font-style: italic } /* Comment */
pre.pygments .tok-err { border: 1px solid #FF0000 } /* Error */
pre.pygments .tok-k { color: #008000; font-weight: bold } /* Keyword */
pre.pygments .tok-o { color: #666666 } /* Operator */
pre.pygments .tok-ch { color: #408080; font-style: italic } /* Comment.Hashbang */
pre.pygments .tok-cm { color: #408080; font-style: italic } /* Comment.Multiline */
pre.pygments .tok-cp { color: #BC7A00 } /* Comment.Preproc */
pre.pygments .tok-cpf { color: #408080; font-style: italic } /* Comment.PreprocFile */
pre.pygments .tok-c1 { color: #408080; font-style: italic } /* Comment.Single */
pre.pygments .tok-cs { color: #408080; font-style: italic } /* Comment.Special */
pre.pygments .tok-gd { color: #A00000 } /* Generic.Deleted */
pre.pygments .tok-ge { font-style: italic } /* Generic.Emph */
pre.pygments .tok-gr { color: #FF0000 } /* Generic.Error */
pre.pygments .tok-gh { color: #000080; font-weight: bold } /* Generic.Heading */
pre.pygments .tok-gi { color: #00A000 } /* Generic.Inserted */
pre.pygments .tok-go { color: #888888 } /* Generic.Output */
pre.pygments .tok-gp { color: #000080; font-weight: bold } /* Generic.Prompt */
pre.pygments .tok-gs { font-weight: bold } /* Generic.Strong */
pre.pygments .tok-gu { color: #800080; font-weight: bold } /* Generic.Subheading */
pre.pygments .tok-gt { color: #0044DD } /* Generic.Traceback */
pre.pygments .tok-kc { color: #008000; font-weight: bold } /* Keyword.Constant */
pre.pygments .tok-kd { color: #008000; font-weight: bold } /* Keyword.Declaration */
pre.pygments .tok-kn { color: #008000; font-weight: bold } /* Keyword.Namespace */
pre.pygments .tok-kp { color: #008000 } /* Keyword.Pseudo */
pre.pygments .tok-kr { color: #008000; font-weight: bold } /* Keyword.Reserved */
pre.pygments .tok-kt { color: #B00040 } /* Keyword.Type */
pre.pygments .tok-m { color: #666666 } /* Literal.Number */
pre.pygments .tok-s { color: #BA2121 } /* Literal.String */
pre.pygments .tok-na { color: #7D9029 } /* Name.Attribute */
pre.pygments .tok-nb { color: #008000 } /* Name.Builtin */
pre.pygments .tok-nc { color: #0000FF; font-weight: bold } /* Name.Class */
pre.pygments .tok-no { color: #880000 } /* Name.Constant */
pre.pygments .tok-nd { color: #AA22FF } /* Name.Decorator */
pre.pygments .tok-ni { color: #999999; font-weight: bold } /* Name.Entity */
pre.pygments .tok-ne { color: #D2413A; font-weight: bold } /* Name.Exception */
pre.pygments .tok-nf { color: #0000FF } /* Name.Function */
pre.pygments .tok-nl { color: #A0A000 } /* Name.Label */
pre.pygments .tok-nn { color: #0000FF; font-weight: bold } /* Name.Namespace */
pre.pygments .tok-nt { color: #008000; font-weight: bold } /* Name.Tag */
pre.pygments .tok-nv { color: #19177C } /* Name.Variable */
pre.pygments .tok-ow { color: #AA22FF; font-weight: bold } /* Operator.Word */
pre.pygments .tok-w { color: #bbbbbb } /* Text.Whitespace */
pre.pygments .tok-mb { color: #666666 } /* Literal.Number.Bin */
pre.pygments .tok-mf { color: #666666 } /* Literal.Number.Float */
pre.pygments .tok-mh { color: #666666 } /* Literal.Number.Hex */
pre.pygments .tok-mi { color: #666666 } /* Literal.Number.Integer */
pre.pygments .tok-mo { color: #666666 } /* Literal.Number.Oct */
pre.pygments .tok-sa { color: #BA2121 } /* Literal.String.Affix */
pre.pygments .tok-sb { color: #BA2121 } /* Literal.String.Backtick */
pre.pygments .tok-sc { color: #BA2121 } /* Literal.String.Char */
pre.pygments .tok-dl { color: #BA2121 } /* Literal.String.Delimiter */
pre.pygments .tok-sd { color: #BA2121; font-style: italic } /* Literal.String.Doc */
pre.pygments .tok-s2 { color: #BA2121 } /* Literal.String.Double */
pre.pygments .tok-se { color: #BB6622; font-weight: bold } /* Literal.String.Escape */
pre.pygments .tok-sh { color: #BA2121 } /* Literal.String.Heredoc */
pre.pygments .tok-si { color: #BB6688; font-weight: bold } /* Literal.String.Interpol */
pre.pygments .tok-sx { color: #008000 } /* Literal.String.Other */
pre.pygments .tok-sr { color: #BB6688 } /* Literal.String.Regex */
pre.pygments .tok-s1 { color: #BA2121 } /* Literal.String.Single */
pre.pygments .tok-ss { color: #19177C } /* Literal.String.Symbol */
pre.pygments .tok-bp { color: #008000 } /* Name.Builtin.Pseudo */
pre.pygments .tok-fm { color: #0000FF } /* Name.Function.Magic */
pre.pygments .tok-vc { color: #19177C } /* Name.Variable.Class */
pre.pygments .tok-vg { color: #19177C } /* Name.Variable.Global */
pre.pygments .tok-vi { color: #19177C } /* Name.Variable.Instance */
pre.pygments .tok-vm { color: #19177C } /* Name.Variable.Magic */
pre.pygments .tok-il { color: #666666 } /* Literal.Number.Integer.Long */
</style>
</body>
</html>