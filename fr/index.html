<!DOCTYPE html>
<html lang="fr">
<head>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-70405289-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-70405289-1');
</script>
<link rel="shortcut icon" type="image/x-icon" href="../favicon.ico">

<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 2.0.10">
<meta name="description" content="Une introduction générale à Raku">
<meta name="keywords" content="perl6, Raku, introduction, rakuguide, Raku introduction, Introduction à Raku">
<meta name="author" content="Naoum Hankache, Romuald Nuguet">
<title>Introduction à Raku</title>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700">
<style>
/* Asciidoctor default stylesheet | MIT License | https://asciidoctor.org */
/* Uncomment @import statement to use as custom stylesheet */
/*@import "https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700";*/
article,aside,details,figcaption,figure,footer,header,hgroup,main,nav,section{display:block}
audio,video{display:inline-block}
audio:not([controls]){display:none;height:0}
html{font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}
a{background:none}
a:focus{outline:thin dotted}
a:active,a:hover{outline:0}
h1{font-size:2em;margin:.67em 0}
abbr[title]{border-bottom:1px dotted}
b,strong{font-weight:bold}
dfn{font-style:italic}
hr{-moz-box-sizing:content-box;box-sizing:content-box;height:0}
mark{background:#ff0;color:#000}
code,kbd,pre,samp{font-family:monospace;font-size:1em}
pre{white-space:pre-wrap}
q{quotes:"\201C" "\201D" "\2018" "\2019"}
small{font-size:80%}
sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}
sup{top:-.5em}
sub{bottom:-.25em}
img{border:0}
svg:not(:root){overflow:hidden}
figure{margin:0}
fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}
legend{border:0;padding:0}
button,input,select,textarea{font-family:inherit;font-size:100%;margin:0}
button,input{line-height:normal}
button,select{text-transform:none}
button,html input[type="button"],input[type="reset"],input[type="submit"]{-webkit-appearance:button;cursor:pointer}
button[disabled],html input[disabled]{cursor:default}
input[type="checkbox"],input[type="radio"]{box-sizing:border-box;padding:0}
button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}
textarea{overflow:auto;vertical-align:top}
table{border-collapse:collapse;border-spacing:0}
*,*::before,*::after{-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box}
html,body{font-size:100%}
body{background:#fff;color:rgba(0,0,0,.8);padding:0;margin:0;font-family:"Noto Serif","DejaVu Serif",serif;font-weight:400;font-style:normal;line-height:1;position:relative;cursor:auto;tab-size:4;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased}
a:hover{cursor:pointer}
img,object,embed{max-width:100%;height:auto}
object,embed{height:100%}
img{-ms-interpolation-mode:bicubic}
.left{float:left!important}
.right{float:right!important}
.text-left{text-align:left!important}
.text-right{text-align:right!important}
.text-center{text-align:center!important}
.text-justify{text-align:justify!important}
.hide{display:none}
img,object,svg{display:inline-block;vertical-align:middle}
textarea{height:auto;min-height:50px}
select{width:100%}
.center{margin-left:auto;margin-right:auto}
.stretch{width:100%}
.subheader,.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{line-height:1.45;color:#7a2518;font-weight:400;margin-top:0;margin-bottom:.25em}
div,dl,dt,dd,ul,ol,li,h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6,pre,form,p,blockquote,th,td{margin:0;padding:0;direction:ltr}
a{color:#2156a5;text-decoration:underline;line-height:inherit}
a:hover,a:focus{color:#1d4b8f}
a img{border:0}
p{font-family:inherit;font-weight:400;font-size:1em;line-height:1.6;margin-bottom:1.25em;text-rendering:optimizeLegibility}
p aside{font-size:.875em;line-height:1.35;font-style:italic}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{font-family:"Open Sans","DejaVu Sans",sans-serif;font-weight:300;font-style:normal;color:#ba3925;text-rendering:optimizeLegibility;margin-top:1em;margin-bottom:.5em;line-height:1.0125em}
h1 small,h2 small,h3 small,#toctitle small,.sidebarblock>.content>.title small,h4 small,h5 small,h6 small{font-size:60%;color:#e99b8f;line-height:0}
h1{font-size:2.125em}
h2{font-size:1.6875em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.375em}
h4,h5{font-size:1.125em}
h6{font-size:1em}
hr{border:solid #dddddf;border-width:1px 0 0;clear:both;margin:1.25em 0 1.1875em;height:0}
em,i{font-style:italic;line-height:inherit}
strong,b{font-weight:bold;line-height:inherit}
small{font-size:60%;line-height:inherit}
code{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;color:rgba(0,0,0,.9)}
ul,ol,dl{font-size:1em;line-height:1.6;margin-bottom:1.25em;list-style-position:outside;font-family:inherit}
ul,ol{margin-left:1.5em}
ul li ul,ul li ol{margin-left:1.25em;margin-bottom:0;font-size:1em}
ul.square li ul,ul.circle li ul,ul.disc li ul{list-style:inherit}
ul.square{list-style-type:square}
ul.circle{list-style-type:circle}
ul.disc{list-style-type:disc}
ol li ul,ol li ol{margin-left:1.25em;margin-bottom:0}
dl dt{margin-bottom:.3125em;font-weight:bold}
dl dd{margin-bottom:1.25em}
abbr,acronym{text-transform:uppercase;font-size:90%;color:rgba(0,0,0,.8);border-bottom:1px dotted #ddd;cursor:help}
abbr{text-transform:none}
blockquote{margin:0 0 1.25em;padding:.5625em 1.25em 0 1.1875em;border-left:1px solid #ddd}
blockquote cite{display:block;font-size:.9375em;color:rgba(0,0,0,.6)}
blockquote cite::before{content:"\2014 \0020"}
blockquote cite a,blockquote cite a:visited{color:rgba(0,0,0,.6)}
blockquote,blockquote p{line-height:1.6;color:rgba(0,0,0,.85)}
@media screen and (min-width:768px){h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2}
h1{font-size:2.75em}
h2{font-size:2.3125em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.6875em}
h4{font-size:1.4375em}}
table{background:#fff;margin-bottom:1.25em;border:solid 1px #dedede}
table thead,table tfoot{background:#f7f8f7}
table thead tr th,table thead tr td,table tfoot tr th,table tfoot tr td{padding:.5em .625em .625em;font-size:inherit;color:rgba(0,0,0,.8);text-align:left}
table tr th,table tr td{padding:.5625em .625em;font-size:inherit;color:rgba(0,0,0,.8)}
table tr.even,table tr.alt{background:#f8f8f7}
table thead tr th,table tfoot tr th,table tbody tr td,table tr td,table tfoot tr td{display:table-cell;line-height:1.6}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2;word-spacing:-.05em}
h1 strong,h2 strong,h3 strong,#toctitle strong,.sidebarblock>.content>.title strong,h4 strong,h5 strong,h6 strong{font-weight:400}
.clearfix::before,.clearfix::after,.float-group::before,.float-group::after{content:" ";display:table}
.clearfix::after,.float-group::after{clear:both}
:not(pre):not([class^=L])>code{font-size:.9375em;font-style:normal!important;letter-spacing:0;padding:.1em .5ex;word-spacing:-.15em;background:#f7f7f8;-webkit-border-radius:4px;border-radius:4px;line-height:1.45;text-rendering:optimizeSpeed;word-wrap:break-word}
:not(pre)>code.nobreak{word-wrap:normal}
:not(pre)>code.nowrap{white-space:nowrap}
pre{color:rgba(0,0,0,.9);font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;line-height:1.45;text-rendering:optimizeSpeed}
pre code,pre pre{color:inherit;font-size:inherit;line-height:inherit}
pre>code{display:block}
pre.nowrap,pre.nowrap pre{white-space:pre;word-wrap:normal}
em em{font-style:normal}
strong strong{font-weight:400}
.keyseq{color:rgba(51,51,51,.8)}
kbd{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;display:inline-block;color:rgba(0,0,0,.8);font-size:.65em;line-height:1.45;background:#f7f7f7;border:1px solid #ccc;-webkit-border-radius:3px;border-radius:3px;-webkit-box-shadow:0 1px 0 rgba(0,0,0,.2),0 0 0 .1em white inset;box-shadow:0 1px 0 rgba(0,0,0,.2),0 0 0 .1em #fff inset;margin:0 .15em;padding:.2em .5em;vertical-align:middle;position:relative;top:-.1em;white-space:nowrap}
.keyseq kbd:first-child{margin-left:0}
.keyseq kbd:last-child{margin-right:0}
.menuseq,.menuref{color:#000}
.menuseq b:not(.caret),.menuref{font-weight:inherit}
.menuseq{word-spacing:-.02em}
.menuseq b.caret{font-size:1.25em;line-height:.8}
.menuseq i.caret{font-weight:bold;text-align:center;width:.45em}
b.button::before,b.button::after{position:relative;top:-1px;font-weight:400}
b.button::before{content:"[";padding:0 3px 0 2px}
b.button::after{content:"]";padding:0 2px 0 3px}
p a>code:hover{color:rgba(0,0,0,.9)}
#header,#content,#footnotes,#footer{width:100%;margin-left:auto;margin-right:auto;margin-top:0;margin-bottom:0;max-width:62.5em;*zoom:1;position:relative;padding-left:.9375em;padding-right:.9375em}
#header::before,#header::after,#content::before,#content::after,#footnotes::before,#footnotes::after,#footer::before,#footer::after{content:" ";display:table}
#header::after,#content::after,#footnotes::after,#footer::after{clear:both}
#content{margin-top:1.25em}
#content::before{content:none}
#header>h1:first-child{color:rgba(0,0,0,.85);margin-top:2.25rem;margin-bottom:0}
#header>h1:first-child+#toc{margin-top:8px;border-top:1px solid #dddddf}
#header>h1:only-child,body.toc2 #header>h1:nth-last-child(2){border-bottom:1px solid #dddddf;padding-bottom:8px}
#header .details{border-bottom:1px solid #dddddf;line-height:1.45;padding-top:.25em;padding-bottom:.25em;padding-left:.25em;color:rgba(0,0,0,.6);display:-ms-flexbox;display:-webkit-flex;display:flex;-ms-flex-flow:row wrap;-webkit-flex-flow:row wrap;flex-flow:row wrap}
#header .details span:first-child{margin-left:-.125em}
#header .details span.email a{color:rgba(0,0,0,.85)}
#header .details br{display:none}
#header .details br+span::before{content:"\00a0\2013\00a0"}
#header .details br+span.author::before{content:"\00a0\22c5\00a0";color:rgba(0,0,0,.85)}
#header .details br+span#revremark::before{content:"\00a0|\00a0"}
#header #revnumber{text-transform:capitalize}
#header #revnumber::after{content:"\00a0"}
#content>h1:first-child:not([class]){color:rgba(0,0,0,.85);border-bottom:1px solid #dddddf;padding-bottom:8px;margin-top:0;padding-top:1rem;margin-bottom:1.25rem}
#toc{border-bottom:1px solid #e7e7e9;padding-bottom:.5em}
#toc>ul{margin-left:.125em}
#toc ul.sectlevel0>li>a{font-style:italic}
#toc ul.sectlevel0 ul.sectlevel1{margin:.5em 0}
#toc ul{font-family:"Open Sans","DejaVu Sans",sans-serif;list-style-type:none}
#toc li{line-height:1.3334;margin-top:.3334em}
#toc a{text-decoration:none}
#toc a:active{text-decoration:underline}
#toctitle{color:#7a2518;font-size:1.2em}
@media screen and (min-width:768px){#toctitle{font-size:1.375em}
body.toc2{padding-left:15em;padding-right:0}
#toc.toc2{margin-top:0!important;background:#f8f8f7;position:fixed;width:15em;left:0;top:0;border-right:1px solid #e7e7e9;border-top-width:0!important;border-bottom-width:0!important;z-index:1000;padding:1.25em 1em;height:100%;overflow:auto}
#toc.toc2 #toctitle{margin-top:0;margin-bottom:.8rem;font-size:1.2em}
#toc.toc2>ul{font-size:.9em;margin-bottom:0}
#toc.toc2 ul ul{margin-left:0;padding-left:1em}
#toc.toc2 ul.sectlevel0 ul.sectlevel1{padding-left:0;margin-top:.5em;margin-bottom:.5em}
body.toc2.toc-right{padding-left:0;padding-right:15em}
body.toc2.toc-right #toc.toc2{border-right-width:0;border-left:1px solid #e7e7e9;left:auto;right:0}}
@media screen and (min-width:1280px){body.toc2{padding-left:20em;padding-right:0}
#toc.toc2{width:20em}
#toc.toc2 #toctitle{font-size:1.375em}
#toc.toc2>ul{font-size:.95em}
#toc.toc2 ul ul{padding-left:1.25em}
body.toc2.toc-right{padding-left:0;padding-right:20em}}
#content #toc{border-style:solid;border-width:1px;border-color:#e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;-webkit-border-radius:4px;border-radius:4px}
#content #toc>:first-child{margin-top:0}
#content #toc>:last-child{margin-bottom:0}
#footer{max-width:100%;background:rgba(0,0,0,.8);padding:1.25em}
#footer-text{color:rgba(255,255,255,.8);line-height:1.44}
#content{margin-bottom:.625em}
.sect1{padding-bottom:.625em}
@media screen and (min-width:768px){#content{margin-bottom:1.25em}
.sect1{padding-bottom:1.25em}}
.sect1:last-child{padding-bottom:0}
.sect1+.sect1{border-top:1px solid #e7e7e9}
#content h1>a.anchor,h2>a.anchor,h3>a.anchor,#toctitle>a.anchor,.sidebarblock>.content>.title>a.anchor,h4>a.anchor,h5>a.anchor,h6>a.anchor{position:absolute;z-index:1001;width:1.5ex;margin-left:-1.5ex;display:block;text-decoration:none!important;visibility:hidden;text-align:center;font-weight:400}
#content h1>a.anchor::before,h2>a.anchor::before,h3>a.anchor::before,#toctitle>a.anchor::before,.sidebarblock>.content>.title>a.anchor::before,h4>a.anchor::before,h5>a.anchor::before,h6>a.anchor::before{content:"\00A7";font-size:.85em;display:block;padding-top:.1em}
#content h1:hover>a.anchor,#content h1>a.anchor:hover,h2:hover>a.anchor,h2>a.anchor:hover,h3:hover>a.anchor,#toctitle:hover>a.anchor,.sidebarblock>.content>.title:hover>a.anchor,h3>a.anchor:hover,#toctitle>a.anchor:hover,.sidebarblock>.content>.title>a.anchor:hover,h4:hover>a.anchor,h4>a.anchor:hover,h5:hover>a.anchor,h5>a.anchor:hover,h6:hover>a.anchor,h6>a.anchor:hover{visibility:visible}
#content h1>a.link,h2>a.link,h3>a.link,#toctitle>a.link,.sidebarblock>.content>.title>a.link,h4>a.link,h5>a.link,h6>a.link{color:#ba3925;text-decoration:none}
#content h1>a.link:hover,h2>a.link:hover,h3>a.link:hover,#toctitle>a.link:hover,.sidebarblock>.content>.title>a.link:hover,h4>a.link:hover,h5>a.link:hover,h6>a.link:hover{color:#a53221}
details,.audioblock,.imageblock,.literalblock,.listingblock,.stemblock,.videoblock{margin-bottom:1.25em}
details>summary:first-of-type{cursor:pointer;display:list-item;outline:none;margin-bottom:.75em}
.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{text-rendering:optimizeLegibility;text-align:left;font-family:"Noto Serif","DejaVu Serif",serif;font-size:1rem;font-style:italic}
table.tableblock.fit-content>caption.title{white-space:nowrap;width:0}
.paragraph.lead>p,#preamble>.sectionbody>[class="paragraph"]:first-of-type p{font-size:1.21875em;line-height:1.6;color:rgba(0,0,0,.85)}
table.tableblock #preamble>.sectionbody>[class="paragraph"]:first-of-type p{font-size:inherit}
.admonitionblock>table{border-collapse:separate;border:0;background:none;width:100%}
.admonitionblock>table td.icon{text-align:center;width:80px}
.admonitionblock>table td.icon img{max-width:none}
.admonitionblock>table td.icon .title{font-weight:bold;font-family:"Open Sans","DejaVu Sans",sans-serif;text-transform:uppercase}
.admonitionblock>table td.content{padding-left:1.125em;padding-right:1.25em;border-left:1px solid #dddddf;color:rgba(0,0,0,.6)}
.admonitionblock>table td.content>:last-child>:last-child{margin-bottom:0}
.exampleblock>.content{border-style:solid;border-width:1px;border-color:#e6e6e6;margin-bottom:1.25em;padding:1.25em;background:#fff;-webkit-border-radius:4px;border-radius:4px}
.exampleblock>.content>:first-child{margin-top:0}
.exampleblock>.content>:last-child{margin-bottom:0}
.sidebarblock{border-style:solid;border-width:1px;border-color:#dbdbd6;margin-bottom:1.25em;padding:1.25em;background:#f3f3f2;-webkit-border-radius:4px;border-radius:4px}
.sidebarblock>:first-child{margin-top:0}
.sidebarblock>:last-child{margin-bottom:0}
.sidebarblock>.content>.title{color:#7a2518;margin-top:0;text-align:center}
.exampleblock>.content>:last-child>:last-child,.exampleblock>.content .olist>ol>li:last-child>:last-child,.exampleblock>.content .ulist>ul>li:last-child>:last-child,.exampleblock>.content .qlist>ol>li:last-child>:last-child,.sidebarblock>.content>:last-child>:last-child,.sidebarblock>.content .olist>ol>li:last-child>:last-child,.sidebarblock>.content .ulist>ul>li:last-child>:last-child,.sidebarblock>.content .qlist>ol>li:last-child>:last-child{margin-bottom:0}
.literalblock pre,.listingblock>.content>pre{-webkit-border-radius:4px;border-radius:4px;word-wrap:break-word;overflow-x:auto;padding:1em;font-size:.8125em}
@media screen and (min-width:768px){.literalblock pre,.listingblock>.content>pre{font-size:.90625em}}
@media screen and (min-width:1280px){.literalblock pre,.listingblock>.content>pre{font-size:1em}}
.literalblock pre,.listingblock>.content>pre:not(.highlight),.listingblock>.content>pre[class="highlight"],.listingblock>.content>pre[class^="highlight "]{background:#f7f7f8}
.literalblock.output pre{color:#f7f7f8;background:rgba(0,0,0,.9)}
.listingblock>.content{position:relative}
.listingblock code[data-lang]::before{display:none;content:attr(data-lang);position:absolute;font-size:.75em;top:.425rem;right:.5rem;line-height:1;text-transform:uppercase;color:inherit;opacity:.5}
.listingblock:hover code[data-lang]::before{display:block}
.listingblock.terminal pre .command::before{content:attr(data-prompt);padding-right:.5em;color:inherit;opacity:.5}
.listingblock.terminal pre .command:not([data-prompt])::before{content:"$"}
.listingblock pre.highlightjs{padding:0}
.listingblock pre.highlightjs>code{padding:1em;-webkit-border-radius:4px;border-radius:4px}
.listingblock pre.prettyprint{border-width:0}
.prettyprint{background:#f7f7f8}
pre.prettyprint .linenums{line-height:1.45;margin-left:2em}
pre.prettyprint li{background:none;list-style-type:inherit;padding-left:0}
pre.prettyprint li code[data-lang]::before{opacity:1}
pre.prettyprint li:not(:first-child) code[data-lang]::before{display:none}
table.linenotable{border-collapse:separate;border:0;margin-bottom:0;background:none}
table.linenotable td[class]{color:inherit;vertical-align:top;padding:0;line-height:inherit;white-space:normal}
table.linenotable td.code{padding-left:.75em}
table.linenotable td.linenos{border-right:1px solid currentColor;opacity:.35;padding-right:.5em}
pre.pygments .lineno{border-right:1px solid currentColor;opacity:.35;display:inline-block;margin-right:.75em}
pre.pygments .lineno::before{content:"";margin-right:-.125em}
.quoteblock{margin:0 1em 1.25em 1.5em;display:table}
.quoteblock:not(.excerpt)>.title{margin-left:-1.5em;margin-bottom:.75em}
.quoteblock blockquote,.quoteblock p{color:rgba(0,0,0,.85);font-size:1.15rem;line-height:1.75;word-spacing:.1em;letter-spacing:0;font-style:italic;text-align:justify}
.quoteblock blockquote{margin:0;padding:0;border:0}
.quoteblock blockquote::before{content:"\201c";float:left;font-size:2.75em;font-weight:bold;line-height:.6em;margin-left:-.6em;color:#7a2518;text-shadow:0 1px 2px rgba(0,0,0,.1)}
.quoteblock blockquote>.paragraph:last-child p{margin-bottom:0}
.quoteblock .attribution{margin-top:.75em;margin-right:.5ex;text-align:right}
.verseblock{margin:0 1em 1.25em}
.verseblock pre{font-family:"Open Sans","DejaVu Sans",sans;font-size:1.15rem;color:rgba(0,0,0,.85);font-weight:300;text-rendering:optimizeLegibility}
.verseblock pre strong{font-weight:400}
.verseblock .attribution{margin-top:1.25rem;margin-left:.5ex}
.quoteblock .attribution,.verseblock .attribution{font-size:.9375em;line-height:1.45;font-style:italic}
.quoteblock .attribution br,.verseblock .attribution br{display:none}
.quoteblock .attribution cite,.verseblock .attribution cite{display:block;letter-spacing:-.025em;color:rgba(0,0,0,.6)}
.quoteblock.abstract blockquote::before,.quoteblock.excerpt blockquote::before,.quoteblock .quoteblock blockquote::before{display:none}
.quoteblock.abstract blockquote,.quoteblock.abstract p,.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{line-height:1.6;word-spacing:0}
.quoteblock.abstract{margin:0 1em 1.25em;display:block}
.quoteblock.abstract>.title{margin:0 0 .375em;font-size:1.15em;text-align:center}
.quoteblock.excerpt>blockquote,.quoteblock .quoteblock{padding:0 0 .25em 1em;border-left:.25em solid #dddddf}
.quoteblock.excerpt,.quoteblock .quoteblock{margin-left:0}
.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{color:inherit;font-size:1.0625rem}
.quoteblock.excerpt .attribution,.quoteblock .quoteblock .attribution{color:inherit;text-align:left;margin-right:0}
table.tableblock{max-width:100%;border-collapse:separate}
p.tableblock:last-child{margin-bottom:0}
td.tableblock>.content>:last-child{margin-bottom:-1.25em}
td.tableblock>.content>:last-child.sidebarblock{margin-bottom:0}
table.tableblock,th.tableblock,td.tableblock{border:0 solid #dedede}
table.grid-all>thead>tr>.tableblock,table.grid-all>tbody>tr>.tableblock{border-width:0 1px 1px 0}
table.grid-all>tfoot>tr>.tableblock{border-width:1px 1px 0 0}
table.grid-cols>*>tr>.tableblock{border-width:0 1px 0 0}
table.grid-rows>thead>tr>.tableblock,table.grid-rows>tbody>tr>.tableblock{border-width:0 0 1px}
table.grid-rows>tfoot>tr>.tableblock{border-width:1px 0 0}
table.grid-all>*>tr>.tableblock:last-child,table.grid-cols>*>tr>.tableblock:last-child{border-right-width:0}
table.grid-all>tbody>tr:last-child>.tableblock,table.grid-all>thead:last-child>tr>.tableblock,table.grid-rows>tbody>tr:last-child>.tableblock,table.grid-rows>thead:last-child>tr>.tableblock{border-bottom-width:0}
table.frame-all{border-width:1px}
table.frame-sides{border-width:0 1px}
table.frame-topbot,table.frame-ends{border-width:1px 0}
table.stripes-all tr,table.stripes-odd tr:nth-of-type(odd),table.stripes-even tr:nth-of-type(even),table.stripes-hover tr:hover{background:#f8f8f7}
th.halign-left,td.halign-left{text-align:left}
th.halign-right,td.halign-right{text-align:right}
th.halign-center,td.halign-center{text-align:center}
th.valign-top,td.valign-top{vertical-align:top}
th.valign-bottom,td.valign-bottom{vertical-align:bottom}
th.valign-middle,td.valign-middle{vertical-align:middle}
table thead th,table tfoot th{font-weight:bold}
tbody tr th{display:table-cell;line-height:1.6;background:#f7f8f7}
tbody tr th,tbody tr th p,tfoot tr th,tfoot tr th p{color:rgba(0,0,0,.8);font-weight:bold}
p.tableblock>code:only-child{background:none;padding:0}
p.tableblock{font-size:1em}
ol{margin-left:1.75em}
ul li ol{margin-left:1.5em}
dl dd{margin-left:1.125em}
dl dd:last-child,dl dd:last-child>:last-child{margin-bottom:0}
ol>li p,ul>li p,ul dd,ol dd,.olist .olist,.ulist .ulist,.ulist .olist,.olist .ulist{margin-bottom:.625em}
ul.checklist,ul.none,ol.none,ul.no-bullet,ol.no-bullet,ol.unnumbered,ul.unstyled,ol.unstyled{list-style-type:none}
ul.no-bullet,ol.no-bullet,ol.unnumbered{margin-left:.625em}
ul.unstyled,ol.unstyled{margin-left:0}
ul.checklist{margin-left:.625em}
ul.checklist li>p:first-child>.fa-square-o:first-child,ul.checklist li>p:first-child>.fa-check-square-o:first-child{width:1.25em;font-size:.8em;position:relative;bottom:.125em}
ul.checklist li>p:first-child>input[type="checkbox"]:first-child{margin-right:.25em}
ul.inline{display:-ms-flexbox;display:-webkit-box;display:flex;-ms-flex-flow:row wrap;-webkit-flex-flow:row wrap;flex-flow:row wrap;list-style:none;margin:0 0 .625em -1.25em}
ul.inline>li{margin-left:1.25em}
.unstyled dl dt{font-weight:400;font-style:normal}
ol.arabic{list-style-type:decimal}
ol.decimal{list-style-type:decimal-leading-zero}
ol.loweralpha{list-style-type:lower-alpha}
ol.upperalpha{list-style-type:upper-alpha}
ol.lowerroman{list-style-type:lower-roman}
ol.upperroman{list-style-type:upper-roman}
ol.lowergreek{list-style-type:lower-greek}
.hdlist>table,.colist>table{border:0;background:none}
.hdlist>table>tbody>tr,.colist>table>tbody>tr{background:none}
td.hdlist1,td.hdlist2{vertical-align:top;padding:0 .625em}
td.hdlist1{font-weight:bold;padding-bottom:1.25em}
.literalblock+.colist,.listingblock+.colist{margin-top:-.5em}
.colist td:not([class]):first-child{padding:.4em .75em 0;line-height:1;vertical-align:top}
.colist td:not([class]):first-child img{max-width:none}
.colist td:not([class]):last-child{padding:.25em 0}
.thumb,.th{line-height:0;display:inline-block;border:solid 4px #fff;-webkit-box-shadow:0 0 0 1px #ddd;box-shadow:0 0 0 1px #ddd}
.imageblock.left{margin:.25em .625em 1.25em 0}
.imageblock.right{margin:.25em 0 1.25em .625em}
.imageblock>.title{margin-bottom:0}
.imageblock.thumb,.imageblock.th{border-width:6px}
.imageblock.thumb>.title,.imageblock.th>.title{padding:0 .125em}
.image.left,.image.right{margin-top:.25em;margin-bottom:.25em;display:inline-block;line-height:0}
.image.left{margin-right:.625em}
.image.right{margin-left:.625em}
a.image{text-decoration:none;display:inline-block}
a.image object{pointer-events:none}
sup.footnote,sup.footnoteref{font-size:.875em;position:static;vertical-align:super}
sup.footnote a,sup.footnoteref a{text-decoration:none}
sup.footnote a:active,sup.footnoteref a:active{text-decoration:underline}
#footnotes{padding-top:.75em;padding-bottom:.75em;margin-bottom:.625em}
#footnotes hr{width:20%;min-width:6.25em;margin:-.25em 0 .75em;border-width:1px 0 0}
#footnotes .footnote{padding:0 .375em 0 .225em;line-height:1.3334;font-size:.875em;margin-left:1.2em;margin-bottom:.2em}
#footnotes .footnote a:first-of-type{font-weight:bold;text-decoration:none;margin-left:-1.05em}
#footnotes .footnote:last-of-type{margin-bottom:0}
#content #footnotes{margin-top:-.625em;margin-bottom:0;padding:.75em 0}
.gist .file-data>table{border:0;background:#fff;width:100%;margin-bottom:0}
.gist .file-data>table td.line-data{width:99%}
div.unbreakable{page-break-inside:avoid}
.big{font-size:larger}
.small{font-size:smaller}
.underline{text-decoration:underline}
.overline{text-decoration:overline}
.line-through{text-decoration:line-through}
.aqua{color:#00bfbf}
.aqua-background{background:#00fafa}
.black{color:#000}
.black-background{background:#000}
.blue{color:#0000bf}
.blue-background{background:#0000fa}
.fuchsia{color:#bf00bf}
.fuchsia-background{background:#fa00fa}
.gray{color:#606060}
.gray-background{background:#7d7d7d}
.green{color:#006000}
.green-background{background:#007d00}
.lime{color:#00bf00}
.lime-background{background:#00fa00}
.maroon{color:#600000}
.maroon-background{background:#7d0000}
.navy{color:#000060}
.navy-background{background:#00007d}
.olive{color:#606000}
.olive-background{background:#7d7d00}
.purple{color:#600060}
.purple-background{background:#7d007d}
.red{color:#bf0000}
.red-background{background:#fa0000}
.silver{color:#909090}
.silver-background{background:#bcbcbc}
.teal{color:#006060}
.teal-background{background:#007d7d}
.white{color:#bfbfbf}
.white-background{background:#fafafa}
.yellow{color:#bfbf00}
.yellow-background{background:#fafa00}
span.icon>.fa{cursor:default}
a span.icon>.fa{cursor:inherit}
.admonitionblock td.icon [class^="fa icon-"]{font-size:2.5em;text-shadow:1px 1px 2px rgba(0,0,0,.5);cursor:default}
.admonitionblock td.icon .icon-note::before{content:"\f05a";color:#19407c}
.admonitionblock td.icon .icon-tip::before{content:"\f0eb";text-shadow:1px 1px 2px rgba(155,155,0,.8);color:#111}
.admonitionblock td.icon .icon-warning::before{content:"\f071";color:#bf6900}
.admonitionblock td.icon .icon-caution::before{content:"\f06d";color:#bf3400}
.admonitionblock td.icon .icon-important::before{content:"\f06a";color:#bf0000}
.conum[data-value]{display:inline-block;color:#fff!important;background:rgba(0,0,0,.8);-webkit-border-radius:100px;border-radius:100px;text-align:center;font-size:.75em;width:1.67em;height:1.67em;line-height:1.67em;font-family:"Open Sans","DejaVu Sans",sans-serif;font-style:normal;font-weight:bold}
.conum[data-value] *{color:#fff!important}
.conum[data-value]+b{display:none}
.conum[data-value]::after{content:attr(data-value)}
pre .conum[data-value]{position:relative;top:-.125em}
b.conum *{color:inherit!important}
.conum:not([data-value]):empty{display:none}
dt,th.tableblock,td.content,div.footnote{text-rendering:optimizeLegibility}
h1,h2,p,td.content,span.alt{letter-spacing:-.01em}
p strong,td.content strong,div.footnote strong{letter-spacing:-.005em}
p,blockquote,dt,td.content,span.alt{font-size:1.0625rem}
p{margin-bottom:1.25rem}
.sidebarblock p,.sidebarblock dt,.sidebarblock td.content,p.tableblock{font-size:1em}
.exampleblock>.content{background:#fffef7;border-color:#e0e0dc;-webkit-box-shadow:0 1px 4px #e0e0dc;box-shadow:0 1px 4px #e0e0dc}
.print-only{display:none!important}
@page{margin:1.25cm .75cm}
@media print{*{-webkit-box-shadow:none!important;box-shadow:none!important;text-shadow:none!important}
html{font-size:80%}
a{color:inherit!important;text-decoration:underline!important}
a.bare,a[href^="#"],a[href^="mailto:"]{text-decoration:none!important}
a[href^="http:"]:not(.bare)::after,a[href^="https:"]:not(.bare)::after{content:"(" attr(href) ")";display:inline-block;font-size:.875em;padding-left:.25em}
abbr[title]::after{content:" (" attr(title) ")"}
pre,blockquote,tr,img,object,svg{page-break-inside:avoid}
thead{display:table-header-group}
svg{max-width:100%}
p,blockquote,dt,td.content{font-size:1em;orphans:3;widows:3}
h2,h3,#toctitle,.sidebarblock>.content>.title{page-break-after:avoid}
#toc,.sidebarblock,.exampleblock>.content{background:none!important}
#toc{border-bottom:1px solid #dddddf!important;padding-bottom:0!important}
body.book #header{text-align:center}
body.book #header>h1:first-child{border:0!important;margin:2.5em 0 1em}
body.book #header .details{border:0!important;display:block;padding:0!important}
body.book #header .details span:first-child{margin-left:0!important}
body.book #header .details br{display:block}
body.book #header .details br+span::before{content:none!important}
body.book #toc{border:0!important;text-align:left!important;padding:0!important;margin:0!important}
body.book #toc,body.book #preamble,body.book h1.sect0,body.book .sect1>h2{page-break-before:always}
.listingblock code[data-lang]::before{display:block}
#footer{padding:0 .9375em}
.hide-on-print{display:none!important}
.print-only{display:block!important}
.hide-for-print{display:none!important}
.show-for-print{display:inherit!important}}
@media print,amzn-kf8{#header>h1:first-child{margin-top:1.25rem}
.sect1{padding:0!important}
.sect1+.sect1{border:0}
#footer{background:none}
#footer-text{color:rgba(0,0,0,.6);font-size:.9em}}
@media amzn-kf8{#header,#content,#footnotes,#footer{padding:0}}
</style>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
</head>
<body class="article toc2 toc-left">
<div id="header">
<h1>Introduction à Raku</h1>
<div class="details">
<span id="author" class="author">Naoum Hankache</span><br>
<span id="email" class="email"><a href="mailto:naoum@hankache.com">naoum@hankache.com</a></span><br>
<span id="author2" class="author">Romuald Nuguet</span><br>
<span id="email2" class="email"><a href="mailto:kolikov@free.fr">kolikov@free.fr</a></span><br>
</div>
<div id="toc" class="toc2">
<div id="toctitle">Table des Matières</div>
<ul class="sectlevel1">
<li><a href="#_introduction">1. Introduction</a>
<ul class="sectlevel2">
<li><a href="#_raku_cest_quoi">1.1. Raku c&#8217;est quoi?</a></li>
<li><a href="#_jargon">1.2. Jargon</a></li>
<li><a href="#_installer_raku">1.3. Installer Raku</a></li>
<li><a href="#_exécuter_du_code_raku">1.4. Exécuter du code Raku</a></li>
<li><a href="#_editeurs">1.5. Editeurs</a></li>
<li><a href="#_bonjour_monde">1.6. Bonjour Monde!</a></li>
<li><a href="#_aperçu_de_la_syntaxe">1.7. Aperçu de la syntaxe</a></li>
</ul>
</li>
<li><a href="#_opérateurs">2. Opérateurs</a></li>
<li><a href="#_variables">3. Variables</a>
<ul class="sectlevel2">
<li><a href="#_scalaire">3.1. Scalaire</a></li>
<li><a href="#_tableaux">3.2. Tableaux</a></li>
<li><a href="#_hachage">3.3. Hachage</a></li>
<li><a href="#_types">3.4. Types</a></li>
<li><a href="#_introspection">3.5. Introspection</a></li>
<li><a href="#_portée">3.6. Portée</a></li>
<li><a href="#_affecter_vs_lier">3.7. Affecter vs. Lier</a></li>
</ul>
</li>
<li><a href="#_fonctions_normales_et_fonctions_mutatrices">4. Fonctions normales et fonctions mutatrices</a></li>
<li><a href="#_structures_conditionnelles_et_boucles">5. Structures conditionnelles et boucles</a>
<ul class="sectlevel2">
<li><a href="#_if">5.1. if</a></li>
<li><a href="#_unless">5.2. unless</a></li>
<li><a href="#_with">5.3. with</a></li>
<li><a href="#_for">5.4. for</a></li>
<li><a href="#_given">5.5. given</a></li>
<li><a href="#_loop">5.6. loop</a></li>
</ul>
</li>
<li><a href="#_entréessorties">6. Entrées/Sorties</a>
<ul class="sectlevel2">
<li><a href="#_es_basic_en_utilisant_le_terminal">6.1. E/S Basic en utilisant le Terminal</a></li>
<li><a href="#_exécution_de_commandes_shell">6.2. Exécution de commandes Shell</a></li>
<li><a href="#_es_fichier">6.3. E/S Fichier</a></li>
<li><a href="#_travailler_avec_les_fichiers_et_répertoires">6.4. Travailler avec les fichiers et répertoires</a></li>
</ul>
</li>
<li><a href="#_routines">7. Routines</a>
<ul class="sectlevel2">
<li><a href="#_définition">7.1. Définition</a></li>
<li><a href="#_signature">7.2. Signature</a></li>
<li><a href="#_multiroutines">7.3. Multiroutines</a></li>
<li><a href="#_arguments_optionnels_et_par_défaut">7.4. Arguments optionnels et par défaut</a></li>
</ul>
</li>
<li><a href="#_programmation_fonctionnelle">8. Programmation fonctionnelle</a>
<ul class="sectlevel2">
<li><a href="#_les_fonctions_sont_des_entités_de_première_classe">8.1. Les fonctions sont des entités de première classe</a></li>
<li><a href="#_fermeture">8.2. Fermeture</a></li>
<li><a href="#_fonctions_anonymes">8.3. Fonctions anonymes</a></li>
<li><a href="#_enchaînement">8.4. Enchaînement</a></li>
<li><a href="#_opérateur_feed">8.5. Opérateur feed</a></li>
<li><a href="#_hyperopérateur">8.6. Hyperopérateur</a></li>
<li><a href="#_jonctions">8.7. Jonctions</a></li>
<li><a href="#_listes_paresseuses">8.8. Listes paresseuses</a></li>
</ul>
</li>
<li><a href="#_classes_objets">9. Classes &amp; Objets</a>
<ul class="sectlevel2">
<li><a href="#_introduction_2">9.1. Introduction</a></li>
<li><a href="#_encapsulation">9.2. Encapsulation</a></li>
<li><a href="#_arguments_nommés_vs_positionnels">9.3. Arguments nommés vs. positionnels</a></li>
<li><a href="#_méthodes">9.4. Méthodes</a></li>
<li><a href="#_attributs_de_classe">9.5. Attributs de classe</a></li>
<li><a href="#_types_daccès">9.6. Types d&#8217;accès</a></li>
<li><a href="#_héritage">9.7. Héritage</a></li>
<li><a href="#_héritage_multiple">9.8. Héritage multiple</a></li>
<li><a href="#_rôles">9.9. Rôles</a></li>
<li><a href="#_introspection_2">9.10. Introspection</a></li>
</ul>
</li>
<li><a href="#_gestion_des_exceptions">10. Gestion des exceptions</a>
<ul class="sectlevel2">
<li><a href="#_capture_des_exceptions">10.1. Capture des Exceptions</a></li>
<li><a href="#_lancer_des_exceptions">10.2. Lancer des exceptions</a></li>
</ul>
</li>
<li><a href="#_expressions_régulières">11. Expressions régulières</a>
<ul class="sectlevel2">
<li><a href="#_définition_dune_regex">11.1. Définition d&#8217;une regex</a></li>
<li><a href="#_correspondance_par_caractères">11.2. Correspondance par caractères</a></li>
<li><a href="#_comparaison_par_catégories_de_caractères">11.3. Comparaison par catégories de caractères</a></li>
<li><a href="#_propriétés_unicode">11.4. Propriétés unicode</a></li>
<li><a href="#_métacaractères">11.5. Métacaractères</a></li>
<li><a href="#_quantificateurs">11.6. Quantificateurs</a></li>
<li><a href="#_résultats_de_correspondance">11.7. Résultats de correspondance</a></li>
<li><a href="#_exemple">11.8. Exemple</a></li>
</ul>
</li>
<li><a href="#_modules_raku">12. Modules Raku</a>
<ul class="sectlevel2">
<li><a href="#_utiliser_les_modules">12.1. Utiliser les modules</a></li>
</ul>
</li>
<li><a href="#_unicode">13. Unicode</a>
<ul class="sectlevel2">
<li><a href="#_utiliser_unicode">13.1. Utiliser Unicode</a></li>
</ul>
</li>
<li><a href="#_parallélisme_concurrence_et_asynchronisme">14. Parallélisme, Concurrence et Asynchronisme</a>
<ul class="sectlevel2">
<li><a href="#_parallélisme">14.1. Parallélisme</a></li>
<li><a href="#_concurrence_et_asynchronisme">14.2. Concurrence et Asynchronisme</a></li>
</ul>
</li>
<li><a href="#_interface_dappel_natif">15. Interface d&#8217;appel natif</a>
<ul class="sectlevel2">
<li><a href="#_appeler_une_fonction">15.1. Appeler une fonction</a></li>
<li><a href="#_renommer_une_fonction">15.2. Renommer une fonction</a></li>
<li><a href="#_passer_des_arguments">15.3. Passer des arguments</a></li>
<li><a href="#_retourner_des_valeurs">15.4. Retourner des valeurs</a></li>
<li><a href="#_types_2">15.5. Types</a></li>
</ul>
</li>
<li><a href="#_la_communauté">16. La communauté</a></li>
</ul>
</div>
</div>
<div id="content">
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>L&#8217;objectif de ce document est de vous donner un aperçu rapide du langage de programmation Raku.<br>
Pour ceux qui sont nouveaux à Raku, il devrait vous permettre de démarrer.</p>
</div>
<div class="paragraph">
<p>Certaines sections de ce document référencent d&#8217;autres parties (plus complètes et précises) de la documentation de Raku.
Vous devriez les lire si vous avez besoin de plus d&#8217;information sur un sujet précis.</p>
</div>
<div class="paragraph">
<p>En lisant ce document, vous trouverez des exemples pour la plus part des sujets discutés.
Pour mieux les comprendre, vous pouvez expérimenter en les modifiant.</p>
</div>
<div class="paragraph">
<div class="title">Licence</div>
<p>Ce document est sous licence Creative Commons Attribution -  Partage dans les Mêmes Conditions 4.0 International.
Pour accéder à une copie de cette licence, merci de vous rendre à l&#8217;adresse suivante</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="https://creativecommons.org/licenses/by-sa/4.0/" class="bare">https://creativecommons.org/licenses/by-sa/4.0/</a>.</p>
</li>
</ul>
</div>
<div class="paragraph">
<div class="title">Contribution</div>
<p>Si vous souhaitez contribuer à ce document rendez-vous à l&#8217;adresse suivante:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="https://github.com/hankache/rakuguide" class="bare">https://github.com/hankache/rakuguide</a></p>
</li>
</ul>
</div>
<div class="ulist">
<div class="title">Feedback</div>
<ul>
<li>
<p><a href="mailto:naoum@hankache.com">naoum@hankache.com</a></p>
</li>
<li>
<p><a href="mailto:kolikov@free.fr">kolikov@free.fr</a></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_introduction">1. Introduction</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_raku_cest_quoi">1.1. Raku c&#8217;est quoi?</h3>
<div class="paragraph">
<p>Raku est un langage de haut niveau, générique et dynamique.
Il supporte plusieurs paradigmes dont : la programmation procédurale, la programmation orientée objet et la programmation fonctionnelle.</p>
</div>
<div class="ulist">
<div class="title">La devise de Raku:</div>
<ul>
<li>
<p>TMTOWTDI (prononcé Tim Toady): There is more than one way to do it:
c&#8217;est-à-dire « Il y a plus d&#8217;une façon de le faire »</p>
</li>
<li>
<p>Easy things should stay easy, hard things should get easier, and impossible things should get hard:
« Les choses faciles doivent rester faciles, les choses difficiles devraient devenir plus faciles, et les choses impossibles devraient devenir difficiles »</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Un programme ou script Raku est un fichier texte qui sera compilé et exécuté par l&#8217;exécutable <code>raku</code> ou <code>perl6</code> et la machine virtuelle associée (par exemple MoarVM ou JVM).</p>
</div>
</div>
<div class="sect2">
<h3 id="_jargon">1.2. Jargon</h3>
<div class="ulist">
<ul>
<li>
<p><strong>Raku</strong>  est une spécification de langage avec une suite de tests.
Les implémentations qui passent la suite de tests sont considérées comme du Raku.</p>
</li>
<li>
<p><strong>Rakudo</strong> est un compilateur pour Raku.</p>
</li>
<li>
<p><strong>Rakudobrew</strong> est un gestionnaire d&#8217;installation pour Rakudo.</p>
</li>
<li>
<p><strong>Zef</strong> est un installeur de modules pour Raku.</p>
</li>
<li>
<p><strong>Rakudo Star</strong> est un paquet qui comprend : Rakudo, Zef, une collection de modules, et de la documentation.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_installer_raku">1.3. Installer Raku</h3>
<div class="listingblock">
<div class="title">Linux</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-n">wget</span> <span class="tok-n">https:</span>//<span class="tok-n">rakudo</span>.<span class="tok-n">org</span><span class="tok-o">/</span><span class="tok-n">downloads</span><span class="tok-o">/</span><span class="tok-n">star</span><span class="tok-o">/</span><span class="tok-n">rakudo-star-2019</span><span class="tok-mf">.03</span>.<span class="tok-n">tar</span>.<span class="tok-n">gz</span>
<span class="tok-n">tar</span> <span class="tok-n">xfz</span> <span class="tok-n">rakudo-star-2019</span><span class="tok-mf">.03</span>.<span class="tok-n">tar</span>.<span class="tok-n">gz</span>
<span class="tok-n">cd</span> <span class="tok-n">rakudo-star-2019</span><span class="tok-mf">.03</span>
<span class="tok-nb">perl</span> <span class="tok-n">Configure</span>.<span class="tok-n">pl</span> --<span class="tok-n">gen-moar</span> --<span class="tok-n">make-install</span> --<span class="tok-n">prefix</span> ~/<span class="tok-n">rakudo</span></code></pre>
</div>
</div>
<div class="paragraph">
<div class="title">macOS</div>
<p>Quatre solutions possibles :</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Suivez les mêmes étapes que celles indiquées pour l&#8217;installation sur Linux</p>
</li>
<li>
<p>Installer avec homebrew: <code>brew install rakudo-star</code></p>
</li>
<li>
<p>Installez avec MacPorts: <code>sudo port install rakudo</code></p>
</li>
<li>
<p>Téléchargez l&#8217;installateur (fichier avec l&#8217;extension .dmg) depuis <a href="https://rakudo.org/latest/star/macos" class="bare">https://rakudo.org/latest/star/macos</a></p>
</li>
</ul>
</div>
<div class="olist arabic">
<div class="title">Windows</div>
<ol class="arabic">
<li>
<p>Pour les architectures 64-bit : Téléchargez le dernier installeur (extension .msi) ici <a href="https://rakudo.org/latest/star/win64" class="bare">https://rakudo.org/latest/star/win64</a><br>
Pour les architectures 32-bit: Téléchargez le dernier installeur (extension .msi) ici <a href="https://rakudo.org/latest/star/win32" class="bare">https://rakudo.org/latest/star/win32</a></p>
</li>
<li>
<p>Après l&#8217;installation, assurez vous que <code>C:\rakudo\bin</code> soit dans votre PATH.</p>
</li>
</ol>
</div>
<div class="olist arabic">
<div class="title">Docker</div>
<ol class="arabic">
<li>
<p>Obtenez l&#8217;image officielle <code>docker pull rakudo-star</code></p>
</li>
<li>
<p>Ensuite exécutez <code>docker run -it rakudo-star</code></p>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="_exécuter_du_code_raku">1.4. Exécuter du code Raku</h3>
<div class="paragraph">
<p>On peut exécuter du code Raku en utilisant le terminal Raku interactif REPL (Read-Eval-Print Loop).<br>
Pour ce faire, ouvrez un terminal, tapez <code>raku</code> ou <code>perl6</code> dans la fenêtre de terminal et ensuite la touche [Entrée].<br>
Une invite de commande <code>&gt;</code> apparaîtra.<br>
Ensuite, tapez une ligne de code puis la touche [Entrée]. Le REPL affichera la valeur de la ligne interprétée.
Vous pouvez taper une autre ligne, ou <code>exit</code> et ensuite [Entrée] pour sortir du REPL.</p>
</div>
<div class="paragraph">
<p>L&#8217;autre façon consiste à écrire votre code dans un fichier, le sauvegarder puis l&#8217;exécuter.
Il est conseillé, pour plus de clarté, que les scripts Raku portent l&#8217;extension <code>.raku</code>.
Exécutez le fichier en entrant <code>raku</code> ou <code>perl6</code> <code>nom-du-fichier.raku</code> dans la fenêtre de terminal (puis [Entrée]).<br>
À l&#8217;inverse du REPL, le résultat ne sera pas automatiquement affiché pour chaque ligne:
 le code doit contenir une instruction comme <code>say</code> ou <code>print</code> pour afficher une sortie.</p>
</div>
<div class="paragraph">
<p>Le REPL est la plupart du temps utilisé pour essayer un morceau de code, le plus souvent une seule ligne.
Pour des programmes de plus d&#8217;une seule ligne, la méthode fichier/exécution est recommandée.</p>
</div>
<div class="paragraph">
<p>Les lignes de code unilignes peuvent aussi être entrées de façon non interactive sur la ligne de commande en tapant <code>raku -e 'mon code ici'</code> ou <code>perl6 -e 'mon code ici'</code> et ensuite [Entrée].</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Rakudo Star fournit un éditeur ligne par ligne, qui augmente les fonctionnalités du REPL.
Comme: le rappel des commandes par les flèches « haut/bas », l&#8217;édition avec les flèches « gauche/droite » et la complétion avec la touche [TAB].</p>
</div>
<div class="paragraph">
<p>Si vous avez seulement installé Rakudo au lieu de Rakudo Star, vous n&#8217;aurez probablement pas les fonctions d&#8217;édition ligne par ligne.
Lancez la commande suivante sur votre terminal pour y avoir accès:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>zef install Linenoise</code> fonctionne sur Windows, Linux and OS X</p>
</li>
<li>
<p><code>zef install Readline</code> si vous êtes sur Linux et préférez la bibliothèque <em>Readline</em></p>
</li>
</ul>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_editeurs">1.5. Editeurs</h3>
<div class="paragraph">
<p>Comme la plupart du temps, nous allons écrire et stocker nos programmes en Raku dans des fichiers,
nous devrions avoir un éditeur de texte décent qui reconnaît la syntaxe de Raku.</p>
</div>
<div class="paragraph">
<p>Un IDE spécifique à Raku dévellopé par <a href="https://edument.se/">Edument</a> est disponible ici sous le nom de <a href="https://commaide.com/">Comma)</a></p>
</div>
<div class="paragraph">
<p>D&#8217;autres personnes de la communauté utilisent aussi <a href="https://www.vim.org/">Vim</a>, <a href="https://www.gnu.org/software/emacs/">Emacs</a>, <a href="http://padre.perlide.org/">Padre</a> ou <a href="https://atom.io/">Atom</a>.</p>
</div>
<div class="paragraph">
<p>Les versions récentes de Vim sont livrées avec la coloration syntaxique pour Raku. Emacs et Padre nécessiteront l&#8217;installation de paquets supplémentaires.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
N&#8217;importe quel éditeur de texte peut être utilisé pour écrire ou lire un programme Raku.
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_bonjour_monde">1.6. Bonjour Monde!</h3>
<div class="paragraph">
<p>Nous allons commencer avec le rituel <code>hello world</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-nb">say</span> <span class="tok-s">&#39;Bonjour Monde&#39;</span>;</code></pre>
</div>
</div>
<div class="paragraph">
<p>qui peut aussi s&#8217;écrire:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-s">&#39;Bonjour Monde&#39;</span>.<span class="tok-nb">say</span>;</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_aperçu_de_la_syntaxe">1.7. Aperçu de la syntaxe</h3>
<div class="paragraph">
<p>Raku a une <strong>forme libre</strong>: vous êtes libre (la plupart du temps) d&#8217;utiliser n&#8217;importe quelle quantité d&#8217;espaces.</p>
</div>
<div class="paragraph">
<p>Les <strong>instructions</strong> sont typiquement une ligne logique de code, elles doivent se terminer par un point-virgule:<br>
<code>say "Hello" if True;</code></p>
</div>
<div class="paragraph">
<p>Les <strong>expressions</strong> sont un type spécial d&#8217;instructions qui retournent une valeur:<br>
<code>1+2</code> retourne <code>3</code></p>
</div>
<div class="paragraph">
<p>Les expressions sont faites de <strong>termes</strong> et d'<strong>opérateurs</strong>.</p>
</div>
<div class="paragraph">
<p>Les <strong>termes</strong> sont des:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>variables</strong>: une valeur qui peut être manipulée ou changée.</p>
</li>
<li>
<p><strong>valeurs littérales</strong>: une valeur constante comme un nombre ou une chaîne.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Les <strong>opérateurs</strong> sont classés en types:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Type</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Explication</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Exemple</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Préfixé</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Avant le terme.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>++1</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Infixé</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Entre deux termes.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>1+2</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Suffixé</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Après le terme.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>1++</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Circonfixé</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Autour du terme.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>(1)</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Postcirconfixé</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Après un terme, autour d&#8217;un autre</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Array[1]</code></p></td>
</tr>
</tbody>
</table>
<div class="sect3">
<h4 id="_identificateurs">1.7.1. Identificateurs</h4>
<div class="paragraph">
<p>Les identificateurs sont le nom donné aux termes lors de leur définition.</p>
</div>
<div class="ulist">
<div class="title">Règles:</div>
<ul>
<li>
<p>ils doivent commencer par un caractère alphabétique ou un tiret bas (underscore).</p>
</li>
<li>
<p>ils peuvent contenir des chiffres (à l&#8217;exception du premier caractère).</p>
</li>
<li>
<p>ils peuvent contenir des tirets ou des apostrophes (sauf le premier et le dernier caractère),
mais avec un caractère alphabétique à droite de chaque tiret apostrophe.</p>
</li>
</ul>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Valide</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Non valide</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>var1</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>1var</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>var-one</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>var-1</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>var&#8217;one</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>var'1</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>var1_</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>var1'</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>_var</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>-var</code></p></td>
</tr>
</tbody>
</table>
<div class="ulist">
<div class="title">Conventions de nommage:</div>
<ul>
<li>
<p>Camel: <code>variableNo1</code></p>
</li>
<li>
<p>Kebab: <code>variable-no1</code></p>
</li>
<li>
<p>Snake: <code>variable_no1</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Vous êtes libre de nommer vos identificateurs comme vous le souhaitez,
mais, pour des raisons de cohérence et de lisibilité, il est recommandé de choisir une convention de nommage et de s&#8217;y tenir.</p>
</div>
<div class="paragraph">
<p>L&#8217;utilisation de noms signifiants facilitera votre vie et celle des autres.<br>
<code>var1 = var2 * var3</code> est syntaxiquement correct, mais son but n&#8217;est pas évident.<br>
<code>salaire-mensuel = salaire-journalier * jours-travaillés</code> serait une meilleure façon de nommer vos variables.</p>
</div>
</div>
<div class="sect3">
<h4 id="_commentaires">1.7.2. Commentaires</h4>
<div class="paragraph">
<p>Un commentaire est du texte ignoré par le compilateur.</p>
</div>
<div class="paragraph">
<p>Il y a 3 types de commentaires:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>ligne unique:</p>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-c1">#Ceci est une seule ligne de commentaire</span></code></pre>
</div>
</div>
</li>
<li>
<p>intégré:</p>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-nb">say</span> <span class="tok-cm">#`(Ceci est un commentaire intégré)</span> <span class="tok-s">&quot;Bonjour Monde.&quot;</span></code></pre>
</div>
</div>
</li>
<li>
<p>multi ligne:</p>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-cm">=begin comment</span>
<span class="tok-cm">Ceci est un commentaire sur plusieurs lignes.</span>
<span class="tok-cm">Commentaire 1</span>
<span class="tok-cm">Commentaire 2</span>
<span class="tok-cm">=end comment</span></code></pre>
</div>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_guillemets">1.7.3. Guillemets</h4>
<div class="paragraph">
<p>Les chaînes doivent être délimitées par des guillemets droits, doubles ou simples (apostrophes).</p>
</div>
<div class="paragraph">
<p>Utilisez toujours des guillemets droits doubles:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>si votre chaîne contient une apostrophe.</p>
</li>
<li>
<p>si votre chaîne contient une variable qui doit être interpolée.</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-nb">say</span> <span class="tok-s">&#39;Bonjour Monde&#39;</span>;             <span class="tok-c1">#Bonjour Monde</span>
<span class="tok-nb">say</span> <span class="tok-s">&quot;Bonjour Monde&quot;</span>;             <span class="tok-c1">#Bonjour Monde</span>
<span class="tok-nb">say</span> <span class="tok-s">&quot;Quelqu&#39;un m&#39;a dit&quot;</span>;         <span class="tok-c1">#Quelqu&#39;un m&#39;a dit</span>
<span class="tok-k">my</span> <span class="tok-nv">$nom</span> = <span class="tok-s">&#39;François Pinon&#39;</span>;
<span class="tok-nb">say</span> <span class="tok-s">&#39;Salut $nom&#39;</span>;                <span class="tok-c1">#Salut $nom</span>
<span class="tok-nb">say</span> <span class="tok-s">&quot;Salut $nom&quot;</span>;                <span class="tok-c1">#Salut François Pinon</span></code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_opérateurs">2. Opérateurs</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 7.1428%;">
<col style="width: 7.1428%;">
<col style="width: 28.5714%;">
<col style="width: 28.5714%;">
<col style="width: 28.5716%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-middle">Operateur</th>
<th class="tableblock halign-center valign-middle">Type</th>
<th class="tableblock halign-left valign-middle">Description</th>
<th class="tableblock halign-left valign-middle">Exemple</th>
<th class="tableblock halign-left valign-middle">Résultat</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>+</code></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>Infixé</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">Addition</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>1 + 2</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>3</code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>-</code></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>Infixé</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">Soustraction</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>3 - 1</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>2</code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>*</code></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>Infixé</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">Multiplication</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>3 * 2</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>6</code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>**</code></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>Infixé</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">Puissance</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>3 ** 2</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>9</code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>/</code></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>Infixé</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">Division</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>3 / 2</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>1.5</code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>div</code></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>Infixé</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">Division (arrondit vers le bas)</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>3 div 2</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>1</code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>%</code></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>Infixé</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">Modulo (reste de la division entière)</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>7 % 4</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>3</code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle" rowspan="2"><p class="tableblock"><code>%%</code></p></td>
<td class="tableblock halign-center valign-middle" rowspan="2"><p class="tableblock"><code>Infixé</code></p></td>
<td class="tableblock halign-left valign-middle" rowspan="2"><p class="tableblock">Divisibilité</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>6 %% 4</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>False</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>6 %% 3</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>True</code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>gcd</code></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>Infixé</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">Plus grand dénominateur commun</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>6 gcd 9</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>3</code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>lcm</code></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>Infixé</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">Plus petit commun multiple</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>6 lcm 9</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>18</code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>==</code></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>Infixé</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">Egalité</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>9 == 7</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>False</code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>!=</code></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>Infixé</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">Inégalité</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>9 != 7</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>True</code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>&lt;</code></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>Infixé</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">Plus petit</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>9 &lt; 7</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>False</code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>&gt;</code></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>Infixé</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">Plus grand</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>9 &gt; 7</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>True</code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>&lt;=</code></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>Infixé</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">Plus petit ou égal</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>7 &lt;= 7</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>True</code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>&gt;=</code></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>Infixé</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">Plus grand ou égal</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>9 &gt;= 7</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>True</code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>eq</code></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>Infixé</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">Egalité (chaînes)</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>"Tintin" eq "Tintin"</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>True</code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>ne</code></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>Infixé</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">Inégalité (chaînes)</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>"Tintin" ne "Titine"</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>True</code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>=</code></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>Infixé</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">Affectation</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>my $var = 7</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>Attribue la valeur <code>7</code> a la variable <code>$var</code></code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle" rowspan="2"><p class="tableblock"><code>~</code></p></td>
<td class="tableblock halign-center valign-middle" rowspan="2"><p class="tableblock"><code>Infixé</code></p></td>
<td class="tableblock halign-left valign-middle" rowspan="2"><p class="tableblock">Concaténation</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>9 ~ 7</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>97</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>"Bonjour " ~ "chez vous"</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>Bonjour chez vous</code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle" rowspan="2"><p class="tableblock"><code>x</code></p></td>
<td class="tableblock halign-center valign-middle" rowspan="2"><p class="tableblock"><code>Infixé</code></p></td>
<td class="tableblock halign-left valign-middle" rowspan="2"><p class="tableblock">Réplication</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>13 x 3</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>131313</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>"Salut " x 3</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>Salut Salut Salut</code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle" rowspan="5"><p class="tableblock"><code>~~</code></p></td>
<td class="tableblock halign-center valign-middle" rowspan="5"><p class="tableblock"><code>Infixé</code></p></td>
<td class="tableblock halign-left valign-middle" rowspan="5"><p class="tableblock">Smart match (reconnaissance intelligente)</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>2 ~~ 2</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>True</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>2 ~~ Int</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>True</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>"Raku" ~~ "Raku"</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>True</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>"Raku" ~~ Str</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>True</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>"Renaissance" ~~ /naissance/</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>｢naissance｣</code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle" rowspan="2"><p class="tableblock"><code>++</code></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>Préfixé</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">Incrémentation</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>my $var = 2; ++$var;</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>Incrémente la variable de 1 et retourne le résultat <code>3</code></code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>Suffixé</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">Incrémentation</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>my $var = 2; $var++;</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>Retourne la variable <code>2</code> et puis l&#8217;incrémente</code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle" rowspan="2"><p class="tableblock"><code>--</code></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>Préfixé</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">Décrémentation</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>my $var = 2; --$var;</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>Décrémente la variable de 1 et retourne le résultat <code>1</code></code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>Suffixé</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">Décrémentation</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>my $var = 2; $var--;</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>Retourne la variable <code>2</code> et puis la décrémente</code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle" rowspan="3"><p class="tableblock"><code>+</code></p></td>
<td class="tableblock halign-center valign-middle" rowspan="3"><p class="tableblock"><code>Préfixé</code></p></td>
<td class="tableblock halign-left valign-middle" rowspan="3"><p class="tableblock">Force l&#8217;opérande a une valeur numérique</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>+"3"</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>3</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>+True</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>1</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>+False</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>0</code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle" rowspan="3"><p class="tableblock"><code>-</code></p></td>
<td class="tableblock halign-center valign-middle" rowspan="3"><p class="tableblock"><code>Préfixé</code></p></td>
<td class="tableblock halign-left valign-middle" rowspan="3"><p class="tableblock">Force l&#8217;opérande a une valeur numérique et retourne la négation</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>-"3"</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>-3</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>-True</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>-1</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>-False</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>0</code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle" rowspan="6"><p class="tableblock"><code>?</code></p></td>
<td class="tableblock halign-center valign-middle" rowspan="6"><p class="tableblock"><code>Préfixé</code></p></td>
<td class="tableblock halign-left valign-middle" rowspan="6"><p class="tableblock">Force l&#8217;opérande a une valeur booléenne</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>?0</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>False</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>?9.8</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>True</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>?"Hello"</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>True</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>?""</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>False</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>my $var; ?$var;</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>False</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>my $var = 7; ?$var;</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>True</code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>!</code></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>Préfixé</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">Force l&#8217;opérande a une valeur booléenne et retourne la négation</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>!4</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>False</code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>..</code></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>Infixé</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">Construction d&#8217;intervalles</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>0..5</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>Crée un intervalle de 0 a 5</code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>..^</code></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>Infixé</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">Construction d&#8217;intervalles</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>0..^5</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>Crée un intervalle de 0 a 4</code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>^..</code></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>Infixé</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">Construction d&#8217;intervalles</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>0^..5</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>Crée un intervalle de 1 a 5</code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>^..^</code></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>Infixé</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">Construction d&#8217;intervalles</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>0^..^5</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>Crée un intervalle de 1 a 4</code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>^</code></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>Préfixé</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">Construction d&#8217;intervalles</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>^5</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>Comme 0..^5 Crée un intervalle de 0 a 4</code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>&#8230;&#8203;</code></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>Infixé</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">Construction de listes paresseuses</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>0&#8230;&#8203;9999</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>Retourne les éléments seulement si nécessaire</code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle" rowspan="2"><p class="tableblock"><code>|</code></p></td>
<td class="tableblock halign-center valign-middle" rowspan="2"><p class="tableblock"><code>Préfixé</code></p></td>
<td class="tableblock halign-left valign-middle" rowspan="2"><p class="tableblock">Aplanissement</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>|(0..5)</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>(0 1 2 3 4 5)</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>|(0^..^5)</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>(1 2 3 4)</code></p></td>
</tr>
</tbody>
</table>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Pour la liste complète des opérateurs, y compris leur priorité: <a href="https://docs.raku.org/language/operators" class="bare">https://docs.raku.org/language/operators</a>
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_variables">3. Variables</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Les variables sont classées en trois catégories : scalaires, tableaux et hachages.</p>
</div>
<div class="paragraph">
<p>Un <strong>sigil</strong> (signe en Latin) est un caractère utilisé comme préfixe pour classer les variables.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>$</code> est utilisé pour les scalaires</p>
</li>
<li>
<p><code>@</code> est utilisé pour les tableaux</p>
</li>
<li>
<p><code>%</code> est utilisé pour les tables de hachage.</p>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="_scalaire">3.1. Scalaire</h3>
<div class="paragraph">
<p>Un scalaire contient une valeur ou une référence.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-c1">#String</span>
<span class="tok-k">my</span> <span class="tok-nv">$nom</span> = <span class="tok-s">&#39;François Pinon&#39;</span>;
<span class="tok-nb">say</span> <span class="tok-nv">$nom</span>;

<span class="tok-c1">#Integer</span>
<span class="tok-k">my</span> <span class="tok-nv">$age</span> = <span class="tok-mi">20</span>;
<span class="tok-nb">say</span> <span class="tok-nv">$age</span>;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Certaines opérations peuvent être effectuées sur un scalaire, suivant le type de valeur qu&#8217;il contient.</p>
</div>
<div class="listingblock">
<div class="title">Chaîne</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">my</span> <span class="tok-nv">$nom</span> = <span class="tok-s">&#39;François Pinon&#39;</span>;
<span class="tok-nb">say</span> <span class="tok-nv">$nom</span>.<span class="tok-nb">uc</span>;
<span class="tok-nb">say</span> <span class="tok-nv">$nom</span>.<span class="tok-nb">chars</span>;
<span class="tok-nb">say</span> <span class="tok-nv">$nom</span>.<span class="tok-nb">flip</span>;</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-n">FRANÇOIS</span> <span class="tok-n">PINON</span>
<span class="tok-mi">14</span>
<span class="tok-n">noniP</span> <span class="tok-n">sioçnarF</span></code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Pour une liste exhaustive des méthodes applicables aux chaînes, voir <a href="https://docs.raku.org/type/Str" class="bare">https://docs.raku.org/type/Str</a>
</td>
</tr>
</table>
</div>
<div class="listingblock">
<div class="title">Entier</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">my</span> <span class="tok-nv">$age</span> = <span class="tok-mi">17</span>;
<span class="tok-nb">say</span> <span class="tok-nv">$age</span>.<span class="tok-n">is-prime</span>;</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-nb">True</span></code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Pour une liste exhaustive des méthodes applicables aux entiers, voir <a href="https://docs.raku.org/type/Int" class="bare">https://docs.raku.org/type/Int</a>
</td>
</tr>
</table>
</div>
<div class="listingblock">
<div class="title">Nombre rationnel</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">my</span> <span class="tok-nv">$age</span> = <span class="tok-mf">2.3</span>;
<span class="tok-nb">say</span> <span class="tok-nv">$age</span>.<span class="tok-n">numerator</span>;
<span class="tok-nb">say</span> <span class="tok-nv">$age</span>.<span class="tok-n">denominator</span>;
<span class="tok-nb">say</span> <span class="tok-nv">$age</span>.<span class="tok-n">nude</span>;</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-mi">23</span>
<span class="tok-mi">10</span>
(<span class="tok-mi">23</span> <span class="tok-mi">10</span>)</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Pour une liste exhaustive des méthodes applicables aux nombres rationnels, voir <a href="https://docs.raku.org/type/Rat" class="bare">https://docs.raku.org/type/Rat</a>
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_tableaux">3.2. Tableaux</h3>
<div class="paragraph">
<p>Les tableaux sont des listes contenant plusieurs valeurs.<br>
Par défaut, les valeurs d&#8217;un tableau peuvent être de différents types.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">my</span> <span class="tok-nv">@animaux</span> = <span class="tok-s">&#39;chameau&#39;</span>,<span class="tok-s">&#39;lama&#39;</span>,<span class="tok-s">&#39;hibou&#39;</span>;
<span class="tok-nb">say</span> <span class="tok-nv">@animaux</span>;</code></pre>
</div>
</div>
<div class="paragraph">
<p>De nombreuses opérations peuvent être effectuées sur les tableaux comme le montre l&#8217;exemple suivant:</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
Le tilde <code>~</code> est utilisé pour la concaténation.
</td>
</tr>
</table>
</div>
<div class="listingblock">
<div class="title"><code>Script</code></div>
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">my</span> <span class="tok-nv">@animaux</span> = <span class="tok-s">&#39;chameau&#39;</span>,<span class="tok-s">&#39;vigogne&#39;</span>,<span class="tok-s">&#39;lama&#39;</span>;
<span class="tok-nb">say</span> <span class="tok-s">&quot;Le zoo contient &quot;</span> ~ <span class="tok-nv">@animaux</span>.<span class="tok-nb">elems</span> ~ <span class="tok-s">&quot; animaux&quot;</span>;
<span class="tok-nb">say</span> <span class="tok-s">&quot;Les animaux sont: &quot;</span> ~ <span class="tok-nv">@animaux</span>;
<span class="tok-nb">say</span> <span class="tok-s">&quot;Je vais adopter un hibou pour le zoo&quot;</span>;
<span class="tok-nv">@animaux</span>.<span class="tok-nb">push</span>(<span class="tok-s">&quot;hibou&quot;</span>);
<span class="tok-nb">say</span> <span class="tok-s">&quot;Maintenant, mon zoo contient: &quot;</span> ~ <span class="tok-nv">@animaux</span>;
<span class="tok-nb">say</span> <span class="tok-s">&quot;Le premier animal que nous avons adopté est le &quot;</span> ~ <span class="tok-nv">@animaux</span>[<span class="tok-mi">0</span>];
<span class="tok-nv">@animaux</span>.<span class="tok-nb">pop</span>;
<span class="tok-nb">say</span> <span class="tok-s">&quot;Malheureusement, le hibou est parti, il ne nous reste que: &quot;</span> ~ <span class="tok-nv">@animaux</span>;
<span class="tok-nb">say</span> <span class="tok-s">&quot;Nous allons fermer le zoo et laisser un animal seulement&quot;</span>;
<span class="tok-nb">say</span> <span class="tok-s">&quot;Nous allons faire partir: &quot;</span> ~ <span class="tok-nv">@animaux</span>.<span class="tok-nb">splice</span>(<span class="tok-mi">1</span>,<span class="tok-mi">2</span>) ~ <span class="tok-s">&quot; et laisser le &quot;</span> ~ <span class="tok-nv">@animaux</span>;</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title"><code>Sortie</code></div>
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-n">Le</span> <span class="tok-n">zoo</span> <span class="tok-n">contient</span> <span class="tok-mi">3</span> <span class="tok-n">animaux</span>
<span class="tok-n">Les</span> <span class="tok-n">animaux</span> <span class="tok-n">sont:</span> <span class="tok-n">chameau</span> <span class="tok-n">vigogne</span> <span class="tok-n">lama</span>
<span class="tok-n">Je</span> <span class="tok-n">vais</span> <span class="tok-n">adopter</span> <span class="tok-n">un</span> <span class="tok-n">hibou</span> <span class="tok-n">pour</span> <span class="tok-o">le</span> <span class="tok-n">zoo</span>
<span class="tok-n">Maintenant</span>, <span class="tok-n">mon</span> <span class="tok-n">zoo</span> <span class="tok-n">contient:</span> <span class="tok-n">chameau</span> <span class="tok-n">vigogne</span> <span class="tok-n">lama</span> <span class="tok-n">hibou</span>
<span class="tok-n">Le</span> <span class="tok-n">premier</span> <span class="tok-n">animal</span> <span class="tok-n">que</span> <span class="tok-n">nous</span> <span class="tok-n">avons</span> <span class="tok-n">adopté</span> <span class="tok-n">est</span> <span class="tok-o">le</span> <span class="tok-n">chameau</span>
<span class="tok-n">Malheureusement</span>, <span class="tok-o">le</span> <span class="tok-n">hibou</span> <span class="tok-n">est</span> <span class="tok-n">parti</span>, <span class="tok-n">il</span> <span class="tok-o">ne</span> <span class="tok-n">nous</span> <span class="tok-n">reste</span> <span class="tok-n">que:</span> <span class="tok-n">chameau</span> <span class="tok-n">vigogne</span> <span class="tok-n">lama</span>
<span class="tok-n">Nous</span> <span class="tok-n">allons</span> <span class="tok-n">fermer</span> <span class="tok-o">le</span> <span class="tok-n">zoo</span> <span class="tok-n">et</span> <span class="tok-n">laisser</span> <span class="tok-n">un</span> <span class="tok-n">animal</span> <span class="tok-n">seulement</span>
<span class="tok-n">Nous</span> <span class="tok-n">allons</span> <span class="tok-n">faire</span> <span class="tok-n">partir:</span> <span class="tok-n">vigogne</span> <span class="tok-n">lama</span> <span class="tok-n">et</span> <span class="tok-n">laisser</span> <span class="tok-o">le</span> <span class="tok-n">chameau</span></code></pre>
</div>
</div>
<div class="paragraph">
<div class="title">Explication</div>
<p><code>.elems</code> retourne le nombre d&#8217;éléments contenus dans le tableau.<br>
<code>.push()</code> ajoute un élément au tableau.<br>
Nous pouvons accéder à un élément spécifique dans le tableau en spécifiant sa position <code>@animaux[0]</code>.<br>
<code>.pop</code> supprime le dernier élément du tableau.<br>
<code>.splice(a,b)</code> supprime les <code>b</code> éléments à partir de la position <code>a</code>.</p>
</div>
<div class="sect3">
<h4 id="_tableaux_de_taille_fixe">3.2.1. Tableaux de taille fixe</h4>
<div class="paragraph">
<p>Un tableau simple se déclare comme ceci:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">my</span> <span class="tok-nv">@tableau</span>;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Le tableau simple à une taille non définie, et peut varier de façon automatique.<br>
Ce tableau acceptera un nombre illimité de valeurs sans restriction.</p>
</div>
<div class="paragraph">
<p>On peut en revanche créer des tableaux de taille fixe.<br>
Ces tableaux ne pourront pas excéder la taille qui leur aura été allouée (en lecture et écriture).</p>
</div>
<div class="paragraph">
<p>Pour déclarer un tableau de taille fixe, spécifiez son nombre maximal d&#8217;éléments entre crochets à la suite de son nom:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">my</span> <span class="tok-nv">@tableau</span>[<span class="tok-mi">3</span>];</code></pre>
</div>
</div>
<div class="paragraph">
<p>Ce tableau pourra contenir un maximum de trois valeurs, indexées de 0 à 2.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">my</span> <span class="tok-nv">@tableau</span>[<span class="tok-mi">3</span>];
<span class="tok-nv">@tableau</span>[<span class="tok-mi">0</span>] = <span class="tok-s">&quot;première valeur&quot;</span>;
<span class="tok-nv">@tableau</span>[<span class="tok-mi">1</span>] = <span class="tok-s">&quot;deuxième valeur&quot;</span>;
<span class="tok-nv">@tableau</span>[<span class="tok-mi">2</span>] = <span class="tok-s">&quot;troisième valeur&quot;</span>;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Vous ne pourrez pas ajouter une quatrième valeur à ce tableau:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">my</span> <span class="tok-nv">@tableau</span>[<span class="tok-mi">3</span>];
<span class="tok-nv">@tableau</span>[<span class="tok-mi">0</span>] = <span class="tok-s">&quot;première valeur&quot;</span>;
<span class="tok-nv">@tableau</span>[<span class="tok-mi">1</span>] = <span class="tok-s">&quot;deuxième valeur&quot;</span>;
<span class="tok-nv">@tableau</span>[<span class="tok-mi">2</span>] = <span class="tok-s">&quot;troisième valeur&quot;</span>;
<span class="tok-nv">@tableau</span>[<span class="tok-mi">3</span>] = <span class="tok-s">&quot;quatrième valeur&quot;</span>;</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-n">Index</span> <span class="tok-mi">3</span> <span class="tok-k">for</span> <span class="tok-n">dimension</span> <span class="tok-mi">1</span> <span class="tok-n">out</span> <span class="tok-k">of</span> <span class="tok-n">range</span> (<span class="tok-n">must</span> <span class="tok-n">be</span> <span class="tok-mi">0</span><span class="tok-o">..</span><span class="tok-mi">2</span>)</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_tableaux_à_plusieurs_dimmensions">3.2.2. Tableaux à plusieurs dimmensions</h4>
<div class="paragraph">
<p>Les tableaux vus précédemment ne sont qu&#8217;à une dimension.<br>
Heureusement, nous pouvons en Raku déclarer des tableaux de dimensions multiples.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">my</span> <span class="tok-nv">@multi-tab</span>[<span class="tok-mi">3</span>;<span class="tok-mi">2</span>];</code></pre>
</div>
</div>
<div class="paragraph">
<p>Ce tableau a deux dimensions.
La première dimension peut contenir un maximum de trois valeurs et la seconde un maximum de deux valeurs.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">my</span> <span class="tok-nv">@multi-tab</span>[<span class="tok-mi">3</span>;<span class="tok-mi">2</span>];
<span class="tok-nv">@multi-tab</span>[<span class="tok-mi">0</span>;<span class="tok-mi">0</span>] = <span class="tok-mi">1</span>;
<span class="tok-nv">@multi-tab</span>[<span class="tok-mi">0</span>;<span class="tok-mi">1</span>] = <span class="tok-s">&quot;x&quot;</span>;
<span class="tok-nv">@multi-tab</span>[<span class="tok-mi">1</span>;<span class="tok-mi">0</span>] = <span class="tok-mi">2</span>;
<span class="tok-nv">@multi-tab</span>[<span class="tok-mi">1</span>;<span class="tok-mi">1</span>] = <span class="tok-s">&quot;y&quot;</span>;
<span class="tok-nv">@multi-tab</span>[<span class="tok-mi">2</span>;<span class="tok-mi">0</span>] = <span class="tok-mi">3</span>;
<span class="tok-nv">@multi-tab</span>[<span class="tok-mi">2</span>;<span class="tok-mi">1</span>] = <span class="tok-s">&quot;z&quot;</span>;
<span class="tok-nb">say</span> <span class="tok-nv">@multi-tab</span></code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span>[[<span class="tok-mi">1</span> <span class="tok-o">x</span>] [<span class="tok-mi">2</span> <span class="tok-n">y</span>] [<span class="tok-mi">3</span> <span class="tok-n">z</span>]]</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Pour la référence complète des tableaux: <a href="https://docs.raku.org/type/Array" class="bare">https://docs.raku.org/type/Array</a>
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_hachage">3.3. Hachage</h3>
<div class="listingblock">
<div class="title">Un hachage (table de hachage / hash) est un ensemble de paires clef / valeur.</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">my</span> <span class="tok-nv">%capitales</span> = (<span class="tok-s">&#39;Angleterre&#39;</span>,<span class="tok-s">&#39;Londres&#39;</span>,<span class="tok-s">&#39;France&#39;</span>,<span class="tok-s">&#39;Paris&#39;</span>);
<span class="tok-nb">say</span> <span class="tok-nv">%capitales</span>;</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Une autre façon succincte de remplir le hachage:</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">my</span> <span class="tok-nv">%capitales</span> = (<span class="tok-n">Angleterre</span> =&gt; <span class="tok-s">&#39;Londres&#39;</span>, <span class="tok-n">France</span> =&gt; <span class="tok-s">&#39;Paris&#39;</span>);
<span class="tok-nb">say</span> <span class="tok-nv">%capitales</span>;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Voici quelques-unes des méthodes qui peuvent être appelées sur les hachages:</p>
</div>
<div class="listingblock">
<div class="title"><code>Script</code></div>
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">my</span> <span class="tok-nv">%capitales</span> = (<span class="tok-n">Angleterre</span> =&gt; <span class="tok-s">&#39;Londres&#39;</span>, <span class="tok-n">Allemagne</span> =&gt; <span class="tok-s">&#39;Berlin&#39;</span>);
<span class="tok-nv">%capitales</span>.<span class="tok-n">push:</span> (<span class="tok-n">France</span> =&gt; <span class="tok-s">&#39;Paris&#39;</span>);
<span class="tok-nb">say</span> <span class="tok-nv">%capitales</span>;
<span class="tok-nb">say</span> <span class="tok-nv">%capitales</span>.<span class="tok-nb">kv</span>;
<span class="tok-nb">say</span> <span class="tok-nv">%capitales</span>.<span class="tok-nb">keys</span>;
<span class="tok-nb">say</span> <span class="tok-nv">%capitales</span>.<span class="tok-nb">values</span>;
<span class="tok-nb">say</span> <span class="tok-s">&quot;La capitale de la France est: &quot;</span> ~ <span class="tok-nv">%capitales&lt;France&gt;</span>;</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title"><code>Sortie</code></div>
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span>{<span class="tok-n">Allemagne</span> =&gt; <span class="tok-n">Berlin</span>, <span class="tok-n">Angleterre</span> =&gt; <span class="tok-n">Londres</span>, <span class="tok-n">France</span> =&gt; <span class="tok-n">Paris</span>}
(<span class="tok-n">France</span> <span class="tok-n">Paris</span> <span class="tok-n">Allemagne</span> <span class="tok-n">Berlin</span> <span class="tok-n">Angleterre</span> <span class="tok-n">Londres</span>)
(<span class="tok-n">France</span> <span class="tok-n">Allemagne</span> <span class="tok-n">Angleterre</span>)
(<span class="tok-n">Paris</span> <span class="tok-n">Berlin</span> <span class="tok-n">Londres</span>)
<span class="tok-n">La</span> <span class="tok-n">capitale</span> <span class="tok-n">de</span> <span class="tok-n">la</span> <span class="tok-n">France</span> <span class="tok-n">est:</span> <span class="tok-n">Paris</span></code></pre>
</div>
</div>
<div class="paragraph">
<div class="title">Explication</div>
<p><code>.push: (clef =&gt; 'valeur')</code> ajoute une nouvelle paire clef/valeur.<br>
<code>.kv</code> renvoie la liste contenant toutes les clefs et valeurs.<br>
<code>.keys</code> renvoie une liste des clefs.<br>
<code>.values</code> renvoie une liste des valeurs.<br>
On peut accéder à la valeur particulière d&#8217;un hachage en spécifiant sa clef, comme suit: <code>%hachage&lt;clef&gt;</code></p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Pour la référence complète des hachages: <a href="https://docs.raku.org/type/Hash" class="bare">https://docs.raku.org/type/Hash</a>
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_types">3.4. Types</h3>
<div class="paragraph">
<p>Dans les exemples précédents, on n&#8217;a pas précisé quel type de valeurs les variables peuvent contenir.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
<code>.WHAT</code> retournera le type de la valeur contenue dans la variable.
</td>
</tr>
</table>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">my</span> <span class="tok-nv">$var</span> = <span class="tok-s">&#39;Texte&#39;</span>;
<span class="tok-nb">say</span> <span class="tok-nv">$var</span>;
<span class="tok-nb">say</span> <span class="tok-nv">$var</span>.<span class="tok-nb">WHAT</span>;

<span class="tok-nv">$var</span> = <span class="tok-mi">123</span>;
<span class="tok-nb">say</span> <span class="tok-nv">$var</span>;
<span class="tok-nb">say</span> <span class="tok-nv">$var</span>.<span class="tok-nb">WHAT</span>;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Comme vous pouvez le voir dans l&#8217;exemple ci-dessus, le type de valeur contenu dans <code>$var</code> était (Str) et puis (Int).</p>
</div>
<div class="paragraph">
<p>Ce style de programmation est appelé le typage dynamique.
Dynamique dans le sens que les variables peuvent contenir des valeurs de tout type.</p>
</div>
<div class="paragraph">
<p>Maintenant, essayez d&#8217;exécuter l&#8217;exemple ci-dessous:<br>
Remarquez <code>Int</code> avant le nom de la variable.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">my</span> <span class="tok-nb">Int</span> <span class="tok-nv">$var</span> = <span class="tok-s">&#39;Texte&#39;</span>;
<span class="tok-nb">say</span> <span class="tok-nv">$var</span>;
<span class="tok-nb">say</span> <span class="tok-nv">$var</span>.<span class="tok-nb">WHAT</span>;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Il va échouer et retourner ce message d&#8217;erreur: <code>Type check failed in assignment to $var; expected Int but got Str</code></p>
</div>
<div class="paragraph">
<p>Ce qui est arrivé est que nous avons précisé au préalable que la variable doit être de type (<code>Int</code>).
Quand nous avons essayé de lui affecter un (<code>Str</code>), le programme a échoué.</p>
</div>
<div class="paragraph">
<p>Ce style de programmation est appelé le typage statique.
Statique dans le sens que les types de variables sont définis avant l&#8217;affectation et ne peuvent pas changer.</p>
</div>
<div class="paragraph">
<p>Raku possède un <strong>typage graduel</strong>, les deux typages, <strong>statique</strong> et <strong>dynamique</strong>, peuvent être utilisés.</p>
</div>
<div class="paragraph">
<div class="title">Voici une liste des types les plus couramment utilisés.</div>
<p>Les deux premiers ne seront probablement jamais utilisés, mais ils sont répertoriés à titre informatif.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 14.2857%;">
<col style="width: 42.8571%;">
<col style="width: 28.5714%;">
<col style="width: 14.2858%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code><strong>Type</strong></code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code><strong>Description</strong></code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code><strong>Exemple</strong></code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code><strong>Résultat</strong></code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>Mu</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>La racine de la hiérarchie de types</code></p></td>
<td class="tableblock halign-left valign-middle"></td>
<td class="tableblock halign-left valign-middle"></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>Any</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>Classe de base par défaut pour les nouvelles classes et pour la plupart des classes intégrées</code></p></td>
<td class="tableblock halign-left valign-middle"></td>
<td class="tableblock halign-left valign-middle"></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>Cool</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>Valeur qui peut être considérée comme une chaîne ou un nombre interchangeable</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>my Cool $var = 31; say $var.flip; say $var * 2;</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>13 62</code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>Str</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>Chaîne de caractères</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>my Str $var = "NEON"; say $var.flip;</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>NOEN</code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>Int</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>Entier (précision arbitraire)</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>7 + 7</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>14</code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>Rat</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>Nombre rationnel (précision limitée)</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>0.1 + 0.2</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>0.3</code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>Bool</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>Booléen</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>!True</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>False</code></p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="_introspection">3.5. Introspection</h3>
<div class="paragraph">
<p>L&#8217;introspection est le processus d&#8217;obtention d&#8217;informations sur les propriétés d&#8217;un objet comme son type.<br>
Dans l&#8217;exemple précédent, nous avons utilisé <code>.WHAT</code> pour connaître le type de la variable.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">my</span> <span class="tok-nb">Int</span> <span class="tok-nv">$var</span>;
<span class="tok-nb">say</span> <span class="tok-nv">$var</span>.<span class="tok-nb">WHAT</span>;    <span class="tok-c1"># (Int)</span>
<span class="tok-k">my</span> <span class="tok-nv">$var2</span>;
<span class="tok-nb">say</span> <span class="tok-nv">$var2</span>.<span class="tok-nb">WHAT</span>;   <span class="tok-c1"># (Any)</span>
<span class="tok-nv">$var2</span> = <span class="tok-mi">1</span>;
<span class="tok-nb">say</span> <span class="tok-nv">$var2</span>.<span class="tok-nb">WHAT</span>;   <span class="tok-c1"># (Int)</span>
<span class="tok-nv">$var2</span> = <span class="tok-s">&quot;Hello&quot;</span>;
<span class="tok-nb">say</span> <span class="tok-nv">$var2</span>.<span class="tok-nb">WHAT</span>;   <span class="tok-c1"># (Str)</span>
<span class="tok-nv">$var2</span> = <span class="tok-nb">True</span>;
<span class="tok-nb">say</span> <span class="tok-nv">$var2</span>.<span class="tok-nb">WHAT</span>;   <span class="tok-c1"># (Bool)</span>
<span class="tok-nv">$var2</span> = <span class="tok-n">Nil</span>;
<span class="tok-nb">say</span> <span class="tok-nv">$var2</span>.<span class="tok-nb">WHAT</span>;   <span class="tok-c1"># (Any)</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Le type d&#8217;une variable contenant une valeur est corrélé à sa valeur.<br>
Le type d&#8217;une variable vide fortement déclarée est le type avec lequel elle a été déclarée.<br>
Le type d&#8217;une variable vide qui n&#8217;a pas été déclarée fortement est (<code>Any</code>)<br>
Pour vider la valeur d&#8217;une variable, vous pouvez lui affecter <code>Nil</code>.</p>
</div>
</div>
<div class="sect2">
<h3 id="_portée">3.6. Portée</h3>
<div class="paragraph">
<p>Avant d&#8217;utiliser une variable pour la première fois, elle doit être déclarée.</p>
</div>
<div class="paragraph">
<p>Plusieurs déclarateurs peuvent être utilisés dans Raku, <code>my</code> est ce que nous avons utilisé jusqu&#8217;ici.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">my</span> <span class="tok-nv">$var</span>=<span class="tok-mi">1</span>;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Le déclarateur <code>my</code> donne à la variable une portée <strong>lexicale</strong>.
En d&#8217;autres termes, la variable ne sera accessible que dans le bloc où elle a été déclarée.</p>
</div>
<div class="paragraph">
<p>Un bloc en Raku est délimité par <code>{ }</code>.
Si aucun bloc n&#8217;est trouvé, la variable sera disponible dans l&#8217;ensemble du script (on dit alors parfois qu&#8217;elle est globale au script).</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span>{
  <span class="tok-k">my</span> <span class="tok-nb">Str</span> <span class="tok-nv">$var</span> = <span class="tok-s">&#39;Texte&#39;</span>;
  <span class="tok-nb">say</span> <span class="tok-nv">$var</span>; <span class="tok-c1">#accessible</span>
}
<span class="tok-nb">say</span> <span class="tok-nv">$var</span>; <span class="tok-c1">#inaccessible, renvoie une erreur</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Comme une variable est uniquement accessible dans le bloc où elle est définie, le même nom de variable peut être redéfini dans un autre bloc.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span>{
  <span class="tok-k">my</span> <span class="tok-nb">Str</span> <span class="tok-nv">$var</span> = <span class="tok-s">&#39;Texte&#39;</span>;
  <span class="tok-nb">say</span> <span class="tok-nv">$var</span>;
}
<span class="tok-k">my</span> <span class="tok-nb">Int</span> <span class="tok-nv">$var</span> = <span class="tok-mi">123</span>;
<span class="tok-nb">say</span> <span class="tok-nv">$var</span>;</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_affecter_vs_lier">3.7. Affecter vs. Lier</h3>
<div class="paragraph">
<p>Nous avons vu dans les exemples précédents comment <strong>affecter</strong> des valeurs aux variables.<br>
L'<strong>affectation</strong> est faite en utilisant l&#8217;opérateur <code>=</code></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">my</span> <span class="tok-nb">Int</span> <span class="tok-nv">$var</span> = <span class="tok-mi">123</span>;
<span class="tok-nb">say</span> <span class="tok-nv">$var</span>;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Nous pouvons modifier la valeur attribuée à une variable:</p>
</div>
<div class="listingblock">
<div class="title">Affecter</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">my</span> <span class="tok-nb">Int</span> <span class="tok-nv">$var</span> = <span class="tok-mi">123</span>;
<span class="tok-nb">say</span> <span class="tok-nv">$var</span>;
<span class="tok-nv">$var</span> = <span class="tok-mi">999</span>;
<span class="tok-nb">say</span> <span class="tok-nv">$var</span>;</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title"><code>Sortie</code></div>
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-mi">123</span>
<span class="tok-mi">999</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>D&#8217;autre part, nous ne pouvons pas changer la valeur <strong>liée</strong> à une variable.<br>
Le <strong>lien</strong> est établi en utilisant l&#8217;opérateur <code>:=</code></p>
</div>
<div class="listingblock">
<div class="title">Lier</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">my</span> <span class="tok-nb">Int</span> <span class="tok-nv">$var</span> := <span class="tok-mi">123</span>;
<span class="tok-nb">say</span> <span class="tok-nv">$var</span>;
<span class="tok-nv">$var</span> = <span class="tok-mi">999</span>;
<span class="tok-nb">say</span> <span class="tok-nv">$var</span>;</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title"><code>Sortie</code></div>
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-mi">123</span>
<span class="tok-n">Cannot</span> <span class="tok-n">assign</span> <span class="tok-nb">to</span> <span class="tok-n">an</span> <span class="tok-n">immutable</span> <span class="tok-nb">value</span></code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Une variable peut être également liée a une autre:</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">my</span> <span class="tok-nv">$a</span>;
<span class="tok-k">my</span> <span class="tok-nv">$b</span> := <span class="tok-nv">$a</span>;
<span class="tok-nv">$a</span> = <span class="tok-mi">7</span>;
<span class="tok-nb">say</span> <span class="tok-nv">$b</span>;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Un lien ne peut être créé que lors de l&#8217;initialisation de la variable liée, et ne peut plus être modifié ensuite.
Mais la valeur de la variable liée peut néanmoins changer si la valeur de la variable « maîtresse » à laquelle elle est liée change.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Pour plus d&#8217;informations sur les variables, rendez-vous à <a href="https://docs.raku.org/language/variables" class="bare">https://docs.raku.org/language/variables</a>
</td>
</tr>
</table>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_fonctions_normales_et_fonctions_mutatrices">4. Fonctions normales et fonctions mutatrices</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Il est important de différencier entre les fonctions normales et les fonctions mutatrices.<br>
Les fonctions normales ne changent pas l&#8217;état initial de l&#8217;objet.<br>
Les fonctions mutatrices modifient l&#8217;état de l&#8217;objet.</p>
</div>
<div class="listingblock">
<div class="title"><code>Script</code></div>
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><table class="linenotable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10</pre></div></td><td class="code"><pre><span></span><span class="tok-k">my</span> <span class="tok-nv">@numeros</span> = [<span class="tok-mi">7</span>,<span class="tok-mi">2</span>,<span class="tok-mi">4</span>,<span class="tok-mi">9</span>,<span class="tok-mi">11</span>,<span class="tok-mi">3</span>];

<span class="tok-nv">@numeros</span>.<span class="tok-nb">push</span>(<span class="tok-mi">99</span>);
<span class="tok-nb">say</span> <span class="tok-nv">@numeros</span>;      <span class="tok-c1">#1</span>

<span class="tok-nb">say</span> <span class="tok-nv">@numeros</span>.<span class="tok-nb">sort</span>; <span class="tok-c1">#2</span>
<span class="tok-nb">say</span> <span class="tok-nv">@numeros</span>;      <span class="tok-c1">#3</span>

<span class="tok-nv">@numeros</span>.=<span class="tok-nb">sort</span>;
<span class="tok-nb">say</span> <span class="tok-nv">@numeros</span>;      <span class="tok-c1">#4</span>
</pre></td></tr></table></code></pre>
</div>
</div>
<div class="listingblock">
<div class="title"><code>Sortie</code></div>
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span>[<span class="tok-mi">7</span> <span class="tok-mi">2</span> <span class="tok-mi">4</span> <span class="tok-mi">9</span> <span class="tok-mi">11</span> <span class="tok-mi">3</span> <span class="tok-mi">99</span>] <span class="tok-c1">#1</span>
(<span class="tok-mi">2</span> <span class="tok-mi">3</span> <span class="tok-mi">4</span> <span class="tok-mi">7</span> <span class="tok-mi">9</span> <span class="tok-mi">11</span> <span class="tok-mi">99</span>) <span class="tok-c1">#2</span>
[<span class="tok-mi">7</span> <span class="tok-mi">2</span> <span class="tok-mi">4</span> <span class="tok-mi">9</span> <span class="tok-mi">11</span> <span class="tok-mi">3</span> <span class="tok-mi">99</span>] <span class="tok-c1">#3</span>
[<span class="tok-mi">2</span> <span class="tok-mi">3</span> <span class="tok-mi">4</span> <span class="tok-mi">7</span> <span class="tok-mi">9</span> <span class="tok-mi">11</span> <span class="tok-mi">99</span>] <span class="tok-c1">#4</span></code></pre>
</div>
</div>
<div class="paragraph">
<div class="title">Explication</div>
<p><code>.push</code> est une fonction mutatrice, elle change l&#8217;état du tableau (#1)</p>
</div>
<div class="paragraph">
<p><code>.sort</code> est une fonction normale, elle retourne un tableau trié, mais ne modifie pas l&#8217;état initial du tableau:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>(#2) démontre le retour d&#8217;un tableau trié</p>
</li>
<li>
<p>(#3) démontre que le tableau initial reste non modifié.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Afin de forcer une fonction normale à agir comme une fonction mutatrice, nous pouvons utiliser <code>.=</code> a la place de <code>.</code> (#4) (Ligne 9 du script)</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_structures_conditionnelles_et_boucles">5. Structures conditionnelles et boucles</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Raku possède une multitude de structures conditionnelles et structures de boucles.</p>
</div>
<div class="sect2">
<h3 id="_if">5.1. if</h3>
<div class="paragraph">
<p>Le code ne s&#8217;exécute que si la condition a été remplie.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">my</span> <span class="tok-nv">$âge</span> = <span class="tok-mi">19</span>;

<span class="tok-k">if</span> <span class="tok-nv">$âge</span> &gt; <span class="tok-mi">18</span> {
  <span class="tok-nb">say</span> <span class="tok-s">&#39;Bienvenue&#39;</span>
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>En Raku, nous pouvons inverser le code et la condition.<br>
Même si le code et la condition ont été inversés, la condition est toujours évaluée en premier.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">my</span> <span class="tok-nv">$âge</span> = <span class="tok-mi">19</span>;

<span class="tok-nb">say</span> <span class="tok-s">&#39;Bienvenue&#39;</span> <span class="tok-k">if</span> <span class="tok-nv">$âge</span> &gt; <span class="tok-mi">18</span>;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Si la condition n&#8217;est pas remplie, nous pouvons toujours préciser des blocs d&#8217;exécution alternatifs en utilisant:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>else</code></p>
</li>
<li>
<p><code>elsif</code></p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-c1">#exécuter le même code pour différentes valeurs de la variable</span>
<span class="tok-k">my</span> <span class="tok-nv">$nombre-de-places</span> = <span class="tok-mi">9</span>;

<span class="tok-k">if</span> <span class="tok-nv">$nombre-de-places</span> &lt;= <span class="tok-mi">5</span> {
  <span class="tok-nb">say</span> <span class="tok-s">&#39;Je suis une berline&#39;</span>
} <span class="tok-k">elsif</span> <span class="tok-nv">$nombre-de-places</span> &lt;= <span class="tok-mi">7</span> {
  <span class="tok-nb">say</span> <span class="tok-s">&#39;Je suis un monospace&#39;</span>
} <span class="tok-k">else</span> {
  <span class="tok-nb">say</span> <span class="tok-s">&#39;Je suis un van&#39;</span>
}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_unless">5.2. unless</h3>
<div class="paragraph">
<p>La version négative d&#8217;un <code>if</code> peut être écrite en utilisant <code>unless</code>.</p>
</div>
<div class="paragraph">
<p>Le code suivant:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">my</span> <span class="tok-nv">$chaussures-propres</span> = <span class="tok-nb">False</span>;

<span class="tok-k">if</span> <span class="tok-nb">not</span> <span class="tok-nv">$chaussures-propres</span> {
  <span class="tok-nb">say</span> <span class="tok-s">&#39;Nettoyez vos chaussures&#39;</span>
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>peut aussi être écrit ainsi:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">my</span> <span class="tok-nv">$chaussures-propres</span> = <span class="tok-nb">False</span>;

<span class="tok-k">unless</span> <span class="tok-nv">$chaussures-propres</span> {
  <span class="tok-nb">say</span> <span class="tok-s">&#39;Nettoyez vos chaussures&#39;</span>
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>La négation en Raku est faite en utilisant <code>!</code> ou <code>not</code>.</p>
</div>
<div class="paragraph">
<p><code>unless (condition)</code> est utilisé à la place de <code>if not (condition)</code>.</p>
</div>
<div class="paragraph">
<p><code>unless</code> ne peux pas avoir une clause <code>else</code>.</p>
</div>
</div>
<div class="sect2">
<h3 id="_with">5.3. with</h3>
<div class="paragraph">
<p><code>with</code> fonctionne comme <code>if</code>, mais vérifie si la variable est définie.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">my</span> <span class="tok-nb">Int</span> <span class="tok-nv">$var</span>=<span class="tok-mi">1</span>;

<span class="tok-n">with</span> <span class="tok-nv">$var</span> {
  <span class="tok-nb">say</span> <span class="tok-s">&#39;Bonjour&#39;</span>
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Si vous exécutez le code sans attribuer une valeur à la variable, rien ne devrait arriver.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">my</span> <span class="tok-nb">Int</span> <span class="tok-nv">$var</span>;

<span class="tok-n">with</span> <span class="tok-nv">$var</span> {
  <span class="tok-nb">say</span> <span class="tok-s">&#39;Bonjour&#39;</span>
}</code></pre>
</div>
</div>
<div class="paragraph">
<p><code>without</code> est la version négative de <code>with</code>. Vous devriez être capable de le relier le concept à <code>unless</code>.</p>
</div>
<div class="paragraph">
<p>Si la première condition <code>with</code> n&#8217;est pas remplie, un autre chemin peut être spécifié en utilisant <code>orwith</code>.<br>
<code>with</code> et <code>orwith</code> peuvent être comparés à <code>if</code> et <code>elsif</code>.</p>
</div>
</div>
<div class="sect2">
<h3 id="_for">5.4. for</h3>
<div class="paragraph">
<p>La boucle <code>for</code> itère sur plusieurs valeurs.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">my</span> <span class="tok-nv">@tableau</span> = <span class="tok-mi">1</span>,<span class="tok-mi">2</span>,<span class="tok-mi">3</span>;

<span class="tok-k">for</span> <span class="tok-nv">@tableau</span> -&gt; <span class="tok-nv">$element</span> {
  <span class="tok-nb">say</span> <span class="tok-nv">$element</span><span class="tok-o">*</span><span class="tok-mi">100</span>
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Notez que nous avons créé une variable d&#8217;itération <code>$element</code> afin d&#8217;effectuer l&#8217;opération <code>*100</code> sur chaque élément du tableau.
Dans ce genre de construction, la variable d&#8217;itération <code>$element</code> est autodéclarée et ne doit donc pas être précédée par le déclarateur <code>my</code>.</p>
</div>
</div>
<div class="sect2">
<h3 id="_given">5.5. given</h3>
<div class="paragraph">
<p><code>given</code> est l&#8217;équivalent Raku de l&#8217;instruction <code>switch</code> dans d&#8217;autres langages.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">my</span> <span class="tok-nv">$var</span> = <span class="tok-mi">42</span>;

<span class="tok-k">given</span> <span class="tok-nv">$var</span> {
    <span class="tok-k">when</span> <span class="tok-mi">0</span><span class="tok-o">..</span><span class="tok-mi">50</span> { <span class="tok-nb">say</span> <span class="tok-s">&#39;Plus petit que 50&#39;</span>}
    <span class="tok-k">when</span> <span class="tok-nb">Int</span> { <span class="tok-nb">say</span> <span class="tok-s">&quot;est un Int&quot;</span> }
    <span class="tok-k">when</span> <span class="tok-mi">42</span>  { <span class="tok-nb">say</span> <span class="tok-mi">42</span> }
    <span class="tok-k">default</span>  { <span class="tok-nb">say</span> <span class="tok-s">&quot;huh?&quot;</span> }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Si l&#8217;une des conditions est satisfaite, le processus d&#8217;appariement s&#8217;arrête (les autres conditions ne seront pas testées).
Le code ci-dessus n&#8217;affichera donc que <code>Plus petit que 50</code>.</p>
</div>
<div class="paragraph">
<p>Si l&#8217;on préfère tester aussi les conditions suivantes, <code>proceed</code> instruira Raku à poursuivre l&#8217;appariement, même après un appariement réussi.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">my</span> <span class="tok-nv">$var</span> = <span class="tok-mi">42</span>;

<span class="tok-k">given</span> <span class="tok-nv">$var</span> {
    <span class="tok-k">when</span> <span class="tok-mi">0</span><span class="tok-o">..</span><span class="tok-mi">50</span> { <span class="tok-nb">say</span> <span class="tok-s">&#39;Plus petit que 50&#39;</span>;<span class="tok-n">proceed</span>}
    <span class="tok-k">when</span> <span class="tok-nb">Int</span> { <span class="tok-nb">say</span> <span class="tok-s">&quot;est un Int&quot;</span>;<span class="tok-n">proceed</span>}
    <span class="tok-k">when</span> <span class="tok-mi">42</span>  { <span class="tok-nb">say</span> <span class="tok-mi">42</span> }
    <span class="tok-k">default</span>  { <span class="tok-nb">say</span> <span class="tok-s">&quot;huh?&quot;</span> }
}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_loop">5.6. loop</h3>
<div class="paragraph">
<p><code>loop</code> est une autre façon d&#8217;écrire une boucle <code>for</code>.</p>
</div>
<div class="paragraph">
<p>En fait <code>loop</code> s&#8217;écrit comme le sont les boucles <code>for</code> dans les langages de programmation appartenant a la famille C.</p>
</div>
<div class="paragraph">
<p>Raku appartient à la famille C.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">loop</span> (<span class="tok-k">my</span> <span class="tok-nv">$i</span>=<span class="tok-mi">0</span>; <span class="tok-nv">$i</span> &lt; <span class="tok-mi">5</span>; <span class="tok-nv">$i</span>++) {
  <span class="tok-nb">say</span> <span class="tok-s">&quot;Le nombre actuel est $i&quot;</span>
}</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Pour plus d&#8217;informations sur les boucles et les conditions, voir <a href="https://docs.raku.org/language/control" class="bare">https://docs.raku.org/language/control</a>
</td>
</tr>
</table>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_entréessorties">6. Entrées/Sorties</h2>
<div class="sectionbody">
<div class="paragraph">
<p>En Raku, deux des interfaces <em>entrée/sortie</em> les plus communes sont le <em>Terminal</em> et les <em>Fichiers</em>.</p>
</div>
<div class="sect2">
<h3 id="_es_basic_en_utilisant_le_terminal">6.1. E/S Basic en utilisant le Terminal</h3>
<div class="sect3">
<h4 id="_say">6.1.1. say</h4>
<div class="paragraph">
<p><code>say</code> écrit sur la sortie standard (en général, l&#8217;écran). Il ajoute un caractère de fin ligne à la fin. Autrement dit, le code suivant:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-nb">say</span> <span class="tok-s">&#39;Bonjour Madame.&#39;</span>;
<span class="tok-nb">say</span> <span class="tok-s">&#39;Bonjour Monsieur.&#39;</span>;</code></pre>
</div>
</div>
<div class="paragraph">
<p>sera écrit sur 2 lignes distinctes.</p>
</div>
</div>
<div class="sect3">
<h4 id="_print">6.1.2. print</h4>
<div class="paragraph">
<p><code>print</code> fonctionne comme <code>say</code>, mais sans ajouter de caractère de fin ligne.</p>
</div>
<div class="paragraph">
<p>Essayez de remplacer <code>say</code> avec <code>print</code> et de comparer les deux résultats.</p>
</div>
</div>
<div class="sect3">
<h4 id="_get">6.1.3. get</h4>
<div class="paragraph">
<p><code>get</code> est utilisé pour capturer l&#8217;entrée du Terminal.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">my</span> <span class="tok-nv">$nom</span>;

<span class="tok-nb">say</span> <span class="tok-s">&quot;Salut quel est ton nom?&quot;</span>;
<span class="tok-nv">$nom</span>=<span class="tok-n">get</span>;

<span class="tok-nb">say</span> <span class="tok-s">&quot;Cher $nom bienvenue à Raku&quot;</span>;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Lorsque le code ci-dessus est lancé, le terminal attendra que vous saisissiez votre nom.
Par la suite, il vous accueillera.</p>
</div>
</div>
<div class="sect3">
<h4 id="_prompt">6.1.4. prompt</h4>
<div class="paragraph">
<p><code>prompt</code> est une combinaison de <code>print</code> et <code>get</code>.</p>
</div>
<div class="paragraph">
<p>L&#8217;exemple ci-dessus peut être écrit comme ceci:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">my</span> <span class="tok-nv">$nom</span> = <span class="tok-n">prompt</span>(<span class="tok-s">&quot;Salut quel est ton nom? &quot;</span>);

<span class="tok-nb">say</span> <span class="tok-s">&quot;Cher $nom bienvenue à Raku&quot;</span>;</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_exécution_de_commandes_shell">6.2. Exécution de commandes Shell</h3>
<div class="paragraph">
<p>Deux routines peuvent être utilisées pour exécuter des commandes shell:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>run</code> exécute une commande externe sans impliquer le shell</p>
</li>
<li>
<p><code>shell</code> exécute une commande via le shell. Tous les métacaractères sont interprétés par le shell, y compris les tubes (pipes), les redirections, les variables d&#8217;environnement, etc.</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="title">Voici un exemple sous Linux, Unix ou OS X:</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">my</span> <span class="tok-nv">$nom</span> = <span class="tok-s">&#39;Neo&#39;</span>;
<span class="tok-k">my</span> <span class="tok-nv">$commande</span> = <span class="tok-nb">run</span> <span class="tok-s">&#39;echo&#39;</span>, <span class="tok-s">&quot;salut $nom&quot;</span>;
<span class="tok-k">my</span> <span class="tok-nv">$commande2</span> = <span class="tok-n">shell</span> <span class="tok-s">&quot;ls&quot;</span>;</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Et un exemple sous Windows:</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-n">shell</span> <span class="tok-s">&quot;dir&quot;</span>;</code></pre>
</div>
</div>
<div class="paragraph">
<p><code>echo</code> et <code>ls</code> sont des mots-clefs communs des shells Unix ou Linux.<br>
<code>echo</code> imprime le texte sur le terminal (l&#8217;équivalent de <code>say</code> en Raku)<br>
<code>ls</code> liste tous les fichiers et dossiers dans le répertoire courant sous Linux et <code>dir</code> fait la même chose sous Windows.</p>
</div>
</div>
<div class="sect2">
<h3 id="_es_fichier">6.3. E/S Fichier</h3>
<div class="sect3">
<h4 id="_slurp">6.3.1. slurp</h4>
<div class="paragraph">
<p><code>slurp</code> est utilisé pour lire les données d&#8217;un fichier.</p>
</div>
<div class="paragraph">
<p>Créez un fichier texte avec le contenu suivant:</p>
</div>
<div class="listingblock">
<div class="title">datafile.txt</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-n">John</span> <span class="tok-mi">9</span>
<span class="tok-n">Johnnie</span> <span class="tok-mi">7</span>
<span class="tok-n">Jane</span> <span class="tok-mi">8</span>
<span class="tok-n">Joanna</span> <span class="tok-mi">7</span></code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">my</span> <span class="tok-nv">$data</span> = <span class="tok-nb">slurp</span> <span class="tok-s">&quot;datafile.txt&quot;</span>;
<span class="tok-nb">say</span> <span class="tok-nv">$data</span>;</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_spurt">6.3.2. spurt</h4>
<div class="paragraph">
<p><code>spurt</code> est utilisé pour écrire des données sur un fichier.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">my</span> <span class="tok-nv">$newdata</span> = <span class="tok-s">&quot;New scores:</span>
<span class="tok-s">Paul 10</span>
<span class="tok-s">Paulie 9</span>
<span class="tok-s">Paulo 11&quot;</span>;

<span class="tok-n">spurt</span> <span class="tok-s">&quot;newdatafile.txt&quot;</span>, <span class="tok-nv">$newdata</span>;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Après avoir exécuté le code ci-dessus, un nouveau fichier nommé <em>newdatafile.txt</em> sera créé. Il contiendra les nouveaux scores.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_travailler_avec_les_fichiers_et_répertoires">6.4. Travailler avec les fichiers et répertoires</h3>
<div class="paragraph">
<p>Raku peut lister le contenu d&#8217;un répertoire sans exécuter des commandes shell (en utilisant <code>ls</code>) comme nous l&#8217;avons vu dans un exemple précédent.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-nb">say</span> <span class="tok-n">dir</span>;              <span class="tok-c1">#Liste les fichiers et dossiers dans le répertoire courant</span>
<span class="tok-nb">say</span> <span class="tok-n">dir</span> <span class="tok-s">&quot;/Documents&quot;</span>; <span class="tok-c1">#Liste les fichiers et dossiers dans le répertoire spécifié</span>
<span class="tok-k">my</span> <span class="tok-nv">@répertoire</span> = <span class="tok-n">dir</span>; <span class="tok-c1"># Récupère les fichiers dans un tableau</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>De plus, vous pouvez créer de nouveaux dossiers et les supprimer.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-n">mkdir</span> <span class="tok-s">&quot;newfolder&quot;</span>;
<span class="tok-n">rmdir</span> <span class="tok-s">&quot;newfolder&quot;</span>;</code></pre>
</div>
</div>
<div class="paragraph">
<p><code>mkdir</code> crée un nouveau répertoire.<br>
<code>rmdir</code> supprimer un répertoire vide. Renvoie une erreur s&#8217;il n&#8217;est pas vide.</p>
</div>
<div class="paragraph">
<p>Vous pouvez également vérifier si le chemin d&#8217;accès spécifié existe, si c&#8217;est un fichier ou un répertoire.</p>
</div>
<div class="paragraph">
<p>Dans le répertoire où vous allez exécuter le script ci-dessous, créez un dossier vide <code>folder123</code> et un fichier Raku vide <code>script123.raku</code></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-nb">say</span> <span class="tok-s">&quot;script123.raku&quot;</span>.<span class="tok-nb">IO</span>.<span class="tok-nb">e</span>;
<span class="tok-nb">say</span> <span class="tok-s">&quot;folder123&quot;</span>.<span class="tok-nb">IO</span>.<span class="tok-nb">e</span>;

<span class="tok-nb">say</span> <span class="tok-s">&quot;script123.raku&quot;</span>.<span class="tok-nb">IO</span>.<span class="tok-n">d</span>;
<span class="tok-nb">say</span> <span class="tok-s">&quot;folder123&quot;</span>.<span class="tok-nb">IO</span>.<span class="tok-n">d</span>;

<span class="tok-nb">say</span> <span class="tok-s">&quot;script123.raku&quot;</span>.<span class="tok-nb">IO</span>.<span class="tok-n">f</span>;
<span class="tok-nb">say</span> <span class="tok-s">&quot;folder123&quot;</span>.<span class="tok-nb">IO</span>.<span class="tok-n">f</span>;</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
La méthode IO sert à transformer la chaîne de caractères « script123 » en un objet de type <code>IO::Path</code>. Les méthodes « e », « f » et « d » de tests de fichiers ne peuvent être invoquées que sur des objets de type <code>IO::Path</code>, d&#8217;où la nécessité de coercition préalable de la chaîne de caractères en un objet de ce type.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p><code>IO.e</code> vérifie si le répertoire/fichier existe.<br>
<code>IO.f</code> vérifie si c&#8217;est un fichier.<br>
<code>IO.d</code> vérifie si c&#8217;est un dossier.</p>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
Les utilisateurs Windows peuvent utiliser / ou \\ comme séparateur entre les dossiers:<br>
<code>C:\\rakudo\\bin</code><br>
<code>C:/rakudo/bin</code><br>
</td>
</tr>
</table>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Pour plus d&#8217;informations sur les E/S, voir <a href="https://docs.raku.org/type/IO" class="bare">https://docs.raku.org/type/IO</a>
</td>
</tr>
</table>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_routines">7. Routines</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_définition">7.1. Définition</h3>
<div class="paragraph">
<p>Les <strong>routines</strong> ou <strong>subroutines</strong> ou <strong>subs</strong> sont un moyen de conditionnement d&#8217;un ensemble de fonctionnalités.</p>
</div>
<div class="paragraph">
<p>Une routine est définie avec le mot-clef <code>sub</code>. Après leur définition, elles peuvent être appelées par leur nom.<br>
Examinez l&#8217;exemple ci-dessous:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">sub</span> <span class="tok-n">salut-alien</span> {
  <span class="tok-nb">say</span> <span class="tok-s">&quot;Bonjour Terriens&quot;</span>;
}

<span class="tok-n">salut-alien</span>;</code></pre>
</div>
</div>
<div class="paragraph">
<p>L&#8217;exemple précédent présente une routine qui ne nécessite aucun argument.</p>
</div>
</div>
<div class="sect2">
<h3 id="_signature">7.2. Signature</h3>
<div class="paragraph">
<p>Beaucoup de routines requièrent des données en entrée pour fonctionner. Ces données sont fournies par des <strong>arguments</strong>.<br>
La <strong>signature</strong> est le nombre et le type d&#8217;arguments que la routine accepte.</p>
</div>
<div class="paragraph">
<p>La routine ci-dessous accepte une chaîne pour argument:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">sub</span> <span class="tok-n">dis-bonjour</span> (<span class="tok-nb">Str</span> <span class="tok-nv">$nom</span>) {
    <span class="tok-nb">say</span> <span class="tok-s">&quot;Bonjour &quot;</span> ~ <span class="tok-nv">$nom</span> ~ <span class="tok-s">&quot;!!!!&quot;</span>
}
<span class="tok-n">dis-bonjour</span> <span class="tok-s">&quot;Paul&quot;</span>;
<span class="tok-n">dis-bonjour</span> <span class="tok-s">&quot;Paula&quot;</span>;</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_multiroutines">7.3. Multiroutines</h3>
<div class="paragraph">
<p>Il est possible de définir plusieurs routines ayant le même nom, mais des signatures différentes.
Lorsque la routine est appelée, l&#8217;environnement d&#8217;exécution décidera quelle version utiliser en fonction du nombre et du type des arguments fournis.
Ce type de routines est défini de la même manière que les routines normales sauf que nous utilisons le mot-clef <code>multi</code> a la place de <code>sub</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">multi</span> <span class="tok-n">salut</span>(<span class="tok-nv">$nom</span>) {
    <span class="tok-nb">say</span> <span class="tok-s">&quot;Bonne Journée $nom&quot;</span>;
}
<span class="tok-k">multi</span> <span class="tok-n">salut</span>(<span class="tok-nv">$nom</span>, <span class="tok-nv">$titre</span>) {
    <span class="tok-nb">say</span> <span class="tok-s">&quot;Bonne Journée $titre $nom&quot;</span>;
}

<span class="tok-n">salut</span> <span class="tok-s">&quot;Gaspard&quot;</span>;
<span class="tok-n">salut</span> <span class="tok-s">&quot;Josiane&quot;</span>,<span class="tok-s">&quot;Mme.&quot;</span>;</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_arguments_optionnels_et_par_défaut">7.4. Arguments optionnels et par défaut</h3>
<div class="paragraph">
<p>Si une routine est définie comme acceptant un argument, et nous l&#8217;appelons sans fournir l&#8217;argument requis, la routine va échouer.</p>
</div>
<div class="paragraph">
<p>Cependant, Raku nous offre la possibilité de définir des routines avec des:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Arguments optionnels</p>
</li>
<li>
<p>Arguments par défaut</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Les arguments optionnels sont définis en ajoutant <code>?</code> après le nom de l&#8217;argument.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">sub</span> <span class="tok-n">dis-bonjour</span>(<span class="tok-nv">$nom</span>?) {
  <span class="tok-n">with</span> <span class="tok-nv">$nom</span> { <span class="tok-nb">say</span> <span class="tok-s">&quot;Bonjour &quot;</span> ~ <span class="tok-nv">$nom</span> }
  <span class="tok-k">else</span> { <span class="tok-nb">say</span> <span class="tok-s">&quot;Bonjour être humain&quot;</span> }
}
<span class="tok-n">dis-bonjour</span>;
<span class="tok-n">dis-bonjour</span>(<span class="tok-s">&quot;Laura&quot;</span>);</code></pre>
</div>
</div>
<div class="paragraph">
<p>Si l&#8217;utilisateur ne fournit pas un argument, la routine peut fournir une valeur par défaut.<br>
Cela se fait par l&#8217;attribution d&#8217;une valeur à l&#8217;argument durant la définition de la routine.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">sub</span> <span class="tok-n">dis-bonjour</span>(<span class="tok-nv">$nom</span>=<span class="tok-s">&quot;Raoul&quot;</span>) {
  <span class="tok-nb">say</span> <span class="tok-s">&quot;Bonjour &quot;</span> ~ <span class="tok-nv">$nom</span>;
}
<span class="tok-n">dis-bonjour</span>;
<span class="tok-n">dis-bonjour</span>(<span class="tok-s">&quot;Laura&quot;</span>);</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Pour plus d&#8217;informations sur les routines et fonctions, voir <a href="https://docs.raku.org/language/functions" class="bare">https://docs.raku.org/language/functions</a>
</td>
</tr>
</table>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_programmation_fonctionnelle">8. Programmation fonctionnelle</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Ce chapitre traitera des fonctionnalités facilitant la programmation fonctionnelle.</p>
</div>
<div class="sect2">
<h3 id="_les_fonctions_sont_des_entités_de_première_classe">8.1. Les fonctions sont des entités de première classe</h3>
<div class="paragraph">
<p>Les fonctions/routines sont des entités de première classe:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>elles peuvent être passées comme un argument</p>
</li>
<li>
<p>elles peuvent être renvoyées par une fonction</p>
</li>
<li>
<p>on peut les affecter à une variable</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Un bon exemple pour vérifier ce concept est la fonction <code>map</code>.<br>
<code>map</code> est une <strong>fonction d&#8217;ordre supérieur</strong>, elle accepte une autre fonction comme argument.</p>
</div>
<div class="listingblock">
<div class="title">Script</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">my</span> <span class="tok-nv">@tableau</span> = <span class="tok-s">&lt;1 2 3 4 5&gt;</span>;
<span class="tok-k">sub</span> <span class="tok-n">carré</span>(<span class="tok-nv">$x</span>) {
  <span class="tok-nv">$x</span> ** <span class="tok-mi">2</span>
}
<span class="tok-nb">say</span> <span class="tok-nb">map</span>(<span class="tok-nv">&amp;carré</span>,<span class="tok-nv">@tableau</span>);</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Sortie</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span>(<span class="tok-mi">1</span> <span class="tok-mi">4</span> <span class="tok-mi">9</span> <span class="tok-mi">16</span> <span class="tok-mi">25</span>)</code></pre>
</div>
</div>
<div class="paragraph">
<div class="title">Explication</div>
<p>Nous avons défini une routine appelée <code>carré</code>, qui met à la puissance 2 l&#8217;argument qui lui est passé.<br>
Ensuite, nous avons utilisé <code>map</code>, une fonction d&#8217;ordre supérieur en lui passant deux arguments, une routine et un tableau.<br>
Le résultat est une liste de tous les éléments du tableau mis à la puissance 2.</p>
</div>
<div class="paragraph">
<p>Notez que quand une routine est passée comme argument, nous la préfixons avec <code>&amp;</code>.</p>
</div>
</div>
<div class="sect2">
<h3 id="_fermeture">8.2. Fermeture</h3>
<div class="paragraph">
<p>Tous les objets code en Raku sont des fermetures, ce qui implique qu&#8217;ils peuvent référencer des variables lexicales d&#8217;une portée externe.</p>
</div>
</div>
<div class="sect2">
<h3 id="_fonctions_anonymes">8.3. Fonctions anonymes</h3>
<div class="paragraph">
<p>Une <strong>fonction anonyme</strong> est également appelée <strong>lambda</strong>.<br>
Une fonction anonyme n&#8217;est pas liée à un identifiant (elle n&#8217;a pas de nom).</p>
</div>
<div class="listingblock">
<div class="title">Réécrivons l&#8217;exemple de <code>map</code> avec une fonction anonyme:</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">my</span> <span class="tok-nv">@tableau</span> = <span class="tok-s">&lt;1 2 3 4 5&gt;</span>;
<span class="tok-nb">say</span> <span class="tok-nb">map</span>(-&gt; <span class="tok-nv">$x</span> {<span class="tok-nv">$x</span> ** <span class="tok-mi">2</span>},<span class="tok-nv">@tableau</span>);</code></pre>
</div>
</div>
<div class="paragraph">
<p>Notez qu&#8217;au lieu de définir une routine et de la passer en argument à <code>map</code>, nous la définissons directement à l&#8217;intérieur de <code>map</code>.<br>
La routine anonyme <code>-&gt; $x {$x ** 2}</code> n&#8217;a pas de nom et ne peut donc pas être appelée.</p>
</div>
<div class="paragraph">
<p>En dialecte Raku nous l&#8217;appelons un <strong>bloc pointu</strong> (pointy block).</p>
</div>
<div class="listingblock">
<div class="title">Un bloc pointu peut aussi être utilisé pour assigner des fonctions à des variables:</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">my</span> <span class="tok-nv">$carré</span> = -&gt; <span class="tok-nv">$x</span> {
  <span class="tok-nv">$x</span> ** <span class="tok-mi">2</span>
}
<span class="tok-nb">say</span> <span class="tok-nv">$carré</span>(<span class="tok-mi">9</span>);</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_enchaînement">8.4. Enchaînement</h3>
<div class="paragraph">
<p>En Raku, les méthodes peuvent être enchaînées, vous n&#8217;avez plus à passer le résultat d&#8217;une méthode comme argument à une autre.</p>
</div>
<div class="paragraph">
<p>Supposons qu&#8217;on vous donne un tableau de valeurs.
On vous demande de retourner les valeurs uniques de ce tableau en ordre décroissant.</p>
</div>
<div class="paragraph">
<p>Vous pouvez résoudre ce problème en écrivant quelque chose comme ceci:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">my</span> <span class="tok-nv">@tableau</span> = <span class="tok-s">&lt;7 8 9 0 1 2 4 3 5 6 7 8 9&gt;</span>;
<span class="tok-k">my</span> <span class="tok-nv">@tableau-final</span> = <span class="tok-nb">reverse</span>(<span class="tok-nb">sort</span>(<span class="tok-n">unique</span>(<span class="tok-nv">@tableau</span>)));
<span class="tok-nb">say</span> <span class="tok-nv">@tableau-final</span>;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Nous appelons d&#8217;abord la fonction <code>unique</code> sur <code>@tableau</code> puis nous passons le résultat comme argument à <code>sort</code> et ensuite passons le résultat à <code>reverse</code>.</p>
</div>
<div class="paragraph">
<p>L&#8217;exemple ci-dessus peut aussi être écrit comme suit, en prennant avantage de <strong>l&#8217;enchaînement des méthodes</strong>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">my</span> <span class="tok-nv">@tableau</span> = <span class="tok-s">&lt;7 8 9 0 1 2 4 3 5 6 7 8 9&gt;</span>;
<span class="tok-k">my</span> <span class="tok-nv">@tableau-final</span> = <span class="tok-nv">@tableau</span>.<span class="tok-n">unique</span>.<span class="tok-nb">sort</span>.<span class="tok-nb">reverse</span>;
<span class="tok-nb">say</span> <span class="tok-nv">@tableau-final</span>;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Vous pouvez constater qu&#8217;enchaîner les méthodes est <em>plus agréable à l&#8217;oeil et au cerveau</em>.</p>
</div>
</div>
<div class="sect2">
<h3 id="_opérateur_feed">8.5. Opérateur feed</h3>
<div class="paragraph">
<p>L&#8217;opérateur <strong>feed</strong>, appelé <em>Pipe</em> dans d&#8217;autres langages fonctionnels, donne une meilleure vue de l&#8217;enchaînement de méthodes.</p>
</div>
<div class="listingblock">
<div class="title">Feed vers l&#8217;avant</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">my</span> <span class="tok-nv">@tableau</span> = <span class="tok-s">&lt;7 8 9 0 1 2 4 3 5 6 7 8 9&gt;</span>;
<span class="tok-nv">@tableau</span> ==&gt; <span class="tok-n">unique</span>()
         ==&gt; <span class="tok-nb">sort</span>()
         ==&gt; <span class="tok-nb">reverse</span>()
         ==&gt; <span class="tok-k">my</span> <span class="tok-nv">@tableau-final</span>;
<span class="tok-nb">say</span> <span class="tok-nv">@tableau-final</span>;</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Explication</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-n">Commence</span> <span class="tok-n">avec</span> `<span class="tok-nv">@tableau</span>` <span class="tok-n">puis</span> <span class="tok-n">renvoie</span> <span class="tok-n">la</span> <span class="tok-n">liste</span> <span class="tok-n">des</span> <span class="tok-n">éléments</span> <span class="tok-n">uniques</span>
                         <span class="tok-n">puis</span> <span class="tok-n">effectue</span> <span class="tok-n">un</span> <span class="tok-n">tri</span>
                         <span class="tok-n">puis</span> <span class="tok-n">l&#39;inverse</span>
                         <span class="tok-n">puis</span> <span class="tok-n">stocke</span> <span class="tok-o">le</span> <span class="tok-n">résultat</span> <span class="tok-n">dans</span> <span class="tok-nv">@tableau-final</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Comme vous le voyez, le flux des appels de méthodes se fait de haut en bas.</p>
</div>
<div class="listingblock">
<div class="title">Feed vers l&#8217;arrière</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">my</span> <span class="tok-nv">@tableau</span> = <span class="tok-s">&lt;7 8 9 0 1 2 4 3 5 6 7 8 9&gt;</span>;
<span class="tok-k">my</span> <span class="tok-nv">@tableau-final-v2</span> &lt;== <span class="tok-nb">reverse</span>()
                     &lt;== <span class="tok-nb">sort</span>()
                     &lt;== <span class="tok-n">unique</span>()
                     &lt;== <span class="tok-nv">@tableau</span>;
<span class="tok-nb">say</span> <span class="tok-nv">@tableau-final-v2</span>;</code></pre>
</div>
</div>
<div class="paragraph">
<div class="title">Explication</div>
<p>Le feed vers l&#8217;arrière est comme celui vers l&#8217;avant, mais se fait à rebours.<br>
Le flux des appels de méthodes se fait de bas en haut.</p>
</div>
</div>
<div class="sect2">
<h3 id="_hyperopérateur">8.6. Hyperopérateur</h3>
<div class="paragraph">
<p>L' <strong>hyperpérateur</strong> <code>&gt;&gt;.</code> invoque une méthode sur tous les éléments d&#8217;une liste et renvoie une liste des résultats.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">my</span> <span class="tok-nv">@tableau</span> = <span class="tok-s">&lt;0 1 2 3 4 5 6 7 8 9 10&gt;</span>;
<span class="tok-k">sub</span> <span class="tok-n">est-pair</span>(<span class="tok-nv">$var</span>) { <span class="tok-nv">$var</span> %% <span class="tok-mi">2</span> };

<span class="tok-nb">say</span> <span class="tok-nv">@tableau</span>&gt;&gt;.<span class="tok-n">is-prime</span>;
<span class="tok-nb">say</span> <span class="tok-nv">@tableau</span>&gt;&gt;.<span class="tok-nv">&amp;est-pair</span>;</code></pre>
</div>
</div>
<div class="paragraph">
<p>En utilisant l&#8217;hyperopérateur, nous pouvons appeler des méthodes déjà définies dans Raku, par exemple <code>is-prime</code> qui nous indique si un nombre est premier ou pas.<br>
Nous pouvons également définir de nouvelles routines et les appeler en utilisant l&#8217;hyperopérateur. En ce cas, il faut préfixer la méthode avec <code>&amp;</code> par exemple <code>&amp;est-pair</code></p>
</div>
<div class="paragraph">
<p>Cette façon de faire est très pratique, car elle nous évite d&#8217;écrire une boucle <code>for</code> d&#8217;itéreration sur chaque valeur.</p>
</div>
</div>
<div class="sect2">
<h3 id="_jonctions">8.7. Jonctions</h3>
<div class="paragraph">
<p>Une <strong>jonction</strong> est une superposition logique des valeurs.</p>
</div>
<div class="paragraph">
<p>Dans l&#8217;exemple ci-dessous, <code>1|2|3</code> est une jonction.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">my</span> <span class="tok-nv">$var</span> = <span class="tok-mi">2</span>;
<span class="tok-k">if</span> <span class="tok-nv">$var</span> == <span class="tok-mi">1</span><span class="tok-o">|</span><span class="tok-mi">2</span><span class="tok-o">|</span><span class="tok-mi">3</span> {
  <span class="tok-nb">say</span> <span class="tok-s">&quot;La variable est soit 1 ou 2 ou 3&quot;</span>;
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>L&#8217;utilisation de jonctions déclenche généralement l'<strong>autothreading</strong>;
l&#8217;opération est effectuée pour chaque élément de la jonction, les résultats sont combinés en une seule jonction et renvoyés.</p>
</div>
</div>
<div class="sect2">
<h3 id="_listes_paresseuses">8.8. Listes paresseuses</h3>
<div class="paragraph">
<p>Une <strong>liste paresseuse</strong> est une liste dont l&#8217;évaluation peut être retardée.<br>
L&#8217;évaluation paresseuse diffère l&#8217;évaluation d&#8217;une expression jusqu&#8217;au momment où celle-ci est necessaire, et evite ainsi la répétition des évaluations en stockant les résultats dans une table de correspondance.</p>
</div>
<div class="paragraph">
<p>Les avantages, parmi d&#8217;autres, sont les suivants:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Un gain de performance évitant les calculs inutiles</p>
</li>
<li>
<p>La possibilité de construire des structures de données potentiellement infinies</p>
</li>
<li>
<p>La possibilité de définir une structure de contrôle</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Pour construire une liste paresseuse on utilise l&#8217;opérateur infixé <code>&#8230;&#8203;</code><br>
Une liste paresseuse possède <strong>un ou des éléments initiaux</strong>, <strong>un générateur</strong>, et un <strong>élément final</strong>.</p>
</div>
<div class="listingblock">
<div class="title">Liste paresseuse simple</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">my</span> <span class="tok-nv">$lazylist</span> = (<span class="tok-mi">1</span> ... <span class="tok-mi">10</span>);
<span class="tok-nb">say</span> <span class="tok-nv">$lazylist</span>;</code></pre>
</div>
</div>
<div class="paragraph">
<p>L&#8217;élément initial est 1, et l&#8217;élément final est 10. Aucun générateur n&#8217;a été défini donc le générateur par défaut se fait par sucession (+1)<br>
Autrement dit, cette liste paresseuse retournera (à la demande) les éléments suivants: (1, 2, 3, 4, 5, 6, 7, 8, 9, 10)</p>
</div>
<div class="listingblock">
<div class="title">Liste paresseuse infinie</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">my</span> <span class="tok-nv">$lazylist</span> = (<span class="tok-mi">1</span> ... <span class="tok-n">Inf</span>);
<span class="tok-nb">say</span> <span class="tok-nv">$lazylist</span>;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Cette liste retournera (à la demande) les entiers entre 1 et l&#8217;infini, c&#8217;est-à-dire tous les entiers.</p>
</div>
<div class="listingblock">
<div class="title">Liste paresseuse utilisant un générateur déduit</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">my</span> <span class="tok-nv">$lazylist</span> = (<span class="tok-mi">0</span>,<span class="tok-mi">2</span> ... <span class="tok-mi">10</span>);
<span class="tok-nb">say</span> <span class="tok-nv">$lazylist</span>;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Les éléments initiaux sont 0 et 2, et le point final est 10.
Aucun générateur n&#8217;est défini, mais en utilisant les éléments initiaux, Raku déduira que le générateur est (+2)<br>
Cette liste paresseuse retournera (à la demande) les éléments suivants: (0, 2, 4, 6, 8, 10)</p>
</div>
<div class="listingblock">
<div class="title">Liste paresseuse utilisant un générateur défini</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">my</span> <span class="tok-nv">$lazylist</span> = (<span class="tok-mi">0</span>, { <span class="tok-nv">$_</span> + <span class="tok-mi">3</span> } ... <span class="tok-mi">12</span>);
<span class="tok-nb">say</span> <span class="tok-nv">$lazylist</span>;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Dans cet exemple, nous définissons explicitement un générateur mis entre <code>{ }</code><br>
Cette liste paresseuse retournera (à la demande) les éléments suivants: (0, 3, 6, 9, 12)</p>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Si vous utilisez un générateur explicite, l&#8217;élément final doit être une valeur que le générateur puisse retourner.<br>
Si nous reproduisons l&#8217;exemple ci-dessus avec un élément final égal à 10 au lieu de 12, il n&#8217;y aura pas de fin.
Le générateur <em>saute par dessus</em> l&#8217;élément final.</p>
</div>
<div class="paragraph">
<p>Vous pouvez sinon remplacer <code>0 &#8230;&#8203; 10</code> par <code>0 &#8230;&#8203;^ * &gt; 10</code><br>
Ce qui se lit comme: de 0 jusqu&#8217;a la première valeur suppérieure à 10 exclue.</p>
</div>
<div class="listingblock">
<div class="title">Ceci ne stopera pas le générateur</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">my</span> <span class="tok-nv">$lazylist</span> = (<span class="tok-mi">0</span>, { <span class="tok-nv">$_</span> + <span class="tok-mi">3</span> } ... <span class="tok-mi">10</span>);
<span class="tok-nb">say</span> <span class="tok-nv">$lazylist</span>;</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Ceci stopera le générateur</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">my</span> <span class="tok-nv">$lazylist</span> = (<span class="tok-mi">0</span>, { <span class="tok-nv">$_</span> + <span class="tok-mi">3</span> } ...^ * &gt; <span class="tok-mi">10</span>);
<span class="tok-nb">say</span> <span class="tok-nv">$lazylist</span>;</code></pre>
</div>
</div>
</td>
</tr>
</table>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_classes_objets">9. Classes &amp; Objets</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Dans le chapitre précédent nous avons vu comment Raku facilite la programmation fonctionnelle.<br>
Dans ce chapitre nous allons aborder la programmation orientée objet en Raku.</p>
</div>
<div class="sect2">
<h3 id="_introduction_2">9.1. Introduction</h3>
<div class="paragraph">
<p>La programmation <em>Orientée Objet</em> est l&#8217;un des paradigmes les plus utilisés de nos jours.<br>
Un <strong>objet</strong> est une collection de variables et routines empaquetées ensemble.<br>
Les variables sont appelées des <strong>attributs</strong> et les routines des <strong>méthodes</strong>.<br>
Les attributs définissent l'<strong>état</strong> et les méthodes le <strong>comportement</strong> d&#8217;un objet.</p>
</div>
<div class="paragraph">
<p>Une <strong>classe</strong> définit la structure d&#8217;une collection d'<strong>objets</strong>.<br></p>
</div>
<div class="paragraph">
<p>Pour comprendre cette relation, examinez l&#8217;exemple ci-dessous:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Il y a 4 personnes présentes dans une pièce</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>objets</strong> &#8658; 4 personnes</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ces 4 personnes sont des êtres humains</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>classe</strong> &#8658; Humain</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ils ont des noms, ages, sexes et nationalités différents</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>attributs</strong> &#8658; nom, age, sexe, nationalité</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Dans le jargon <em>orienté objet</em>, nous disons que les objets sont des <strong>instances</strong> d&#8217;une classe.</p>
</div>
<div class="paragraph">
<p>Voyez le script ci-dessous:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">class</span> <span class="tok-n">Humain</span> {
  <span class="tok-k">has</span> <span class="tok-nv">$nom</span>;
  <span class="tok-k">has</span> <span class="tok-nv">$age</span>;
  <span class="tok-k">has</span> <span class="tok-nv">$sexe</span>;
  <span class="tok-k">has</span> <span class="tok-nv">$nationalité</span>;
}

<span class="tok-k">my</span> <span class="tok-nv">$françois</span>;
<span class="tok-nv">$françois</span> = <span class="tok-n">Humain</span>.<span class="tok-nb">new</span>(<span class="tok-n">nom</span> =&gt; <span class="tok-s">&#39;François&#39;</span>, <span class="tok-n">age</span> =&gt; <span class="tok-mi">23</span>, <span class="tok-n">sexe</span> =&gt; <span class="tok-s">&#39;M&#39;</span>, <span class="tok-n">nationalité</span> =&gt; <span class="tok-s">&#39;Sarthoise&#39;</span>);
<span class="tok-nb">say</span> <span class="tok-nv">$françois</span>;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Le mot-clef <code>class</code> est utilisé pour définir une classe.<br>
Le mot-clef <code>has</code> est utilisé pour définir un attribut d&#8217;une classe.<br>
La méthode <code>.new()</code> est appelée un <strong>constructeur</strong>. Elle crée l&#8217;objet comme une instance de la classe sur laquelle elle a été appelée.</p>
</div>
<div class="paragraph">
<p>Dans le script ci-dessus, la nouvelle variable <code>$françois</code> contient une référence vers une nouvelle instance de "Humain" définie par <code>Humain.new()</code>.<br>
Les arguments passés à la méthode <code>.new()</code> sont utilisés pour initialiser les attributs de l&#8217;objet.</p>
</div>
<div class="paragraph">
<p>Une classe peut se voir donner une <em>portée lexicale</em> en utilisant <code>my</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">my</span> <span class="tok-k">class</span> <span class="tok-n">Humain</span> {

}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_encapsulation">9.2. Encapsulation</h3>
<div class="paragraph">
<p>L&#8217;encapsulation est un concept orienté objet qui rassemble une collection de données et de méthodes.<br>
Les données (attributs) dans un objet se doivent d&#8217;être <strong>privées</strong>, c&#8217;est-à-dire qu&#8217;elles ne sont accessibles qu&#8217;à l&#8217;intérieur de l&#8217;objet.<br>
Pour avoir accès aux attributs depuis l&#8217;extérieur de l&#8217;objet, on utilise des méthodes appelées <strong>accesseurs</strong>.</p>
</div>
<div class="paragraph">
<p>Les deux scripts ci-dessous ont le même résultat.</p>
</div>
<div class="listingblock">
<div class="title">Accès direct à la variable:</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">my</span> <span class="tok-nv">$var</span> = <span class="tok-mi">7</span>;
<span class="tok-nb">say</span> <span class="tok-nv">$var</span>;</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Encapsulation:</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">my</span> <span class="tok-nv">$var</span> = <span class="tok-mi">7</span>;
<span class="tok-k">sub</span> <span class="tok-n">disvar</span> {
  <span class="tok-nv">$var</span>;
}
<span class="tok-nb">say</span> <span class="tok-n">disvar</span>;</code></pre>
</div>
</div>
<div class="paragraph">
<p>La méthode <code>disvar</code> est un accesseur. Elle nous permet d&#8217;avoir accès à la valeur de la variable sans avoir d&#8217;accès direct à celle-ci.</p>
</div>
<div class="paragraph">
<p>L&#8217;encapsulation est facilitée en Raku par l&#8217;emploi de <strong>twigils</strong>.<br>
Les twigils sont des <em>sigils</em> secondaires. Ils s&#8217;intercalent entre le sigil et le nom de l&#8217;attribut.<br>
On utilise 2 twigils dans les classes:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>!</code> est utilisé pour déclarer explicitement qu&#8217;un attribut est privé.</p>
</li>
<li>
<p><code>.</code> est utilisé pour générer automatiquement un accesseur pour un attribut.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Par défaut, tout les attributs sont privés, mais c&#8217;est une saine habitude que d&#8217;utiliser le twigil <code>!</code>.</p>
</div>
<div class="paragraph">
<p>En accord avec ce qui vient d&#8217;être dit, nous devrions réécrire la classe comme suit:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">class</span> <span class="tok-n">Humain</span> {
  <span class="tok-k">has</span> <span class="tok-nv">$!nom</span>;
  <span class="tok-k">has</span> <span class="tok-nv">$!age</span>;
  <span class="tok-k">has</span> <span class="tok-nv">$!sexe</span>;
  <span class="tok-k">has</span> <span class="tok-nv">$!nationalité</span>;
}

<span class="tok-k">my</span> <span class="tok-nv">$françois</span> = <span class="tok-n">Humain</span>.<span class="tok-nb">new</span>(<span class="tok-n">nom</span> =&gt; <span class="tok-s">&#39;François&#39;</span>, <span class="tok-n">age</span> =&gt; <span class="tok-mi">23</span>, <span class="tok-n">sexe</span> =&gt; <span class="tok-s">&#39;M&#39;</span>, <span class="tok-n">nationalité</span> =&gt; <span class="tok-s">&#39;Sarthoise&#39;</span>);
<span class="tok-nb">say</span> <span class="tok-nv">$françois</span>;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Si vous ajoutez à ce script la ligne suivante: <code>say $françois.age;</code><br>
L&#8217;erreur suivante sera retournée: <code>Method 'age' not found for invocant of class 'Humain'</code><br>
La raison en est que <code>$!age</code> est privé et ne peut être utilisé que dans l&#8217;objet.
Y accéder en dehors de l&#8217;objet retournera une erreur.</p>
</div>
<div class="paragraph">
<p>Maintenant remplacez <code>has $!age</code> par <code>has $.age</code> et voyez quel est le résultat de <code>say $françois.age;</code></p>
</div>
</div>
<div class="sect2">
<h3 id="_arguments_nommés_vs_positionnels">9.3. Arguments nommés vs. positionnels</h3>
<div class="paragraph">
<p>En Raku, toutes les classes héritent d&#8217;un constructeur par défaut <code>.new()</code>.<br>
Il peut être utilisé pour créer des objets en leur fournissant des arguments.<br>
Le constructeur par défaut ne peut se voir fournir que des <strong>arguments nommés</strong>.<br>
Si vous regardez l&#8217;exemple ci-dessus, vous voyez que les arguments passés à <code>.new()</code> sont définis par leur noms:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>nom =&gt; 'François'</p>
</li>
<li>
<p>age =&gt; 23</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Et si je ne veux pas passer le nom de chaque attribut à chaque fois que je crée un nouvel objet?<br>
Je dois alors créer un autre constructeur qui accepte les <strong>arguments positionnels</strong>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">class</span> <span class="tok-n">Humain</span> {
  <span class="tok-k">has</span> <span class="tok-nv">$.nom</span>;
  <span class="tok-k">has</span> <span class="tok-nv">$.age</span>;
  <span class="tok-k">has</span> <span class="tok-nv">$.sexe</span>;
  <span class="tok-k">has</span> <span class="tok-nv">$.nationalité</span>;
  <span class="tok-c1">#nouveau constructeur qui prime sur constructeur par défaut.</span>
  <span class="tok-k">method</span> <span class="tok-nb">new</span> (<span class="tok-nv">$nom</span>,<span class="tok-nv">$age</span>,<span class="tok-nv">$sexe</span>,<span class="tok-nv">$nationalité</span>) {
    <span class="tok-k">self</span>.<span class="tok-nb">bless</span>(:<span class="tok-nv">$nom</span>,:<span class="tok-nv">$age</span>,:<span class="tok-nv">$sexe</span>,:<span class="tok-nv">$nationalité</span>);
  }
}

<span class="tok-k">my</span> <span class="tok-nv">$françois</span> = <span class="tok-n">Humain</span>.<span class="tok-nb">new</span>(<span class="tok-s">&#39;François&#39;</span>,<span class="tok-mi">23</span>,<span class="tok-s">&#39;M&#39;</span>,<span class="tok-s">&#39;Sarthoise&#39;</span>);
<span class="tok-nb">say</span> <span class="tok-nv">$françois</span>;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Le constructeur qui accepte des arguments positionnels doit être défini comme ci-dessus.</p>
</div>
</div>
<div class="sect2">
<h3 id="_méthodes">9.4. Méthodes</h3>
<div class="sect3">
<h4 id="_introduction_3">9.4.1. Introduction</h4>
<div class="paragraph">
<p>Les méthodes sont les <em>routines</em> d&#8217;un objet.<br>
Comme les routines, elles sont un moyen d&#8217;empaqueter une collection de fonctionnalités, elles acceptent des <strong>arguments</strong>, ont une <strong>signature</strong> et peuvent être définies comme <strong>multi</strong>.</p>
</div>
<div class="paragraph">
<p>Les méthodes sont définies en utilisant le mot-clef <code>method</code>.<br>
Dans leur usage courant, les méthodes sont requises pour effectuer une action sur les attributs des objets.
Ce qui applique l&#8217;idée d&#8217;encapsulation. Les attributs des objets ne peuvent être manipulés qu&#8217;à l&#8217;intérieur de l&#8217;objet en utilisant des méthodes.
L&#8217;environement extérieur ne peut interargir avec l&#8217;objet qu&#8217;à travers ses méthodes, et n&#8217;a pas accès à ses attributs.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">class</span> <span class="tok-n">Humain</span> {
  <span class="tok-k">has</span> <span class="tok-nv">$.nom</span>;
  <span class="tok-k">has</span> <span class="tok-nv">$.age</span>;
  <span class="tok-k">has</span> <span class="tok-nv">$.sexe</span>;
  <span class="tok-k">has</span> <span class="tok-nv">$.nationalité</span>;
  <span class="tok-k">has</span> <span class="tok-nv">$.éligible</span>;
  <span class="tok-k">method</span> <span class="tok-n">confirme-éligibilité</span> {
      <span class="tok-k">if</span> <span class="tok-k">self</span>.<span class="tok-n">age</span> &lt; <span class="tok-mi">21</span> {
        <span class="tok-nv">$!éligible</span> = <span class="tok-s">&#39;Non&#39;</span>
      } <span class="tok-k">else</span> {
        <span class="tok-nv">$!éligible</span> = <span class="tok-s">&#39;Oui&#39;</span>
      }
  }

}

<span class="tok-k">my</span> <span class="tok-nv">$françois</span> = <span class="tok-n">Humain</span>.<span class="tok-nb">new</span>(<span class="tok-n">nom</span> =&gt; <span class="tok-s">&#39;John&#39;</span>, <span class="tok-n">age</span> =&gt; <span class="tok-mi">23</span>, <span class="tok-n">sexe</span> =&gt; <span class="tok-s">&#39;M&#39;</span>, <span class="tok-n">nationalité</span> =&gt; <span class="tok-s">&#39;Sarthoise&#39;</span>);
<span class="tok-nv">$françois</span>.<span class="tok-n">confirme-éligibilité</span>;
<span class="tok-nb">say</span> <span class="tok-nv">$françois</span>.<span class="tok-n">éligible</span>;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Une fois les méthodes définies dans une classe, elles peuvent être appelées sur un objet en utilisant l&#8217;opérateur <em>point</em>:<br>
<em>objet</em> <strong>.</strong> <em>méthode</em> ou comme dans l&#8217;exemple ci-dessus: <code>$françois.confirme-éligibilité</code></p>
</div>
<div class="paragraph">
<p>Dans la définition d&#8217;une méthode, si nous avons besoin de faire référence à l&#8217;objet en soi pour appeler une autre méthode, on utilise le mot-clef <code>self</code>.<br></p>
</div>
<div class="paragraph">
<p>Dans la définition d&#8217;une méthode, si nous avons besoin de faire référence à un attribut, on utilise <code>!</code> même si il a été définit avec <code>.</code><br>
La raison en est que le twigil <code>.</code> déclare un attribut privé (avec <code>!</code>) et automatise ensuite la création d&#8217;un accesseur ayant le même nom.</p>
</div>
<div class="paragraph">
<p>Dans l&#8217;exemple ci-dessus <code>if self.age &lt; 21</code> et <code>if $!age &lt; 21</code> auraient le même résultat, bien qu&#8217;ils soient techniquement différents:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>self.age</code> appelle la méthode <code>.age</code> (accesseur)<br>
On peut aussi l&#8217;écrire <code>$.age</code></p>
</li>
<li>
<p><code>$!age</code> est un appel direct à la variable.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_méthodes_privées">9.4.2. Méthodes privées</h4>
<div class="paragraph">
<p>Les méthodes normales peuvent être appelées sur des objets depuis l&#8217;extérieur de la classe.</p>
</div>
<div class="paragraph">
<p>Les <strong>méthodes privées</strong> sont des méthodes qui ne peuvent être appelées qu&#8217;à l&#8217;intérieur de la classe.<br>
Un cas possible d&#8217;usage serait une méthode qui en appelle une autre pour une action spécifique.
La méthode qui communique avec l&#8217;extérieur est publique alors que celle qui est référencée doit rester privée.
Nous ne voulons par que les utilisateurs l&#8217;appellent directement, on la déclare donc comme privée.</p>
</div>
<div class="paragraph">
<p>La déclaration d&#8217;une méthode privée nécessite l&#8217;emploi du twigil <code>!</code> avant son nom.<br>
Les méthodes privées sont appelées avec <code>!</code> à la place de <code>.</code></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">method</span> !<span class="tok-n">jesuisprivée</span> {
  <span class="tok-c1">#du code ici</span>
}

<span class="tok-k">method</span> <span class="tok-n">jesuispublique</span> {
  <span class="tok-k">self</span><span class="tok-o">!</span><span class="tok-n">jesuisprivée</span>;
  <span class="tok-c1">#faire d&#39;autres choses</span>
}</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_attributs_de_classe">9.5. Attributs de classe</h3>
<div class="paragraph">
<p>Les <strong>attributs de classe</strong> sont des attributs qui appartiennent à la classe, mais pas à ses objets.<br>
Ils peuvent être initialisés pendant la définition.<br>
Les attributs de classe sont déclarés en utilisant <code>my</code> au lieu de <code>has</code>.<br>
Ils sont appelés sur la classe elle-même au lieu de ses objets.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">class</span> <span class="tok-n">Humain</span> {
  <span class="tok-k">has</span> <span class="tok-nv">$.nom</span>;
  <span class="tok-k">my</span> <span class="tok-nv">$.compteur</span> = <span class="tok-mi">0</span>;
  <span class="tok-k">method</span> <span class="tok-nb">new</span>(<span class="tok-nv">$nom</span>) {
    <span class="tok-n">Humain</span>.<span class="tok-n">compteur</span>++;
    <span class="tok-k">self</span>.<span class="tok-nb">bless</span>(:<span class="tok-nv">$nom</span>);
  }
}
<span class="tok-k">my</span> <span class="tok-nv">$a</span> = <span class="tok-n">Humain</span>.<span class="tok-nb">new</span>(<span class="tok-s">&#39;a&#39;</span>);
<span class="tok-k">my</span> <span class="tok-nv">$b</span> = <span class="tok-n">Humain</span>.<span class="tok-nb">new</span>(<span class="tok-s">&#39;b&#39;</span>);

<span class="tok-nb">say</span> <span class="tok-n">Humain</span>.<span class="tok-n">compteur</span>;</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_types_daccès">9.6. Types d&#8217;accès</h3>
<div class="paragraph">
<p>Jusqu&#8217;à présent, tous les exemples que nous avons vus utilisent des accesseurs pour obtenir des informations sur les attributs de l&#8217;objet.</p>
</div>
<div class="paragraph">
<p>Et si nous avons besoin de modifier la valeur d&#8217;un attribut,
nous devons marquer cet attribut comme <em>lisible/enregistrable</em> en utilisant le mot-clef <code>is rw</code></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">class</span> <span class="tok-n">Humain</span> {
  <span class="tok-k">has</span> <span class="tok-nv">$.nom</span>;
  <span class="tok-k">has</span> <span class="tok-nv">$.age</span> <span class="tok-k">is</span> <span class="tok-k">rw</span>;
}
<span class="tok-k">my</span> <span class="tok-nv">$françois</span> = <span class="tok-n">Humain</span>.<span class="tok-nb">new</span>(<span class="tok-n">nom</span> =&gt; <span class="tok-s">&#39;François&#39;</span>, <span class="tok-n">age</span> =&gt; <span class="tok-mi">21</span>);
<span class="tok-nb">say</span> <span class="tok-nv">$françois</span>.<span class="tok-n">age</span>;

<span class="tok-nv">$françois</span>.<span class="tok-n">age</span> = <span class="tok-mi">23</span>;
<span class="tok-nb">say</span> <span class="tok-nv">$françois</span>.<span class="tok-n">age</span>;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Par défaut, tous les attribut sont déclarés en <em>lecture seule</em> mais vous pouvez aussi les déclarer explicitement avec <code>is readonly</code></p>
</div>
</div>
<div class="sect2">
<h3 id="_héritage">9.7. Héritage</h3>
<div class="sect3">
<h4 id="_introduction_4">9.7.1. Introduction</h4>
<div class="paragraph">
<p>L'<strong>héritage</strong> est un autre concept de la programmation orientée objet.</p>
</div>
<div class="paragraph">
<p>Quand on définit des classes, on se rend compte que ces classes ont certains attributs/méthodes communs.<br>
Devons nous dupliquer le code?<br>
NON! Il faudrait utiliser l'<strong>héritage</strong>.</p>
</div>
<div class="paragraph">
<p>Disons que nous voulons créer deux classes, une pour les humains et une pour les employés.<br>
Les humains ont deux attributs: nom et âge.<br>
Les employés ont quatre attributs: nom, âge, société et salaire.</p>
</div>
<div class="paragraph">
<p>On pourrait être tempté de définir les classes comme suit:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">class</span> <span class="tok-n">Humain</span> {
  <span class="tok-k">has</span> <span class="tok-nv">$.nom</span>;
  <span class="tok-k">has</span> <span class="tok-nv">$.age</span>;
}

<span class="tok-k">class</span> <span class="tok-n">Employé</span> {
  <span class="tok-k">has</span> <span class="tok-nv">$.nom</span>;
  <span class="tok-k">has</span> <span class="tok-nv">$.age</span>;
  <span class="tok-k">has</span> <span class="tok-nv">$.société</span>;
  <span class="tok-k">has</span> <span class="tok-nv">$.salaire</span>;
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Bien que correcte, la part de code ci-dessus est conceptuellement maladroite.</p>
</div>
<div class="paragraph">
<p>Une meilleure approche serait:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">class</span> <span class="tok-n">Humain</span> {
  <span class="tok-k">has</span> <span class="tok-nv">$.nom</span>;
  <span class="tok-k">has</span> <span class="tok-nv">$.age</span>;
}

<span class="tok-k">class</span> <span class="tok-n">Employé</span> <span class="tok-k">is</span> <span class="tok-n">Humain</span> {
  <span class="tok-k">has</span> <span class="tok-nv">$.société</span>;
  <span class="tok-k">has</span> <span class="tok-nv">$.salaire</span>;
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Le mot-clef <code>is</code> définit l&#8217;héritage.<br>
Dans le Jargon orienté objet, on dit que Employé est un <strong>enfant</strong> (ou une classe fille) de Humain, et Humain est un <strong>parent</strong> d&#8217;Employé.</p>
</div>
<div class="paragraph">
<p>Toutes les classes filles héritent des attributs et des méthodes de la classe parente, il est donc inutile de les redéfinir.</p>
</div>
</div>
<div class="sect3">
<h4 id="_surcharge">9.7.2. Surcharge</h4>
<div class="paragraph">
<p>Les classes héritent de tous les attributs et méthodes de leur classe parente.<br>
Dans certains cas, nous avons besoin que la méthode d&#8217;un classe fille se comporte différemment de celle dont elle hérite.<br>
Afin d&#8217;obtenir ce comportement, nous redéfinisson la méthode dans la classe fille.<br>
Ce concept est nommé <strong>surcharge</strong>.
Dans l&#8217;exemple ci-dessous, la classe Employé hérite de la méthode <code>présentez-vous</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">class</span> <span class="tok-n">Humain</span> {
  <span class="tok-k">has</span> <span class="tok-nv">$.nom</span>;
  <span class="tok-k">has</span> <span class="tok-nv">$.age</span>;
  <span class="tok-k">method</span> <span class="tok-n">présentez-vous</span> {
    <span class="tok-nb">say</span> <span class="tok-s">&quot;Bonjour je suis un être humain, et je m&#39;appelle &quot;</span> ~ <span class="tok-k">self</span>.<span class="tok-n">nom</span>;
  }
}

<span class="tok-k">class</span> <span class="tok-n">Employé</span> <span class="tok-k">is</span> <span class="tok-n">Humain</span> {
  <span class="tok-k">has</span> <span class="tok-nv">$.société</span>;
  <span class="tok-k">has</span> <span class="tok-nv">$.salaire</span>;
}

<span class="tok-k">my</span> <span class="tok-nv">$françois</span> = <span class="tok-n">Humain</span>.<span class="tok-nb">new</span>(<span class="tok-n">nom</span> =&gt; <span class="tok-s">&#39;François&#39;</span>, <span class="tok-n">age</span> =&gt; <span class="tok-mi">23</span>,);
<span class="tok-k">my</span> <span class="tok-nv">$anne</span> = <span class="tok-n">Employé</span>.<span class="tok-nb">new</span>(<span class="tok-n">nom</span> =&gt; <span class="tok-s">&#39;Anne&#39;</span>, <span class="tok-n">age</span> =&gt; <span class="tok-mi">25</span>, <span class="tok-n">société</span> =&gt; <span class="tok-s">&#39;Acme&#39;</span>, <span class="tok-n">salaire</span> =&gt; <span class="tok-mi">2000</span>);

<span class="tok-nv">$françois</span>.<span class="tok-n">présentez-vous</span>;
<span class="tok-nv">$anne</span>.<span class="tok-n">présentez-vous</span>;</code></pre>
</div>
</div>
<div class="paragraph">
<p>La surcharge se fait comme ceci:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">class</span> <span class="tok-n">Humain</span> {
  <span class="tok-k">has</span> <span class="tok-nv">$.nom</span>;
  <span class="tok-k">has</span> <span class="tok-nv">$.age</span>;
  <span class="tok-k">method</span> <span class="tok-n">présentez-vous</span> {
    <span class="tok-nb">say</span> <span class="tok-s">&quot;Bonjour je suis un être humain, et je m&#39;appelle &quot;</span> ~ <span class="tok-k">self</span>.<span class="tok-n">nom</span>;
  }
}

<span class="tok-k">class</span> <span class="tok-n">Employé</span> <span class="tok-k">is</span> <span class="tok-n">Humain</span> {
  <span class="tok-k">has</span> <span class="tok-nv">$.société</span>;
  <span class="tok-k">has</span> <span class="tok-nv">$.salaire</span>;
  <span class="tok-k">method</span> <span class="tok-n">présentez-vous</span> {
    <span class="tok-nb">say</span> <span class="tok-s">&quot;Bonjour je suis un être humain, et je m&#39;appelle &quot;</span> ~ <span class="tok-k">self</span>.<span class="tok-n">nom</span> ~ <span class="tok-s">&#39; et je travaille chez: &#39;</span> ~ <span class="tok-k">self</span>.<span class="tok-n">société</span>;
  }

}

<span class="tok-k">my</span> <span class="tok-nv">$françois</span> = <span class="tok-n">Humain</span>.<span class="tok-nb">new</span>(<span class="tok-n">nom</span> =&gt; <span class="tok-s">&#39;François&#39;</span>, <span class="tok-n">age</span> =&gt; <span class="tok-mi">23</span>,);
<span class="tok-k">my</span> <span class="tok-nv">$anne</span> = <span class="tok-n">Employé</span>.<span class="tok-nb">new</span>(<span class="tok-n">nom</span> =&gt; <span class="tok-s">&#39;Anne&#39;</span>, <span class="tok-n">age</span> =&gt; <span class="tok-mi">25</span>, <span class="tok-n">société</span> =&gt; <span class="tok-s">&#39;Acme&#39;</span>, <span class="tok-n">salaire</span> =&gt; <span class="tok-mi">2000</span>);

<span class="tok-nv">$françois</span>.<span class="tok-n">présentez-vous</span>;
<span class="tok-nv">$anne</span>.<span class="tok-n">présentez-vous</span>;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Suivant la classe dans laquelle se trouve l&#8217;objet, la bonne méthode sera appelée.</p>
</div>
</div>
<div class="sect3">
<h4 id="_sous_méthodes">9.7.3. Sous-méthodes</h4>
<div class="paragraph">
<p>Les <strong>Sous-méthodes</strong> sont un type de méthode dont les classes filles n&#8217;héritent pas.<br>
Elles ne sont accessibles que depuis la classe dans laquelle elles sont déclarées.<br>
Elles sont déclarées en utilisant le mot-clef <code>submethod</code>.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_héritage_multiple">9.8. Héritage multiple</h3>
<div class="paragraph">
<p>L&#8217;héritage multiple est disponible en Raku. Une classe peut hériter de plusieurs autres classes.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">class</span> <span class="tok-n">barre-graph</span> {
  <span class="tok-k">has</span> <span class="tok-nb">Int</span> <span class="tok-nv">@.barre-valeurs</span>;
  <span class="tok-k">method</span> <span class="tok-n">dessiner</span> {
    <span class="tok-nb">say</span> <span class="tok-nv">@.barre-valeurs</span>;
  }
}

<span class="tok-k">class</span> <span class="tok-n">ligne-graph</span> {
  <span class="tok-k">has</span> <span class="tok-nb">Int</span> <span class="tok-nv">@.ligne-valeurs</span>;
  <span class="tok-k">method</span> <span class="tok-n">dessiner</span> {
    <span class="tok-nb">say</span> <span class="tok-nv">@.ligne-valeurs</span>;
  }
}

<span class="tok-k">class</span> <span class="tok-n">combo-graph</span> <span class="tok-k">is</span> <span class="tok-n">barre-graph</span> <span class="tok-k">is</span> <span class="tok-n">ligne-graph</span> {
}

<span class="tok-k">my</span> <span class="tok-nv">$ventes-réelles</span> = <span class="tok-n">barre-graph</span>.<span class="tok-nb">new</span>(<span class="tok-n">barre-valeurs</span> =&gt; [<span class="tok-mi">10</span>,<span class="tok-mi">9</span>,<span class="tok-mi">11</span>,<span class="tok-mi">8</span>,<span class="tok-mi">7</span>,<span class="tok-mi">10</span>]);
<span class="tok-k">my</span> <span class="tok-nv">$ventes-prévisions</span> = <span class="tok-n">ligne-graph</span>.<span class="tok-nb">new</span>(<span class="tok-n">ligne-valeurs</span> =&gt; [<span class="tok-mi">9</span>,<span class="tok-mi">8</span>,<span class="tok-mi">10</span>,<span class="tok-mi">7</span>,<span class="tok-mi">6</span>,<span class="tok-mi">9</span>]);

<span class="tok-k">my</span> <span class="tok-nv">$réelles-vs-prévisions</span> = <span class="tok-n">combo-graph</span>.<span class="tok-nb">new</span>(<span class="tok-n">barre-valeurs</span> =&gt; [<span class="tok-mi">10</span>,<span class="tok-mi">9</span>,<span class="tok-mi">11</span>,<span class="tok-mi">8</span>,<span class="tok-mi">7</span>,<span class="tok-mi">10</span>],
                                            <span class="tok-n">ligne-valeurs</span> =&gt; [<span class="tok-mi">9</span>,<span class="tok-mi">8</span>,<span class="tok-mi">10</span>,<span class="tok-mi">7</span>,<span class="tok-mi">6</span>,<span class="tok-mi">9</span>]);
<span class="tok-nb">say</span> <span class="tok-s">&quot;Ventes Réelles:&quot;</span>;
<span class="tok-nv">$ventes-réelles</span>.<span class="tok-n">dessiner</span>;
<span class="tok-nb">say</span> <span class="tok-s">&quot;Ventes Prévisionelles:&quot;</span>;
<span class="tok-nv">$ventes-prévisions</span>.<span class="tok-n">dessiner</span>;
<span class="tok-nb">say</span> <span class="tok-s">&quot;Réelles vs Prévisionelles:&quot;</span>;
<span class="tok-nv">$réelles-vs-prévisions</span>.<span class="tok-n">dessiner</span>;</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title"><code>Sortie</code></div>
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-n">Ventes</span> <span class="tok-n">Réelles:</span>
[<span class="tok-mi">10</span> <span class="tok-mi">9</span> <span class="tok-mi">11</span> <span class="tok-mi">8</span> <span class="tok-mi">7</span> <span class="tok-mi">10</span>]
<span class="tok-n">Ventes</span> <span class="tok-n">Prévisionelles:</span>
[<span class="tok-mi">9</span> <span class="tok-mi">8</span> <span class="tok-mi">10</span> <span class="tok-mi">7</span> <span class="tok-mi">6</span> <span class="tok-mi">9</span>]
<span class="tok-n">Réelles</span> <span class="tok-n">vs</span> <span class="tok-n">Prévisionelles:</span>
[<span class="tok-mi">10</span> <span class="tok-mi">9</span> <span class="tok-mi">11</span> <span class="tok-mi">8</span> <span class="tok-mi">7</span> <span class="tok-mi">10</span>]</code></pre>
</div>
</div>
<div class="paragraph">
<div class="title">Explication</div>
<p>La classe <code>combo-graph</code> doit être capable de contenir deux séries, une pour les valeurs réelles dessinées sous forme de barres
et une autre pour les valeurs prévisionelles dessinées sous forme de ligne.<br>
C&#8217;est pourquoi nous l&#8217;avons définie comme fille de <code>ligne-graph</code> et <code>barre-graph</code><br>
Vous avez remarqué que l&#8217;appel de la méthode <code>dessiner</code> sur <code>combo-graph</code> n&#8217;a pas rendu les bons résultats.</p>
</div>
<div class="paragraph">
<p>Une seule série a été dessinée.<br>
Que c&#8217;est-il passé?<br>
<code>combo-graph</code> hérite de <code>barre-graph</code> et de <code>ligne-graph</code>; et chaque parent possède un méthode appelée <code>dessiner</code>.
Quand nous appelons cette méthode sur <code>combo-graph</code> Raku résoudra le conflit en appelant une des méthodes héritées.</p>
</div>
<div class="paragraph">
<div class="title">Correction</div>
<p>Pour avoir un comportement valide, nous devons surcharger la méthode <code>dessiner</code> dans <code>combo-graph</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">class</span> <span class="tok-n">barre-graph</span> {
  <span class="tok-k">has</span> <span class="tok-nb">Int</span> <span class="tok-nv">@.barre-valeurs</span>;
  <span class="tok-k">method</span> <span class="tok-n">dessiner</span> {
    <span class="tok-nb">say</span> <span class="tok-nv">@.barre-valeurs</span>;
  }
}

<span class="tok-k">class</span> <span class="tok-n">ligne-graph</span> {
  <span class="tok-k">has</span> <span class="tok-nb">Int</span> <span class="tok-nv">@.ligne-valeurs</span>;
  <span class="tok-k">method</span> <span class="tok-n">dessiner</span> {
    <span class="tok-nb">say</span> <span class="tok-nv">@.ligne-valeurs</span>;
  }
}

<span class="tok-k">class</span> <span class="tok-n">combo-graph</span> <span class="tok-k">is</span> <span class="tok-n">barre-graph</span> <span class="tok-k">is</span> <span class="tok-n">ligne-graph</span> {
  <span class="tok-k">method</span> <span class="tok-n">dessiner</span> {
    <span class="tok-nb">say</span> <span class="tok-nv">@.barre-valeurs</span>;
    <span class="tok-nb">say</span> <span class="tok-nv">@.ligne-valeurs</span>;
  }
}

<span class="tok-k">my</span> <span class="tok-nv">$ventes-réelles</span> = <span class="tok-n">barre-graph</span>.<span class="tok-nb">new</span>(<span class="tok-n">barre-valeurs</span> =&gt; [<span class="tok-mi">10</span>,<span class="tok-mi">9</span>,<span class="tok-mi">11</span>,<span class="tok-mi">8</span>,<span class="tok-mi">7</span>,<span class="tok-mi">10</span>]);
<span class="tok-k">my</span> <span class="tok-nv">$ventes-prévisions</span> = <span class="tok-n">ligne-graph</span>.<span class="tok-nb">new</span>(<span class="tok-n">ligne-valeurs</span> =&gt; [<span class="tok-mi">9</span>,<span class="tok-mi">8</span>,<span class="tok-mi">10</span>,<span class="tok-mi">7</span>,<span class="tok-mi">6</span>,<span class="tok-mi">9</span>]);

<span class="tok-k">my</span> <span class="tok-nv">$réelles-vs-prévisions</span> = <span class="tok-n">combo-graph</span>.<span class="tok-nb">new</span>(<span class="tok-n">barre-valeurs</span> =&gt; [<span class="tok-mi">10</span>,<span class="tok-mi">9</span>,<span class="tok-mi">11</span>,<span class="tok-mi">8</span>,<span class="tok-mi">7</span>,<span class="tok-mi">10</span>],
                                            <span class="tok-n">ligne-valeurs</span> =&gt; [<span class="tok-mi">9</span>,<span class="tok-mi">8</span>,<span class="tok-mi">10</span>,<span class="tok-mi">7</span>,<span class="tok-mi">6</span>,<span class="tok-mi">9</span>]);
<span class="tok-nb">say</span> <span class="tok-s">&quot;Ventes Réelles:&quot;</span>;
<span class="tok-nv">$ventes-réelles</span>.<span class="tok-n">dessiner</span>;
<span class="tok-nb">say</span> <span class="tok-s">&quot;Ventes Prévisionelles:&quot;</span>;
<span class="tok-nv">$ventes-prévisions</span>.<span class="tok-n">dessiner</span>;
<span class="tok-nb">say</span> <span class="tok-s">&quot;Réelles vs Prévisionelles:&quot;</span>;
<span class="tok-nv">$réelles-vs-prévisions</span>.<span class="tok-n">dessiner</span>;</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title"><code>Sortie</code></div>
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-n">Ventes</span> <span class="tok-n">Réelles:</span>
[<span class="tok-mi">10</span> <span class="tok-mi">9</span> <span class="tok-mi">11</span> <span class="tok-mi">8</span> <span class="tok-mi">7</span> <span class="tok-mi">10</span>]
<span class="tok-n">Ventes</span> <span class="tok-n">Prévisionelles:</span>
[<span class="tok-mi">9</span> <span class="tok-mi">8</span> <span class="tok-mi">10</span> <span class="tok-mi">7</span> <span class="tok-mi">6</span> <span class="tok-mi">9</span>]
<span class="tok-n">Réelles</span> <span class="tok-n">vs</span> <span class="tok-n">Prévisionelles:</span>
[<span class="tok-mi">10</span> <span class="tok-mi">9</span> <span class="tok-mi">11</span> <span class="tok-mi">8</span> <span class="tok-mi">7</span> <span class="tok-mi">10</span>]
[<span class="tok-mi">9</span> <span class="tok-mi">8</span> <span class="tok-mi">10</span> <span class="tok-mi">7</span> <span class="tok-mi">6</span> <span class="tok-mi">9</span>]</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_rôles">9.9. Rôles</h3>
<div class="paragraph">
<p>Les <strong>rôles</strong> sont assimilables à des classes, dans le sens qu&#8217;ils sont une collection d&#8217;attributs et de méthodes.</p>
</div>
<div class="paragraph">
<p>Les rôles sont déclarés avec le mot-clef <code>role</code>, les classes qui veulent implémenter un rôle peuvent le faire en utilisant le mot-clef <code>does</code>.</p>
</div>
<div class="listingblock">
<div class="title">Réécrivons l&#8217;exemple d&#8217;héritage multiple en utilisant des rôles:</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">role</span> <span class="tok-n">barre-graph</span> {
  <span class="tok-k">has</span> <span class="tok-nb">Int</span> <span class="tok-nv">@.barre-valeurs</span>;
  <span class="tok-k">method</span> <span class="tok-n">dessiner</span> {
    <span class="tok-nb">say</span> <span class="tok-nv">@.barre-valeurs</span>;
  }
}

<span class="tok-k">role</span> <span class="tok-n">ligne-graph</span> {
  <span class="tok-k">has</span> <span class="tok-nb">Int</span> <span class="tok-nv">@.ligne-valeurs</span>;
  <span class="tok-k">method</span> <span class="tok-n">dessiner</span> {
    <span class="tok-nb">say</span> <span class="tok-nv">@.ligne-valeurs</span>;
  }
}

<span class="tok-k">class</span> <span class="tok-n">combo-graph</span> <span class="tok-nb">does</span> <span class="tok-n">barre-graph</span> <span class="tok-nb">does</span> <span class="tok-n">ligne-graph</span> {
  <span class="tok-k">method</span> <span class="tok-n">dessiner</span> {
    <span class="tok-nb">say</span> <span class="tok-nv">@.barre-valeurs</span>;
    <span class="tok-nb">say</span> <span class="tok-nv">@.ligne-valeurs</span>;
  }
}

<span class="tok-k">my</span> <span class="tok-nv">$ventes-réelles</span> = <span class="tok-n">barre-graph</span>.<span class="tok-nb">new</span>(<span class="tok-n">barre-valeurs</span> =&gt; [<span class="tok-mi">10</span>,<span class="tok-mi">9</span>,<span class="tok-mi">11</span>,<span class="tok-mi">8</span>,<span class="tok-mi">7</span>,<span class="tok-mi">10</span>]);
<span class="tok-k">my</span> <span class="tok-nv">$ventes-prévisions</span> = <span class="tok-n">ligne-graph</span>.<span class="tok-nb">new</span>(<span class="tok-n">ligne-valeurs</span> =&gt; [<span class="tok-mi">9</span>,<span class="tok-mi">8</span>,<span class="tok-mi">10</span>,<span class="tok-mi">7</span>,<span class="tok-mi">6</span>,<span class="tok-mi">9</span>]);

<span class="tok-k">my</span> <span class="tok-nv">$réelles-vs-prévisions</span> = <span class="tok-n">combo-graph</span>.<span class="tok-nb">new</span>(<span class="tok-n">barre-valeurs</span> =&gt; [<span class="tok-mi">10</span>,<span class="tok-mi">9</span>,<span class="tok-mi">11</span>,<span class="tok-mi">8</span>,<span class="tok-mi">7</span>,<span class="tok-mi">10</span>],
                                            <span class="tok-n">ligne-valeurs</span> =&gt; [<span class="tok-mi">9</span>,<span class="tok-mi">8</span>,<span class="tok-mi">10</span>,<span class="tok-mi">7</span>,<span class="tok-mi">6</span>,<span class="tok-mi">9</span>]);
<span class="tok-nb">say</span> <span class="tok-s">&quot;Ventes Réelles:&quot;</span>;
<span class="tok-nv">$ventes-réelles</span>.<span class="tok-n">dessiner</span>;
<span class="tok-nb">say</span> <span class="tok-s">&quot;Ventes Prévisionelles:&quot;</span>;
<span class="tok-nv">$ventes-prévisions</span>.<span class="tok-n">dessiner</span>;
<span class="tok-nb">say</span> <span class="tok-s">&quot;Réelles vs Prévisionelles:&quot;</span>;
<span class="tok-nv">$réelles-vs-prévisions</span>.<span class="tok-n">dessiner</span>;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Si vous lancez le sript ci-dessus, vous constatez que les résultats sont les mêmes.</p>
</div>
<div class="paragraph">
<p>Vous vous demandez maintenant: si les rôles se comportent comme des classes, quelle est leur utilité?<br>
Pour répondre à votre question, modifiez le premier script utilisé pour illustrer l&#8217;héritage multiple,
celui où nous avons <em>oublié</em> de surclasser la méthode <code>dessiner</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">role</span> <span class="tok-n">barre-graph</span> {
  <span class="tok-k">has</span> <span class="tok-nb">Int</span> <span class="tok-nv">@.barre-valeurs</span>;
  <span class="tok-k">method</span> <span class="tok-n">dessiner</span> {
    <span class="tok-nb">say</span> <span class="tok-nv">@.barre-valeurs</span>;
  }
}

<span class="tok-k">role</span> <span class="tok-n">ligne-graph</span> {
  <span class="tok-k">has</span> <span class="tok-nb">Int</span> <span class="tok-nv">@.ligne-valeurs</span>;
  <span class="tok-k">method</span> <span class="tok-n">dessiner</span> {
    <span class="tok-nb">say</span> <span class="tok-nv">@.ligne-valeurs</span>;
  }
}

<span class="tok-k">class</span> <span class="tok-n">combo-graph</span> <span class="tok-nb">does</span> <span class="tok-n">barre-graph</span> <span class="tok-nb">does</span> <span class="tok-n">ligne-graph</span> {
}

<span class="tok-k">my</span> <span class="tok-nv">$ventes-réelles</span> = <span class="tok-n">barre-graph</span>.<span class="tok-nb">new</span>(<span class="tok-n">barre-valeurs</span> =&gt; [<span class="tok-mi">10</span>,<span class="tok-mi">9</span>,<span class="tok-mi">11</span>,<span class="tok-mi">8</span>,<span class="tok-mi">7</span>,<span class="tok-mi">10</span>]);
<span class="tok-k">my</span> <span class="tok-nv">$ventes-prévisions</span> = <span class="tok-n">ligne-graph</span>.<span class="tok-nb">new</span>(<span class="tok-n">ligne-valeurs</span> =&gt; [<span class="tok-mi">9</span>,<span class="tok-mi">8</span>,<span class="tok-mi">10</span>,<span class="tok-mi">7</span>,<span class="tok-mi">6</span>,<span class="tok-mi">9</span>]);

<span class="tok-k">my</span> <span class="tok-nv">$réelles-vs-prévisions</span> = <span class="tok-n">combo-graph</span>.<span class="tok-nb">new</span>(<span class="tok-n">barre-valeurs</span> =&gt; [<span class="tok-mi">10</span>,<span class="tok-mi">9</span>,<span class="tok-mi">11</span>,<span class="tok-mi">8</span>,<span class="tok-mi">7</span>,<span class="tok-mi">10</span>],
                                            <span class="tok-n">ligne-valeurs</span> =&gt; [<span class="tok-mi">9</span>,<span class="tok-mi">8</span>,<span class="tok-mi">10</span>,<span class="tok-mi">7</span>,<span class="tok-mi">6</span>,<span class="tok-mi">9</span>]);
<span class="tok-nb">say</span> <span class="tok-s">&quot;Ventes Réelles:&quot;</span>;
<span class="tok-nv">$ventes-réelles</span>.<span class="tok-n">dessiner</span>;
<span class="tok-nb">say</span> <span class="tok-s">&quot;Ventes Prévisionelles:&quot;</span>;
<span class="tok-nv">$ventes-prévisions</span>.<span class="tok-n">dessiner</span>;
<span class="tok-nb">say</span> <span class="tok-s">&quot;Réelles vs Prévisionelles:&quot;</span>;
<span class="tok-nv">$réelles-vs-prévisions</span>.<span class="tok-n">dessiner</span>;</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title"><code>Sortie</code></div>
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span>===<span class="tok-n">SORRY</span>!===
<span class="tok-nb">Method</span> <span class="tok-s">&#39;dessiner&#39;</span> <span class="tok-n">must</span> <span class="tok-n">be</span> <span class="tok-n">resolved</span> <span class="tok-nb">by</span> <span class="tok-k">class</span> <span class="tok-n">combo-graph</span> <span class="tok-n">because</span> <span class="tok-n">it</span> <span class="tok-nb">exists</span> <span class="tok-n">in</span> <span class="tok-n">multiple</span> <span class="tok-n">roles</span> (<span class="tok-n">ligne-graph</span>, <span class="tok-n">barre-graph</span>)</code></pre>
</div>
</div>
<div class="paragraph">
<div class="title">Explication</div>
<p>Si plusieurs rôles sont appliqués à la même classe, et un conflit survient, une erreur de compilation sera lancée.<br>
Ceci est une approche plus sûre que l&#8217;héritage multiple, où les conflits ne sont pas pris comme des erreurs et sont résolus à l&#8217;exécution.</p>
</div>
<div class="paragraph">
<p>Les rôles vous avertirons en cas de conflit.</p>
</div>
</div>
<div class="sect2">
<h3 id="_introspection_2">9.10. Introspection</h3>
<div class="paragraph">
<p>L'<strong>introspection</strong> sert à obtenir des informations sur les propriétés d&#8217;un objet: comme son type, ses attributs ou ses méthodes.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">class</span> <span class="tok-n">Humain</span> {
  <span class="tok-k">has</span> <span class="tok-nv">$.nom</span>;
  <span class="tok-k">has</span> <span class="tok-nv">$.age</span>;
  <span class="tok-k">method</span> <span class="tok-n">présentez-vous</span> {
    <span class="tok-nb">say</span> <span class="tok-s">&quot;Bonjour je suis un être humain, et je m&#39;appelle &quot;</span> ~ <span class="tok-k">self</span>.<span class="tok-n">nom</span>;
  }
}

<span class="tok-k">class</span> <span class="tok-n">Employé</span> <span class="tok-k">is</span> <span class="tok-n">Humain</span> {
  <span class="tok-k">has</span> <span class="tok-nv">$.société</span>;
  <span class="tok-k">has</span> <span class="tok-nv">$.salaire</span>;
}

<span class="tok-k">my</span> <span class="tok-nv">$françois</span> = <span class="tok-n">Humain</span>.<span class="tok-nb">new</span>(<span class="tok-n">nom</span> =&gt; <span class="tok-s">&#39;François&#39;</span>, <span class="tok-n">age</span> =&gt; <span class="tok-mi">23</span>,);
<span class="tok-k">my</span> <span class="tok-nv">$anne</span> = <span class="tok-n">Employé</span>.<span class="tok-nb">new</span>(<span class="tok-n">nom</span> =&gt; <span class="tok-s">&#39;Anne&#39;</span>, <span class="tok-n">age</span> =&gt; <span class="tok-mi">25</span>, <span class="tok-n">société</span> =&gt; <span class="tok-s">&#39;Acme&#39;</span>, <span class="tok-n">salaire</span> =&gt; <span class="tok-mi">2000</span>);

<span class="tok-nv">$françois</span>.<span class="tok-n">présentez-vous</span>;
<span class="tok-nv">$anne</span>.<span class="tok-n">présentez-vous</span>;

<span class="tok-nb">say</span> <span class="tok-nv">$françois</span>.<span class="tok-nb">WHAT</span>;
<span class="tok-nb">say</span> <span class="tok-nv">$anne</span>.<span class="tok-nb">WHAT</span>;
<span class="tok-nb">say</span> <span class="tok-nv">$françois</span>.^<span class="tok-n">attributes</span>;
<span class="tok-nb">say</span> <span class="tok-nv">$anne</span>.^<span class="tok-n">attributes</span>;
<span class="tok-nb">say</span> <span class="tok-nv">$françois</span>.^<span class="tok-n">methods</span>;
<span class="tok-nb">say</span> <span class="tok-nv">$anne</span>.^<span class="tok-n">methods</span>;
<span class="tok-nb">say</span> <span class="tok-nv">$anne</span>.^<span class="tok-n">parents</span>;
<span class="tok-k">if</span> <span class="tok-nv">$anne</span> ~~ <span class="tok-n">Humain</span> {<span class="tok-nb">say</span> <span class="tok-s">&#39;anne est un être humain&#39;</span>};</code></pre>
</div>
</div>
<div class="paragraph">
<p>L&#8217;introspection est facilitée par:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>.WHAT</code> renvoie la classe depuis laquelle l&#8217;objet a été créé.</p>
</li>
<li>
<p><code>.^attributes</code> renvoie une liste qui contient tous les attributs de l&#8217;objet.</p>
</li>
<li>
<p><code>.^methods</code> renvoie toutes les méthodes implémentables de l&#8217;objet.</p>
</li>
<li>
<p><code>.^parents</code> renvoie toutes les classes parentes de la classe à laquelle appartient l&#8217;objet.</p>
</li>
<li>
<p><code>~~</code> est appelé l&#8217;opérateur de correspondance intelligente (smart-match).
Il renvoie <em>Vrai</em> si l&#8217;objet correspond à sa classe de création ou à une de celles dont elle a hérité.</p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_gestion_des_exceptions">10. Gestion des exceptions</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_capture_des_exceptions">10.1. Capture des Exceptions</h3>
<div class="paragraph">
<p>Les <strong>exceptions</strong> son un comportement particulier qui intervient quand quelque chose se passe mal à l&#8217;execution.<br>
On dit que les exceptions sont <em>lancées</em> ou générées.</p>
</div>
<div class="paragraph">
<p>Le script ci-dessous, qui s&#8217;exécute correctement:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">my</span> <span class="tok-nb">Str</span> <span class="tok-nv">$nom</span>;
<span class="tok-nv">$nom</span> = <span class="tok-s">&quot;Josiane&quot;</span>;
<span class="tok-nb">say</span> <span class="tok-s">&quot;Bonjour &quot;</span> ~ <span class="tok-nv">$nom</span>;
<span class="tok-nb">say</span> <span class="tok-s">&quot;Comment ça va?&quot;</span></code></pre>
</div>
</div>
<div class="listingblock">
<div class="title"><code>Sortie</code></div>
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-n">Bonjour</span> <span class="tok-n">Josiane</span>
<span class="tok-n">Comment</span> <span class="tok-n">ça</span> <span class="tok-n">va</span>?</code></pre>
</div>
</div>
<div class="paragraph">
<p>Maintenant, voici un script analogue qui lance une exception:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">my</span> <span class="tok-nb">Str</span> <span class="tok-nv">$nom</span>;
<span class="tok-nv">$nom</span> = <span class="tok-mi">123</span>;
<span class="tok-nb">say</span> <span class="tok-s">&quot;Bonjour &quot;</span> ~ <span class="tok-nv">$nom</span>;
<span class="tok-nb">say</span> <span class="tok-s">&quot;Comment ça va?&quot;</span></code></pre>
</div>
</div>
<div class="listingblock">
<div class="title"><code>Sortie</code></div>
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-n">Type</span> <span class="tok-n">check</span> <span class="tok-n">failed</span> <span class="tok-n">in</span> <span class="tok-n">assignment</span> <span class="tok-nb">to</span> <span class="tok-nv">$nom</span>; <span class="tok-n">expected</span> <span class="tok-nb">Str</span> <span class="tok-k">but</span> <span class="tok-n">got</span> <span class="tok-nb">Int</span> (<span class="tok-mi">123</span>)</code></pre>
</div>
</div>
<div class="paragraph">
<p>Vous remarquerez que quand une erreur survient (ici affecter un nombre à une variable de chaîne), le programme s&#8217;arrête et les lignes suivantes ne seront pas évaluées, même si elles sont correctes.</p>
</div>
<div class="paragraph">
<p>La <strong>gestion des exceptions</strong> <em>capture</em> une exception qui a été <em>lancée</em> afin que le script puisse continuer à fonctionner.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">my</span> <span class="tok-nb">Str</span> <span class="tok-nv">$nom</span>;
<span class="tok-k">try</span> {
  <span class="tok-nv">$nom</span> = <span class="tok-mi">123</span>;
  <span class="tok-nb">say</span> <span class="tok-s">&quot;Hello &quot;</span> ~ <span class="tok-nv">$nom</span>;
  <span class="tok-k">CATCH</span> {
    <span class="tok-k">default</span> {
      <span class="tok-nb">say</span> <span class="tok-s">&quot;Pouvez vous nous redonner votre nom, nous ne l&#39;avons pas trouvé dans le registre.&quot;</span>;
    }
  }
}
<span class="tok-nb">say</span> <span class="tok-s">&quot;Comment ça va?&quot;</span>;</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title"><code>Sortie</code></div>
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-n">Pouvez</span> <span class="tok-n">vous</span> <span class="tok-n">nous</span> <span class="tok-n">redonner</span> <span class="tok-n">votre</span> <span class="tok-n">nom</span>, <span class="tok-n">nous</span> <span class="tok-o">ne</span> <span class="tok-n">l&#39;avons</span> <span class="tok-n">pas</span> <span class="tok-n">trouvé</span> <span class="tok-n">dans</span> <span class="tok-o">le</span> <span class="tok-n">registre</span>.
<span class="tok-n">Comment</span> <span class="tok-n">ça</span> <span class="tok-n">va</span>?</code></pre>
</div>
</div>
<div class="paragraph">
<p>La gestion d&#8217;exception se fait en utilisant un bloc <code>try-CATCH</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">try</span> {
  <span class="tok-c1">#le code va ici</span>
  <span class="tok-c1">#si quelque chose se passe mal le script entre dans le bloc CATCH</span>
  <span class="tok-c1">#si tout se passe bien, le bloc CATCH sera ignoré</span>
  <span class="tok-k">CATCH</span> {
    <span class="tok-k">default</span> {
      <span class="tok-c1">#le code présent ici ne sera évalué que si une exception a été lancée</span>
    }
  }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Un bloc <code>CATCH</code> peut se définir de la même façon qu&#8217;un bloc <code>given</code>.
Ce qui implique qu&#8217;on puisse faire un <em>catch</em> sur différent types d&#8217;exceptions.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">try</span> {
  <span class="tok-c1">#le code va ici</span>
  <span class="tok-c1">#si quelque chose se passe mal le script entre dans le bloc CATCH</span>
  <span class="tok-c1">#si tout se passe bien, le bloc CATCH sera ignoré</span>
  <span class="tok-k">CATCH</span> {
    <span class="tok-k">when</span> <span class="tok-o">X</span>::<span class="tok-n">AdHoc</span> { <span class="tok-c1">#faire quelque chose si une exception de type X::AdHoc est lancée }</span>
    <span class="tok-k">when</span> <span class="tok-o">X</span>::<span class="tok-n">IO</span> { <span class="tok-c1">#faire quelque chose si une exception de type X::IO est lancée }</span>
    <span class="tok-k">when</span> <span class="tok-o">X</span>::<span class="tok-n">OS</span> { <span class="tok-c1">#faire quelque chose si une exception de type X::OS est lancée }</span>
    <span class="tok-k">default</span> { <span class="tok-c1">#faire quelque chose si une exception est lancée qui ne correspond pas aux types précédents }</span>
  }
}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_lancer_des_exceptions">10.2. Lancer des exceptions</h3>
<div class="paragraph">
<p>A l&#8217;inverse de capturer les exceptions, Raku vous permet aussi d&#8217;en lancer.<br>
On peut lancer deux types d&#8217;exceptions:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>les exceptions ad-hoc</p>
</li>
<li>
<p>les exceptions typées</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="title">ad-hoc</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">my</span> <span class="tok-nb">Int</span> <span class="tok-nv">$age</span> = <span class="tok-mi">21</span>;
<span class="tok-k">die</span> <span class="tok-s">&quot;Erreur !&quot;</span>;</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">typed</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">my</span> <span class="tok-nb">Int</span> <span class="tok-nv">$age</span> = <span class="tok-mi">21</span>;
<span class="tok-o">X</span>::<span class="tok-n">AdHoc</span>.<span class="tok-nb">new</span>(<span class="tok-n">payload</span> =&gt; <span class="tok-s">&#39;Erreur !&#39;</span>).<span class="tok-n">throw</span>;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Les exceptions ad hoc sont lancées en utilisant la routine <code>die</code> suivie du message de l&#8217;exception.</p>
</div>
<div class="paragraph">
<p>Les exceptions typées sont des objets, d&#8217;où l&#8217;utilisation du constructeur <code>.new()</code> dans l&#8217;exemple ci-dessus.<br>
Toutes les exceptions déscendent de la classe <code>X</code>, quelques exemples ci-dessous:<br>
<code>X::AdHoc</code> est le type le plus simple d&#8217;exception<br>
<code>X::IO</code> est lié aux erreurs IO (entrées/sorties)<br>
<code>X::OS</code> est lié aux erreurs OS (système)<br>
<code>X::Str::Numeric</code> est lié aux erreurs de conversion d&#8217;une chaîne vers un nombre.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Pour une liste complète des types d&#8217;exceptions et une liste de leurs méthodes associées, allez sur <a href="https://docs.raku.org/type.html" class="bare">https://docs.raku.org/type.html</a> et naviguez dans les types qui commencent par X.
</td>
</tr>
</table>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_expressions_régulières">11. Expressions régulières</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Une expression régulières, ou <em>regex</em> est une séquence de caractères utilisée pour le filtrage par motif.<br>
La méthode la plus simple pour concevoir ce système, est d&#8217;y penser comme un motif qui peut être répété/isolé/extrait.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">if</span> <span class="tok-s">&#39;ensoleillement&#39;</span> ~~ <span class="tok-sr">m/ soleil /</span> {
    <span class="tok-nb">say</span> <span class="tok-s">&quot;ensoleillement contient le mot soleil&quot;</span>;
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Dans cet exemple l&#8217;opérateur de correspondance intelligent (smart-match) <code>~~</code> est utilisé pour vérifier si une chaîne de caractères (ensoleillement) contient le mot (soleil).<br>
"ensoleillement" est comparé à la regex <code>m/ soleil /</code>.</p>
</div>
<div class="sect2">
<h3 id="_définition_dune_regex">11.1. Définition d&#8217;une regex</h3>
<div class="paragraph">
<p>Une expression régulière peut être définie comme suit:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>/soleil/</code></p>
</li>
<li>
<p><code>m/soleil/</code></p>
</li>
<li>
<p><code>rx/soleil/</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Les espaces, sauf si spécifiés comme requis explicitement, ne sont pas pris en compte: <code>m/soleil/</code> and <code>m/ soleil /</code> sont identiques.</p>
</div>
</div>
<div class="sect2">
<h3 id="_correspondance_par_caractères">11.2. Correspondance par caractères</h3>
<div class="paragraph">
<p>Les caractères alphanumériques et le tiret bas <code>_</code> sont utilisés tels quels.<br>
Tous les autres caractères doivent être "protégés" en les préfixant de la barre oblique inversée, ou mis entre guillemets (simples ou doubles).</p>
</div>
<div class="listingblock">
<div class="title">Barre oblique inversée</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">if</span> <span class="tok-s">&#39;Température: 13&#39;</span> ~~ <span class="tok-sr">m/ \: /</span> {
    <span class="tok-nb">say</span> <span class="tok-s">&quot;La chaîne fournie contient le caractère deux-points :&quot;</span>;
}</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Guillemets droits simples</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">if</span> <span class="tok-s">&#39;Age = 13&#39;</span> ~~ <span class="tok-sr">m/ &#39;=&#39; /</span> {
    <span class="tok-nb">say</span> <span class="tok-s">&quot;La chaîne fournie contient le caractère égal = &quot;</span>;
}</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Guillemets droits doules</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">if</span> <span class="tok-s">&#39;nom@société.com&#39;</span> ~~ <span class="tok-sr">m/ &quot;@&quot; /</span> {
    <span class="tok-nb">say</span> <span class="tok-s">&quot;Cette adresse mail semble valide car elle contient un caractère @&quot;</span>;
}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_comparaison_par_catégories_de_caractères">11.3. Comparaison par catégories de caractères</h3>
<div class="paragraph">
<p>Les caractères peuvent être réunis en catégories de reconnaissances.<br>
On peut également utiliser la négation d&#8217;une catégorie (tout sauf cette catégorie):</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Catégorie</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Regex</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Inverse</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Regex</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Caractère de mot (lettre, chiffre, ou tiret bas)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">\w</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Tout caractère sauf caractère de mot</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">\W</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Chiffre</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">\d</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Tout caractère sauf un chiffre</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">\D</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Espace</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">\s</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Tout caractère sauf espace</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">\S</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Espace horizontal</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">\h</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Tout caractère sauf espace Horizontal</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">\H</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Espace vertical</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">\v</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Tout caractère sauf espace vertical</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">\V</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Tabulation</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">\t</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Tout caractère sauf tabulation</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">\T</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Saut de ligne</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">\n</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Tout caractère sauf saut de ligne</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">\N</p></td>
</tr>
</tbody>
</table>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">if</span> <span class="tok-s">&quot;Robert123&quot;</span> ~~<span class="tok-sr"> / \d /</span> {
  <span class="tok-nb">say</span> <span class="tok-s">&quot;Pas de comparaison valide car pas de chiffres&quot;</span>;
} <span class="tok-k">else</span> {
  <span class="tok-nb">say</span> <span class="tok-s">&quot;Comparaison valide, car un chiffre&quot;</span>
}
<span class="tok-k">if</span> <span class="tok-s">&quot;John-Doe&quot;</span> ~~<span class="tok-sr"> / \s /</span> {
  <span class="tok-nb">say</span> <span class="tok-s">&quot;Cette chaîne contient un espace&quot;</span>;
} <span class="tok-k">else</span> {
  <span class="tok-nb">say</span> <span class="tok-s">&quot;Cette chaîne ne contient pas d&#39;espace&quot;</span>
}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_propriétés_unicode">11.4. Propriétés unicode</h3>
<div class="paragraph">
<p>La section précédente montre l&#8217;utilité d&#8217;utiliser des catégories de caractères.<br>
Ceci dit, une approche plus systématique pourrait être d&#8217;utiliser les propriétés Unicode.<br>
Les propriétés Unicode sont notées à l&#8217;intérieur de <code>&lt;: &gt;</code></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">if</span> <span class="tok-s">&quot;Robert123&quot;</span> ~~<span class="tok-sr"> / &lt;:N&gt; /</span> {
  <span class="tok-nb">say</span> <span class="tok-s">&quot;Contient un chiffre&quot;</span>;
} <span class="tok-k">else</span> {
  <span class="tok-nb">say</span> <span class="tok-s">&quot;Ne contient pas un chiffre&quot;</span>
}
<span class="tok-k">if</span> <span class="tok-s">&quot;Albert-Ebasque&quot;</span> ~~<span class="tok-sr"> / &lt;:Lu&gt; /</span> {
  <span class="tok-nb">say</span> <span class="tok-s">&quot;Contient une lettre en majuscule&quot;</span>;
} <span class="tok-k">else</span> {
  <span class="tok-nb">say</span> <span class="tok-s">&quot;Ne contient de lettre en majuscule&quot;</span>
}
<span class="tok-k">if</span> <span class="tok-s">&quot;Albert-Ebasque&quot;</span> ~~<span class="tok-sr"> / &lt;:Pd&gt; /</span> {
  <span class="tok-nb">say</span> <span class="tok-s">&quot;Contient un tiret&quot;</span>;
} <span class="tok-k">else</span> {
  <span class="tok-nb">say</span> <span class="tok-s">&quot;Ne contient pas un tiret&quot;</span>
}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_métacaractères">11.5. Métacaractères</h3>
<div class="paragraph">
<p>Les métacaractères (wildcards) peuvent également être utilisés dans les regex.</p>
</div>
<div class="paragraph">
<p>Le point <code>.</code> signifie n&#8217;importe quel caractère unique.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">if</span> <span class="tok-s">&#39;abc&#39;</span> ~~ <span class="tok-sr">m/ a.c /</span> {
    <span class="tok-nb">say</span> <span class="tok-s">&quot;Correspondance&quot;</span>;
}
<span class="tok-k">if</span> <span class="tok-s">&#39;a2c&#39;</span> ~~ <span class="tok-sr">m/ a.c /</span> {
    <span class="tok-nb">say</span> <span class="tok-s">&quot;Correspondance&quot;</span>;
}
<span class="tok-k">if</span> <span class="tok-s">&#39;ac&#39;</span> ~~ <span class="tok-sr">m/ a.c /</span> {
    <span class="tok-nb">say</span> <span class="tok-s">&quot;Correspondance&quot;</span>;
  } <span class="tok-k">else</span> {
    <span class="tok-nb">say</span> <span class="tok-s">&quot;Pas de Correspondance&quot;</span>;
}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_quantificateurs">11.6. Quantificateurs</h3>
<div class="paragraph">
<p>Les quantificateurs viennent après un caractère et sont utilisés pour déterminer le nombre de fois qu&#8217;il doit apparaître.</p>
</div>
<div class="paragraph">
<p>Le point d&#8217;interrogation <code>?</code> signifie zéro ou une fois.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">if</span> <span class="tok-s">&#39;ac&#39;</span> ~~ <span class="tok-sr">m/ a?c /</span> {
    <span class="tok-nb">say</span> <span class="tok-s">&quot;Correspondance&quot;</span>;
  } <span class="tok-k">else</span> {
    <span class="tok-nb">say</span> <span class="tok-s">&quot;Pas de Correspondance&quot;</span>;
}
<span class="tok-k">if</span> <span class="tok-s">&#39;c&#39;</span> ~~ <span class="tok-sr">m/ a?c /</span> {
    <span class="tok-nb">say</span> <span class="tok-s">&quot;Correspondance&quot;</span>;
  } <span class="tok-k">else</span> {
    <span class="tok-nb">say</span> <span class="tok-s">&quot;Pas de Correspondance&quot;</span>;
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>L&#8217;astérisque <code>*</code> signifie zéro ou plusieurs fois.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">if</span> <span class="tok-s">&#39;az&#39;</span> ~~ <span class="tok-sr">m/ a*z /</span> {
    <span class="tok-nb">say</span> <span class="tok-s">&quot;Correspondance&quot;</span>;
  } <span class="tok-k">else</span> {
    <span class="tok-nb">say</span> <span class="tok-s">&quot;Pas de Correspondance&quot;</span>;
}
<span class="tok-k">if</span> <span class="tok-s">&#39;aaz&#39;</span> ~~ <span class="tok-sr">m/ a*z /</span> {
    <span class="tok-nb">say</span> <span class="tok-s">&quot;Correspondance&quot;</span>;
  } <span class="tok-k">else</span> {
    <span class="tok-nb">say</span> <span class="tok-s">&quot;Pas de Correspondance&quot;</span>;
}
<span class="tok-k">if</span> <span class="tok-s">&#39;aaaaaaaaaaz&#39;</span> ~~ <span class="tok-sr">m/ a*z /</span> {
    <span class="tok-nb">say</span> <span class="tok-s">&quot;Correspondance&quot;</span>;
  } <span class="tok-k">else</span> {
    <span class="tok-nb">say</span> <span class="tok-s">&quot;Pas de Correspondance&quot;</span>;
}
<span class="tok-k">if</span> <span class="tok-s">&#39;z&#39;</span> ~~ <span class="tok-sr">m/ a*z /</span> {
    <span class="tok-nb">say</span> <span class="tok-s">&quot;Correspondance&quot;</span>;
  } <span class="tok-k">else</span> {
    <span class="tok-nb">say</span> <span class="tok-s">&quot;Pas de Correspondance&quot;</span>;
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Le <code>+</code> signifie au moins une fois.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">if</span> <span class="tok-s">&#39;az&#39;</span> ~~ <span class="tok-sr">m/ a+z /</span> {
    <span class="tok-nb">say</span> <span class="tok-s">&quot;Correspondance&quot;</span>;
  } <span class="tok-k">else</span> {
    <span class="tok-nb">say</span> <span class="tok-s">&quot;Pas de Correspondance&quot;</span>;
}
<span class="tok-k">if</span> <span class="tok-s">&#39;aaz&#39;</span> ~~ <span class="tok-sr">m/ a+z /</span> {
    <span class="tok-nb">say</span> <span class="tok-s">&quot;Correspondance&quot;</span>;
  } <span class="tok-k">else</span> {
    <span class="tok-nb">say</span> <span class="tok-s">&quot;Pas de Correspondance&quot;</span>;
}
<span class="tok-k">if</span> <span class="tok-s">&#39;aaaaaaaaaaz&#39;</span> ~~ <span class="tok-sr">m/ a+z /</span> {
    <span class="tok-nb">say</span> <span class="tok-s">&quot;Correspondance&quot;</span>;
  } <span class="tok-k">else</span> {
    <span class="tok-nb">say</span> <span class="tok-s">&quot;Pas de Correspondance&quot;</span>;
}
<span class="tok-k">if</span> <span class="tok-s">&#39;z&#39;</span> ~~ <span class="tok-sr">m/ a+z /</span> {
    <span class="tok-nb">say</span> <span class="tok-s">&quot;Correspondance&quot;</span>;
  } <span class="tok-k">else</span> {
    <span class="tok-nb">say</span> <span class="tok-s">&quot;Pas de Correspondance&quot;</span>;
}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_résultats_de_correspondance">11.7. Résultats de correspondance</h3>
<div class="paragraph">
<p>Quand la mise en correspondance avec une regex est positive,
le résultat est stocké dans la variable spéciale <code>$/</code></p>
</div>
<div class="listingblock">
<div class="title">Script</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">if</span> <span class="tok-s">&#39;Rakudo est un compilateur Raku&#39;</span> ~~ <span class="tok-sr">m/compilateur/</span> {
    <span class="tok-nb">say</span> <span class="tok-s">&quot;La correspondance est: &quot;</span> ~ <span class="tok-vg">$/</span>;
    <span class="tok-nb">say</span> <span class="tok-s">&quot;La chaîne avant la correspondance est: &quot;</span> ~ <span class="tok-vg">$/</span>.<span class="tok-n">prematch</span>;
    <span class="tok-nb">say</span> <span class="tok-s">&quot;La chaîne après la correspondance est: &quot;</span> ~ <span class="tok-vg">$/</span>.<span class="tok-n">postmatch</span>;
    <span class="tok-nb">say</span> <span class="tok-s">&quot;La chaîne reconnue commence à la position: &quot;</span> ~ <span class="tok-vg">$/</span>.<span class="tok-nb">from</span>;
    <span class="tok-nb">say</span> <span class="tok-s">&quot;La chaîne reconnue finit à la position: &quot;</span> ~ <span class="tok-vg">$/</span>.<span class="tok-nb">to</span>;
}</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Sortie</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-n">La</span> <span class="tok-n">correspondance</span> <span class="tok-n">est:</span> <span class="tok-n">compilateur</span>
<span class="tok-n">La</span> <span class="tok-n">chaîne</span> <span class="tok-n">avant</span> <span class="tok-n">la</span> <span class="tok-n">correspondance</span> <span class="tok-n">est:</span> <span class="tok-n">Rakudo</span> <span class="tok-n">est</span> <span class="tok-n">un</span>
<span class="tok-n">La</span> <span class="tok-n">chaîne</span> <span class="tok-n">après</span> <span class="tok-n">la</span> <span class="tok-n">correspondance</span> <span class="tok-n">est:</span>  <span class="tok-n">Raku</span>
<span class="tok-n">La</span> <span class="tok-n">chaîne</span> <span class="tok-n">reconnue</span> <span class="tok-n">commence</span> <span class="tok-n">à</span> <span class="tok-n">la</span> <span class="tok-n">position:</span> <span class="tok-mi">14</span>
<span class="tok-n">La</span> <span class="tok-n">chaîne</span> <span class="tok-n">reconnue</span> <span class="tok-n">finit</span> <span class="tok-n">à</span> <span class="tok-n">la</span> <span class="tok-n">position:</span> <span class="tok-mi">25</span></code></pre>
</div>
</div>
<div class="paragraph">
<div class="title">Explication</div>
<p><code>$/</code> renvoie un <em>Objet de Correspondance</em> (Match Object), c&#8217;est-à-dire la chaîne qui correspond à la regex<br>
Les méthodes suivantes peuvent être appelées sur l'<em>Objet de Correspondance</em>:<br>
<code>.prematch</code> renvoie la chaîne qui précède la correspondance.<br>
<code>.postmatch</code> renvoie la chaîne qui suit la correspondance.<br>
<code>.from</code> renvoie la position de départ de la correspondance.<br>
<code>.to</code> renvoie la position de fin de la correspondance.<br></p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
Par défaut le caractère espace n&#8217;est pas pris en compte.<br>
Si nous voulons faire une correspondance avec une regex contenant un espace nous devons le définir explicitement.<br>
Le <code>:s</code> dans la regex <code>m/:s Raku 楽/</code> force l&#8217;espace à être considéré et non ignoré.<br>
D&#8217;une autre façon, nous aurions pu écrire la regex comme ceci: <code>m/ Perl\s楽/</code> en utilisant comme vu précédemment <code>\s</code> comme indicateur d&#8217;un espace.<br>
Si une regex contient plusieurs espaces, utiliser <code>:s</code> devient plus efficace que l&#8217;utilisation de <code>\s</code> pour chaque espace.
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_exemple">11.8. Exemple</h3>
<div class="paragraph">
<p>Vérifions si une adresse mail est valide ou non.<br>
Pour la pertinence de cet exemple nous conviendrons qu&#8217;une adresse mail est valide si elle est formée comme suit:<br>
prénom [point] nom [arobase] société [point] (com/org/net)</p>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
La regex utilisée ici pour la validation de mail est très insuffisante.<br>
Elle ne sert ici qu&#8217;à titre d&#8217;exemple pour demontrer les fonctionnalités de regex de Raku.<br>
Ne pas l&#8217;utiliser telle quelle en production.
</td>
</tr>
</table>
</div>
<div class="listingblock">
<div class="title">Script</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">my</span> <span class="tok-nv">$email</span> = <span class="tok-s">&#39;sam.suffit@raku.org&#39;</span>;
<span class="tok-k">my</span> <span class="tok-nv">$regex</span> =<span class="tok-sr"> / &lt;:L&gt;+\.&lt;:L&gt;+\@&lt;:L+:N&gt;+\.&lt;:L&gt;+ /</span>;

<span class="tok-k">if</span> <span class="tok-nv">$email</span> ~~ <span class="tok-nv">$regex</span> {
  <span class="tok-nb">say</span> <span class="tok-vg">$/</span> ~ <span class="tok-s">&quot; est une adresse mail valide&quot;</span>;
} <span class="tok-k">else</span> {
  <span class="tok-nb">say</span> <span class="tok-s">&quot;n&#39;est pas une adresse mail valide&quot;</span>;
}</code></pre>
</div>
</div>
<div class="paragraph">
<div class="title">Sortie</div>
<p><code>sam.suffit@raku.org est une adresse mail valide</code></p>
</div>
<div class="paragraph">
<div class="title">Explication</div>
<p><code>&lt;:L&gt;</code> correspond à une lettre<br>
<code>&lt;:L&gt;+</code> correspond à une lettre ou plus<br>
<code>\.</code> correspond à un caractère [point]<br>
<code>\@</code> correspond a un caractère [arobase]<br>
<code>&lt;:L+:N&gt;</code> correspond à une lettre ou un chiffre<br>
<code>&lt;:L+:N&gt;+</code> correspond à une lettre ou un chiffre, plusieurs fois<br></p>
</div>
<div class="paragraph">
<p>La regex peut être décomposée comme suit:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>nom</strong> <code>&lt;:L&gt;+</code></p>
</li>
<li>
<p><strong>[point]</strong> <code>\.</code></p>
</li>
<li>
<p><strong>prénom</strong> <code>&lt;:L&gt;+</code></p>
</li>
<li>
<p><strong>[arobase]</strong> <code>\@</code></p>
</li>
<li>
<p><strong>nom de la société</strong> <code>&lt;:L+:N&gt;+</code></p>
</li>
<li>
<p><strong>[point]</strong> <code>\.</code></p>
</li>
<li>
<p><strong>com/org/net</strong> <code>&lt;:L&gt;+</code></p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="title">D&#8217;une autre façon, une regex peut être divisée en plusieurs regex nommées:</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">my</span> <span class="tok-nv">$email</span> = <span class="tok-s">&#39;sam.suffit@raku.org&#39;</span>;
<span class="tok-k">my</span> <span class="tok-k">regex</span><span class="tok-n"> lettres</span> {<span class="tok-sr"> &lt;:L&gt;+ </span>};
<span class="tok-k">my</span> <span class="tok-k">regex</span><span class="tok-n"> point</span> {<span class="tok-sr"> \. </span>};
<span class="tok-k">my</span> <span class="tok-k">regex</span><span class="tok-n"> arobase</span> {<span class="tok-sr"> \@ </span>};
<span class="tok-k">my</span> <span class="tok-k">regex</span><span class="tok-n"> lettres-et-chiffres</span> {<span class="tok-sr"> &lt;:L+:N&gt;+ </span>};

<span class="tok-k">if</span> <span class="tok-nv">$email</span> ~~<span class="tok-sr"> / &lt;lettres&gt; &lt;point&gt; &lt;lettres&gt; &lt;arobase&gt; &lt;lettres-et-chiffres&gt; &lt;point&gt; &lt;lettres&gt; /</span> {
  <span class="tok-nb">say</span> <span class="tok-vg">$/</span> ~ <span class="tok-s">&quot; est une adresse mail valide&quot;</span>;
} <span class="tok-k">else</span> {
  <span class="tok-nb">say</span> <span class="tok-s">&quot;Ce n&#39;est pas une adresse mail valide&quot;</span>;
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Une regex nommée est définie en utilisant la syntaxe suivante: <code>my regex nom-de-la-regex { définition de la regex }</code><br>
Une regex nommée peut être appelée en utilisant la syntaxe suivante: <code>&lt;nom-de-la-regex&gt;</code></p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Pour plus de détails sur les regexes, voir <a href="https://docs.raku.org/language/regexes" class="bare">https://docs.raku.org/language/regexes</a>
</td>
</tr>
</table>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_modules_raku">12. Modules Raku</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Raku est un langage à but générique. Il peut être utilisé pour remplir plusieurs taches, incluant:
traitement d&#8217;un texte, image, web, bases de données, protocoles réseau, etc.</p>
</div>
<div class="paragraph">
<p>La réusabilité est un concept très important qui permet aux programmeurs de ne pas réinventer la roue à chaque nouvelle tache.</p>
</div>
<div class="paragraph">
<p>Raku permet la création et la redistribution de <strong>modules</strong>. Chaque module donne une série de fonctionnalités empaquetées, qui une fois installées, peuvent être réutilisées.</p>
</div>
<div class="paragraph">
<p><em>Zef</em> et un outil de gestion de modules livré avec Rakudo.</p>
</div>
<div class="paragraph">
<p>Pour installer un module spécifique, taper la commande suivante dans votre terminal:</p>
</div>
<div class="paragraph">
<p><code>zef install "nom du module"</code></p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Une liste des modules Raku se trouve ici: <a href="https://modules.raku.org" class="bare">https://modules.raku.org</a>
</td>
</tr>
</table>
</div>
<div class="sect2">
<h3 id="_utiliser_les_modules">12.1. Utiliser les modules</h3>
<div class="paragraph">
<p>MD5 est une fonction de hachage cryptographique qui produit une valeur de hachage de 128-bit.<br>
MD5 a de nombreuses utilités, dont le chiffrage des mots de passe stockés dans une base de données.
Quand un nouvel utilisateur s&#8217;inscrit, ses références ne sont pas stockées en texte brut, mais sous forme de <em>hachage</em>.
L&#8217;idée derrière tout ceci est que si la base de données est compromise, l&#8217;attaquant ne pourra pas identifier les mots de passe.</p>
</div>
<div class="paragraph">
<p>Disons que vous ayez besoin d&#8217;un script qui génère un hachage MD5 sur un mot de passe avant stockage dans la base de données.</p>
</div>
<div class="paragraph">
<p>Heureusement, Raku possède un module qui implémente l&#8217;algorithme de hachage MD5. Installons-le:<br>
<code>zef install Digest::MD5</code></p>
</div>
<div class="paragraph">
<p>Maintenant, lançons le script suivant:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">use</span> <span class="tok-n">Digest::MD5</span>;
<span class="tok-k">my</span> <span class="tok-nv">$secret</span> = <span class="tok-s">&quot;secret123&quot;</span>;
<span class="tok-k">my</span> <span class="tok-nv">$secret-h</span> = <span class="tok-n">Digest::MD5</span>.<span class="tok-nb">new</span>.<span class="tok-n">md5_hex</span>(<span class="tok-nv">$secret</span>);

<span class="tok-nb">say</span> <span class="tok-nv">$secret-h</span>;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Pour lancer la fonction <code>md5_hex()</code> qui crée les hachages, nous devons charger le module voulu.<br>
Le mot-clef <code>use</code> charge le module pour son utilisation dans le script.</p>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
Dans la pratique, le hachage MD5 n&#8217;est pas suffisant, car vulnérable aux attaques par dictionnaire.<br>
Il doit être combiné avec un "salage" <a href="https://fr.wikipedia.org/wiki/Salage_(cryptographie)">https://fr.wikipedia.org/wiki/Salage_(cryptographie)</a>.
</td>
</tr>
</table>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_unicode">13. Unicode</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Unicode est un standard informatique de représentation du texte, qui prend en compte la la plupart des systèmes d&#8217;écriture dans le monde.<br>
UTF-8 est un encodage de caractères, capable d&#8217;encoder tous les caractères (ou "Points de code") en Unicode.</p>
</div>
<div class="paragraph">
<p>Les caractères sont définis par un:<br>
<strong>Graphème</strong>: Représentation visuelle.<br>
<strong>Point de code</strong>: Un nombre assigné à un caractère.</p>
</div>
<div class="sect2">
<h3 id="_utiliser_unicode">13.1. Utiliser Unicode</h3>
<div class="listingblock">
<div class="title">Voyons comment nous pouvons générer des caractères en utilisant Unicode</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-nb">say</span> <span class="tok-s">&quot;a&quot;</span>;
<span class="tok-nb">say</span> <span class="tok-s">&quot;\x0061&quot;</span>;
<span class="tok-nb">say</span> <span class="tok-s">&quot;\c[LATIN SMALL LETTER A]&quot;</span>;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Les trois lignes ci-dessus montrent les différentes façons de construire un caractère:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Ecriture directe (graphème)</p>
</li>
<li>
<p>Utilisation de <code>\x</code> suivit du point de code</p>
</li>
<li>
<p>Utilisation de <code>\c</code> et du nom du point de code</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="title">Générons maintenant une émoticône (un smiley).</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-nb">say</span> <span class="tok-s">&quot;☺&quot;</span>;
<span class="tok-nb">say</span> <span class="tok-s">&quot;\x263a&quot;</span>;
<span class="tok-nb">say</span> <span class="tok-s">&quot;\c[WHITE SMILING FACE]&quot;</span>;</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Un autre exemple en combinant 2 points de code</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-nb">say</span> <span class="tok-s">&quot;á&quot;</span>;
<span class="tok-nb">say</span> <span class="tok-s">&quot;\x00e1&quot;</span>;
<span class="tok-nb">say</span> <span class="tok-s">&quot;\x0061\x0301&quot;</span>;
<span class="tok-nb">say</span> <span class="tok-s">&quot;\c[LATIN SMALL LETTER A WITH ACUTE]&quot;</span>;</code></pre>
</div>
</div>
<div class="paragraph">
<p>La lettre <code>á</code> peut être écrite:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>en utilisant son point de code unique <code>\x00e1</code></p>
</li>
<li>
<p>ou comme la combinaison des points de code de: <code>a</code> et de l&#8217;accent aigu <code>\x0061\x0301</code></p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="title">Quelques méthodes qui peuvent être utilisées:</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-nb">say</span> <span class="tok-s">&quot;á&quot;</span>.<span class="tok-n">NFC</span>;
<span class="tok-nb">say</span> <span class="tok-s">&quot;á&quot;</span>.<span class="tok-n">NFD</span>;
<span class="tok-nb">say</span> <span class="tok-s">&quot;á&quot;</span>.<span class="tok-n">uniname</span>;</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title"><code>Output</code></div>
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-n">NFC:0x</span><span class="tok-s">&lt;00e1&gt;</span>
<span class="tok-n">NFD:0x</span><span class="tok-s">&lt;0061 0301&gt;</span>
<span class="tok-n">LATIN</span> <span class="tok-n">SMALL</span> <span class="tok-n">LETTER</span> <span class="tok-n">A</span> <span class="tok-n">WITH</span> <span class="tok-n">ACUTE</span></code></pre>
</div>
</div>
<div class="paragraph">
<p><code>NFC</code> renvoie le point code unique.<br>
<code>NFD</code> décompose le caractère et renvoie ses points de code.<br>
<code>uniname</code> renvoie le nom du point de code.</p>
</div>
<div class="listingblock">
<div class="title">Des caractères Unicode peuvent être utilisés en tant qu&#8217;identifants:</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">my</span> <span class="tok-nv">$Δ</span> = <span class="tok-mi">1</span>;
<span class="tok-nv">$Δ</span>++;
<span class="tok-nb">say</span> <span class="tok-nv">$Δ</span>;</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_parallélisme_concurrence_et_asynchronisme">14. Parallélisme, Concurrence et Asynchronisme</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_parallélisme">14.1. Parallélisme</h3>
<div class="paragraph">
<p>En temps normal, toutes les taches d&#8217;un programme s&#8217;effectuent de façon séquentielle.
Ce n&#8217;est pas un grand problème si le temps d&#8217;exécution n&#8217;est pas crucial pour vous.</p>
</div>
<div class="paragraph">
<p>Raku intègre de façon naturelle le lancement de taches en parallèle.<br>
À ce point, il est important de considérer que le parallélisme peut vouloir dire deux choses:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Parallélisme des taches</strong>: Deux (ou plus) expressions indépendantes lancées en parallèle.</p>
</li>
<li>
<p><strong>Parallélisme des données</strong>: Un expression unique itérée sur une liste d&#8217;éléments en parallèle.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Commençons par ce dernier.</p>
</div>
<div class="sect3">
<h4 id="_parallélisme_des_données">14.1.1. Parallélisme des données</h4>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">my</span> <span class="tok-nv">@tableau</span> = (<span class="tok-mi">0</span><span class="tok-o">..</span><span class="tok-mi">50000</span>);                     <span class="tok-c1">#Remplissage du tableau</span>
<span class="tok-k">my</span> <span class="tok-nv">@résultat</span> = <span class="tok-nv">@tableau</span>.<span class="tok-nb">map</span>({ <span class="tok-n">is-prime</span> <span class="tok-nv">$_</span> }); <span class="tok-c1">#Appel de is-prime sur chaque élément</span>
<span class="tok-nb">say</span> <span class="tok-n">now</span> - <span class="tok-k">INIT</span> <span class="tok-n">now</span>;                           <span class="tok-c1">#Temps d&#39;exécution du programme</span></code></pre>
</div>
</div>
<div class="paragraph">
<div class="title">Au regard de l&#8217;exemple ci-dessus:</div>
<p>Nous ne faisons qu&#8217;une seule opération <code>@array.map({ is-prime $_ })</code><br>
La sous-routine <code>is-prime</code> est appelée séquentiellement pour chaque élément du tableau:<br>
<code>is-prime @tableau[0]</code> puis <code>is-prime @tableau[1]</code> puis <code>is-prime @tableau[2]</code> etc.</p>
</div>
<div class="listingblock">
<div class="title">Nous pouvons heureusement appeler <code>is-prime</code> sur plusieurs éléments en même temps:</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">my</span> <span class="tok-nv">@tableau</span> = (<span class="tok-mi">0</span><span class="tok-o">..</span><span class="tok-mi">50000</span>);                          <span class="tok-c1">#Remplissage du tableau</span>
<span class="tok-k">my</span> <span class="tok-nv">@résultat</span> = <span class="tok-nv">@tableau</span>.<span class="tok-n">race</span>.<span class="tok-nb">map</span>({ <span class="tok-n">is-prime</span> <span class="tok-nv">$_</span> }); <span class="tok-c1">#Appel de is-prime sur chaque élément</span>
<span class="tok-nb">say</span> <span class="tok-n">now</span> - <span class="tok-k">INIT</span> <span class="tok-n">now</span>;                                <span class="tok-c1">#Temps d&#39;exécution du programme</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Notez l&#8217;emploi de <code>race</code> dans l&#8217;expression.
Cette méthode permet l&#8217;itération en parallèle des éléments du tableau.</p>
</div>
<div class="paragraph">
<p>Après avoir lancé les deux exemples (avec et sans <code>race</code>), comparez les temps d&#8217;exécution de chaque programme.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
<div class="paragraph">
<p><code>race</code> ne préservera pas l&#8217;ordre des éléments. Pour le préserver, utilisez à sa place <code>hyper</code>.</p>
</div>
<div class="listingblock">
<div class="title">race</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">my</span> <span class="tok-nv">@tableau</span> = (<span class="tok-mi">1</span><span class="tok-o">..</span><span class="tok-mi">1000</span>);
<span class="tok-k">my</span> <span class="tok-nv">@résultat</span> = <span class="tok-nv">@tableau</span>.<span class="tok-n">race</span>.<span class="tok-nb">map</span>( {<span class="tok-nv">$_</span> + <span class="tok-mi">1</span>} );
.<span class="tok-nb">say</span> <span class="tok-k">for</span> <span class="tok-nv">@résultat</span>;</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">hyper</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">my</span> <span class="tok-nv">@tableau</span> = (<span class="tok-mi">1</span><span class="tok-o">..</span><span class="tok-mi">1000</span>);
<span class="tok-k">my</span> <span class="tok-nv">@résultat</span> = <span class="tok-nv">@tableau</span>.<span class="tok-nb">hyper</span>.<span class="tok-nb">map</span>( {<span class="tok-nv">$_</span> + <span class="tok-mi">1</span>} );
.<span class="tok-nb">say</span> <span class="tok-k">for</span> <span class="tok-nv">@résultat</span>;</code></pre>
</div>
</div>
<div class="paragraph">
<p>En lançant les deux exemples, vous remarquerez que l&#8217;un est trié et l&#8217;autre non.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="_parallélisme_des_tâches">14.1.2. Parallélisme des tâches</h4>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">my</span> <span class="tok-nv">@tab1</span> = (<span class="tok-mi">0</span><span class="tok-o">..</span><span class="tok-mi">49999</span>);
<span class="tok-k">my</span> <span class="tok-nv">@tab2</span> = (<span class="tok-mi">2</span><span class="tok-o">..</span><span class="tok-mi">50001</span>);

<span class="tok-k">my</span> <span class="tok-nv">@résultat1</span> = <span class="tok-nv">@tab1</span>.<span class="tok-nb">map</span>( {<span class="tok-n">is-prime</span>(<span class="tok-nv">$_</span> + <span class="tok-mi">1</span>)} );
<span class="tok-k">my</span> <span class="tok-nv">@résultat2</span> = <span class="tok-nv">@tab2</span>.<span class="tok-nb">map</span>( {<span class="tok-n">is-prime</span>(<span class="tok-nv">$_</span> - <span class="tok-mi">1</span>)} );

<span class="tok-nb">say</span> <span class="tok-nv">@résultat1</span> <span class="tok-o">eqv</span> <span class="tok-nv">@résultat2</span>;

<span class="tok-nb">say</span> <span class="tok-n">now</span> - <span class="tok-k">INIT</span> <span class="tok-n">now</span>;</code></pre>
</div>
</div>
<div class="olist arabic">
<div class="title">Voyons l&#8217;exemple ci-dessus:</div>
<ol class="arabic">
<li>
<p>Nous avons défini deux tableaux</p>
</li>
<li>
<p>Appliqué une opération itérative différente à chaque tableau, puis stocké les résultats</p>
</li>
<li>
<p>Ensuite vérifié l&#8217;égalité des deux tableaux</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Le script attend que <code>@tab1.map( {is-prime($_ + 1)} )</code> finisse puis évalue <code>@tab2.map( {is-prime($_ - 1)} )</code></p>
</div>
<div class="paragraph">
<p>Les opérations effectuées sur chaque tableau ne dépendent pas l&#8217;une de l&#8217;autre.</p>
</div>
<div class="listingblock">
<div class="title">Pourquoi ne pas les effectuer en paralléle?</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">my</span> <span class="tok-nv">@tab1</span> = (<span class="tok-mi">0</span><span class="tok-o">..</span><span class="tok-mi">49999</span>);
<span class="tok-k">my</span> <span class="tok-nv">@tab2</span> = (<span class="tok-mi">2</span><span class="tok-o">..</span><span class="tok-mi">50001</span>);

<span class="tok-k">my</span> <span class="tok-nv">$promesse1</span> = <span class="tok-n">start</span> <span class="tok-nv">@tab1</span>.<span class="tok-nb">map</span>( {<span class="tok-n">is-prime</span>(<span class="tok-nv">$_</span> + <span class="tok-mi">1</span>)} ).<span class="tok-nb">eager</span>;
<span class="tok-k">my</span> <span class="tok-nv">$promesse2</span> = <span class="tok-n">start</span> <span class="tok-nv">@tab2</span>.<span class="tok-nb">map</span>( {<span class="tok-n">is-prime</span>(<span class="tok-nv">$_</span> - <span class="tok-mi">1</span>)} ).<span class="tok-nb">eager</span>;

<span class="tok-k">my</span> <span class="tok-nv">@résultat1</span> = <span class="tok-n">await</span> <span class="tok-nv">$promesse1</span>;
<span class="tok-k">my</span> <span class="tok-nv">@résultat2</span> = <span class="tok-n">await</span> <span class="tok-nv">$promesse2</span>;

<span class="tok-nb">say</span> <span class="tok-nv">@résultat1</span> <span class="tok-o">eqv</span> <span class="tok-nv">@résultat2</span>;

<span class="tok-nb">say</span> <span class="tok-n">now</span> - <span class="tok-k">INIT</span> <span class="tok-n">now</span>;</code></pre>
</div>
</div>
<div class="paragraph">
<div class="title">Explication</div>
<p>La méthode <code>start</code> évalue le code et renvoie <strong>un objet de type promesse</strong>, ou plus brièvement <strong>une promesse</strong> (promise).<br>
Si le code est évalué correctement, la <em>promesse</em> sera <strong>tenue</strong> (kept).<br>
Si le code lance une exception, la <em>promesse</em> sera <strong>non tenue</strong> (broken).</p>
</div>
<div class="paragraph">
<p>La méthode <code>await</code> s&#8217;attend à une <strong>promesse</strong>.<br>
Si elle est <strong>tenue</strong> elle obtiendra les valeurs renvoyées.<br>
Si elle n&#8217;est <strong>pas tenue</strong>, une exception sera lancée.</p>
</div>
<div class="paragraph">
<p>Vérifier le temps pris par chacun des scripts.</p>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
Le parallélisme ajoute toujours un surcoût lié à la gestion des processus en parallèle. Si cette surcharge n&#8217;est pas compensée par un gain dans le temps de calcul, le script paraîtra plus lent.<br>
C&#8217;est pourquoi utiliser <code>race</code>, <code>hyper</code>, <code>start</code> et <code>await</code> avec des scripts assez simples peut effectivement les ralentir.
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_concurrence_et_asynchronisme">14.2. Concurrence et Asynchronisme</h3>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Pour plus de détails sur la concurrence et la programmation asynchrone, voir <a href="https://docs.raku.org/language/concurrency" class="bare">https://docs.raku.org/language/concurrency</a>
</td>
</tr>
</table>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_interface_dappel_natif">15. Interface d&#8217;appel natif</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Raku donne la possibilité d&#8217;utiliser de librairies C en utilisant l&#8217;Interface d&#8217;appel natif.
<code>NativeCall</code> est un module standard inclus dans Raku qui facilite son interfacage avec le langage C.</p>
</div>
<div class="sect2">
<h3 id="_appeler_une_fonction">15.1. Appeler une fonction</h3>
<div class="paragraph">
<p>Considérez le code C ci-dessous qui définit la fonction <code>hellofromc</code>.
Cette fonction affiche sur le terminal <code>Bonjour depuis C</code>. Elle de prend pas d&#8217;argument et ne retourne aucune valeur.</p>
</div>
<div class="listingblock">
<div class="title">ncitest.c</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="c"><span></span><span class="tok-cp">#include</span> <span class="tok-cpf">&lt;stdio.h&gt;</span><span class="tok-cp"></span>

<span class="tok-kt">void</span> <span class="tok-nf">hellofromc</span> <span class="tok-p">()</span> <span class="tok-p">{</span>
  <span class="tok-n">printf</span><span class="tok-p">(</span><span class="tok-s">&quot;Bonjour depuis</span><span class="tok-se">\n</span><span class="tok-s">&quot;</span><span class="tok-p">);</span>
<span class="tok-p">}</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Suivant votre système d&#8217;exploitation, lancez les commandes suivantes pour compiler ce code C dans une librairie.</p>
</div>
<div class="listingblock">
<div class="title">Sur Linux:</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-n">gcc</span> -<span class="tok-n">c</span> -<span class="tok-n">fpic</span> <span class="tok-n">ncitest</span>.<span class="tok-n">c</span>
<span class="tok-n">gcc</span> -<span class="tok-n">shared</span> -<span class="tok-n">o</span> <span class="tok-n">libncitest</span>.<span class="tok-o">so</span> <span class="tok-n">ncitest</span>.<span class="tok-n">o</span></code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Sur Windows:</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-n">gcc</span> -<span class="tok-n">c</span> <span class="tok-n">ncitest</span>.<span class="tok-n">c</span>
<span class="tok-n">gcc</span> -<span class="tok-n">shared</span> -<span class="tok-n">o</span> <span class="tok-n">ncitest</span>.<span class="tok-n">dll</span> <span class="tok-n">ncitest</span>.<span class="tok-n">o</span></code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Sur macOS:</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-n">gcc</span> -<span class="tok-n">dynamiclib</span> -<span class="tok-n">o</span> <span class="tok-n">libncitest</span>.<span class="tok-n">dylib</span> <span class="tok-n">ncitest</span>.<span class="tok-n">c</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Dans le même dossier où vous avez compilé votre librairie C, créez un nouveau fichier Raku qui contient le code suivant, et lancez-le.</p>
</div>
<div class="listingblock">
<div class="title">ncitest.raku</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">use</span> <span class="tok-n">NativeCall</span>;

<span class="tok-k">constant</span> <span class="tok-n">LIBPATH</span> = <span class="tok-s">&quot;$*CWD/ncitest&quot;</span>;
<span class="tok-k">sub</span> <span class="tok-n">hellofromc</span>() <span class="tok-k">is</span> <span class="tok-n">native</span>(<span class="tok-n">LIBPATH</span>) { * }

<span class="tok-n">hellofromc</span>();</code></pre>
</div>
</div>
<div class="paragraph">
<div class="title">Explication:</div>
<p>D&#8217;abord nous avons déclaré l&#8217;utilisation du module <code>NativeCall</code>.<br>
Puis nous avons créé une constante <code>LIBPATH</code> qui contient le chemin vers la librairie C.<br>
Notez que <code>$*CWD</code> renvoie le dossier actuel de travail.<br>
Puis nous avons créé une nouvelle routine Raku nomée <code>hellofromc()</code> qui va agir comme envellope pour la fonction C du même nom qui se trouve dans <code>LIBPATH</code>.<br>
Cela est possible en utilisant le trait <code>is native</code>.<br>
Puis nous appelons notre routine Raku.</p>
</div>
<div class="paragraph">
<p>Ce qui revient simplement à déclarer une routine avec un trait <code>is native</code> puis le nom de la librairie C.</p>
</div>
</div>
<div class="sect2">
<h3 id="_renommer_une_fonction">15.2. Renommer une fonction</h3>
<div class="paragraph">
<p>Dans la partie ci-dessus nous avons vu comment appler une simple fonction C en l&#8217;encepsulant dans une routine Raku qui a le même nom par l&#8217;utilisation du trait <code>is native</code>.</p>
</div>
<div class="paragraph">
<p>Dans certains cas, nous pourions avoir besoin de changer le nom de la routine Raku.<br>
Pour ce-faire, nous utilisons le trait <code>is symbol</code>.</p>
</div>
<div class="paragraph">
<p>Modifions notre scrit Raku et renommons la routine <code>hellofromc</code> en <code>hello</code>.</p>
</div>
<div class="listingblock">
<div class="title">ncitest.raku</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">use</span> <span class="tok-n">NativeCall</span>;

<span class="tok-k">constant</span> <span class="tok-n">LIBPATH</span> = <span class="tok-s">&quot;$*CWD/ncitest&quot;</span>;
<span class="tok-k">sub</span> <span class="tok-n">hello</span>() <span class="tok-k">is</span> <span class="tok-n">native</span>(<span class="tok-n">LIBPATH</span>) <span class="tok-k">is</span> <span class="tok-n">symbol</span>(<span class="tok-s">&#39;hellofromc&#39;</span>) { * }

<span class="tok-n">hello</span>();</code></pre>
</div>
</div>
<div class="paragraph">
<div class="title">Explication:</div>
<p>Si la routine Raku a un nom différent de son équivalente en C, nous devons utiliser le trait <code>is symbol</code> avec le nom de la fonction C originale.</p>
</div>
</div>
<div class="sect2">
<h3 id="_passer_des_arguments">15.3. Passer des arguments</h3>
<div class="paragraph">
<p>Compilez la fonction C mofifiée et re-lancez le script ci-dessous.<br>
Notez comment nous avons modifié le code C et Raku pour prendre en compte une chaîne (<code>char*</code> en C et <code>Str</code> avec Raku)</p>
</div>
<div class="listingblock">
<div class="title">ncitest.c</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="c"><span></span><span class="tok-cp">#include</span> <span class="tok-cpf">&lt;stdio.h&gt;</span><span class="tok-cp"></span>

<span class="tok-kt">void</span> <span class="tok-nf">hellofromc</span> <span class="tok-p">(</span><span class="tok-kt">char</span><span class="tok-o">*</span> <span class="tok-n">name</span><span class="tok-p">)</span> <span class="tok-p">{</span>
  <span class="tok-n">printf</span><span class="tok-p">(</span><span class="tok-s">&quot;Bonjour, %s! Ceci est du C!</span><span class="tok-se">\n</span><span class="tok-s">&quot;</span><span class="tok-p">,</span> <span class="tok-n">name</span><span class="tok-p">);</span>
<span class="tok-p">}</span></code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">ncitest.raku</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">use</span> <span class="tok-n">NativeCall</span>;

<span class="tok-k">constant</span> <span class="tok-n">LIBPATH</span> = <span class="tok-s">&quot;$*CWD/ncitest&quot;</span>;
<span class="tok-k">sub</span> <span class="tok-n">hello</span>(<span class="tok-nb">Str</span>) <span class="tok-k">is</span> <span class="tok-n">native</span>(<span class="tok-n">LIBPATH</span>) <span class="tok-k">is</span> <span class="tok-n">symbol</span>(<span class="tok-s">&#39;hellofromc&#39;</span>) { * }

<span class="tok-n">hello</span>(<span class="tok-s">&#39;Anne&#39;</span>);</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_retourner_des_valeurs">15.4. Retourner des valeurs</h3>
<div class="paragraph">
<p>Reprenons le procédé encore une fois et créons une simple calculatrice qui additionne deux entiers.<br>
Compilez la librairie C et lancez le script Raku.</p>
</div>
<div class="listingblock">
<div class="title">ncitest.c</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="c"><span></span><span class="tok-kt">int</span> <span class="tok-nf">add</span> <span class="tok-p">(</span><span class="tok-kt">int</span> <span class="tok-n">a</span><span class="tok-p">,</span> <span class="tok-kt">int</span> <span class="tok-n">b</span><span class="tok-p">)</span> <span class="tok-p">{</span>
  <span class="tok-k">return</span> <span class="tok-p">(</span><span class="tok-n">a</span> <span class="tok-o">+</span> <span class="tok-n">b</span><span class="tok-p">);</span>
<span class="tok-p">}</span></code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">ncitest.raku</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">use</span> <span class="tok-n">NativeCall</span>;

<span class="tok-k">constant</span> <span class="tok-n">LIBPATH</span> = <span class="tok-s">&quot;$*CWD/ncitest&quot;</span>;
<span class="tok-k">sub</span> <span class="tok-n">add</span>(<span class="tok-nb">int32</span>,<span class="tok-nb">int32</span>) <span class="tok-k">returns</span> <span class="tok-nb">int32</span> <span class="tok-k">is</span> <span class="tok-n">native</span>(<span class="tok-n">LIBPATH</span>) { * }

<span class="tok-nb">say</span> <span class="tok-n">add</span>(<span class="tok-mi">2</span>,<span class="tok-mi">3</span>);</code></pre>
</div>
</div>
<div class="paragraph">
<p>Notez que la fonction Raku comme la C accepte deux entiers et en renvoient un (<code>int</code> en C et <code>int32</code> pour Raku)</p>
</div>
</div>
<div class="sect2">
<h3 id="_types_2">15.5. Types</h3>
<div class="paragraph">
<p>Vous avez pu vous interroger sur le fait que nous utilisons <code>int32</code> au lieu de <code>Int</code> dans le script Raku.<br>
Certains Types comme <code>Int</code>, <code>Rat</code> etc. ne peuvnet pas être utilisés pour recevoir des valeurs depuis un fonction C.<br>
On doit utiliser les même Types en Raku que ceux utilisés en C.</p>
</div>
<div class="paragraph">
<p>Heureusement Raku possède de nombreus types qui ont leurs equivalents en C.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-middle">Typage C</th>
<th class="tableblock halign-center valign-middle">Typage Raku</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>char</code></p></td>
<td class="tableblock halign-center valign-middle" rowspan="2"><p class="tableblock"><code>int8</code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>int8_t</code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>short</code></p></td>
<td class="tableblock halign-center valign-middle" rowspan="2"><p class="tableblock"><code>int16</code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>int16_t</code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>int</code></p></td>
<td class="tableblock halign-center valign-middle" rowspan="2"><p class="tableblock"><code>int32</code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>int32_t</code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>int64_t</code></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>int64</code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>unsigned char</code></p></td>
<td class="tableblock halign-center valign-middle" rowspan="2"><p class="tableblock"><code>uint8</code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>uint8_t</code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>unsigned short</code></p></td>
<td class="tableblock halign-center valign-middle" rowspan="2"><p class="tableblock"><code>uint16</code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>uint16_t</code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>unsigned int</code></p></td>
<td class="tableblock halign-center valign-middle" rowspan="2"><p class="tableblock"><code>uint32</code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>uint32_t</code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>uint64_t</code></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>uint64</code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>long</code></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>long</code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>long long</code></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>longlong</code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>float</code></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>num32</code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>double</code></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>num64</code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>size_t</code></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>size_t</code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>bool</code></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>bool</code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>char*</code> (String)</p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>Str</code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock">Tableaux: Par exemple <code>int*</code> (Tableau d&#8217;entiers) and <code>double*</code> (Tableau de nombres de type double)</p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>CArray</code>: Par exemple <code>CArray[int32]</code> et <code>CArray[num64]</code></p></td>
</tr>
</tbody>
</table>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Pour plus d&#8217;informations sur l&#8217;interface d&#8217;appel natif, voir: <a href="https://docs.raku.org/language/nativecall" class="bare">https://docs.raku.org/language/nativecall</a>
</td>
</tr>
</table>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_la_communauté">16. La communauté</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p><a href="irc://irc.freenode.net/#raku">#raku</a> IRC channel. De nombreuses discussions ont lieu sur IRC.<br>
Votre première source d&#8217;infos si vous voulez dez réponses rapides: <a href="https://raku.org/community/irc" class="bare">https://raku.org/community/irc</a></p>
</li>
<li>
<p><a href="https://stackoverflow.com/questions/tagged/raku">StackOverflow, questions sur Raku</a> pour avoir des explications plus détaillées à vos questions.</p>
</li>
<li>
<p><a href="https://rakudoweekly.blog">Rakudo Weekly</a> Un résumé hebdomadaire des nouvelles concernant Raku.</p>
</li>
<li>
<p><a href="http://pl6anet.org">pl6anet</a> est un agrégateur de blog qui se concentre sur Raku.</p>
</li>
<li>
<p><a href="https://www.reddit.com/r/rakulang/">/r/rakulang</a> pour vous inscrire subreddit du langage.</p>
</li>
<li>
<p><a href="https://twitter.com/perl6org">@perl6org</a> la communauté sur Twitter.</p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
Last updated 2019-12-06 01:27:07 +0300
</div>
</div>
<style>
pre.pygments .hll { background-color: #ffffcc }
pre.pygments  { background: #f8f8f8; }
pre.pygments .tok-c { color: #408080; font-style: italic } /* Comment */
pre.pygments .tok-err { border: 1px solid #FF0000 } /* Error */
pre.pygments .tok-k { color: #008000; font-weight: bold } /* Keyword */
pre.pygments .tok-o { color: #666666 } /* Operator */
pre.pygments .tok-ch { color: #408080; font-style: italic } /* Comment.Hashbang */
pre.pygments .tok-cm { color: #408080; font-style: italic } /* Comment.Multiline */
pre.pygments .tok-cp { color: #BC7A00 } /* Comment.Preproc */
pre.pygments .tok-cpf { color: #408080; font-style: italic } /* Comment.PreprocFile */
pre.pygments .tok-c1 { color: #408080; font-style: italic } /* Comment.Single */
pre.pygments .tok-cs { color: #408080; font-style: italic } /* Comment.Special */
pre.pygments .tok-gd { color: #A00000 } /* Generic.Deleted */
pre.pygments .tok-ge { font-style: italic } /* Generic.Emph */
pre.pygments .tok-gr { color: #FF0000 } /* Generic.Error */
pre.pygments .tok-gh { color: #000080; font-weight: bold } /* Generic.Heading */
pre.pygments .tok-gi { color: #00A000 } /* Generic.Inserted */
pre.pygments .tok-go { color: #888888 } /* Generic.Output */
pre.pygments .tok-gp { color: #000080; font-weight: bold } /* Generic.Prompt */
pre.pygments .tok-gs { font-weight: bold } /* Generic.Strong */
pre.pygments .tok-gu { color: #800080; font-weight: bold } /* Generic.Subheading */
pre.pygments .tok-gt { color: #0044DD } /* Generic.Traceback */
pre.pygments .tok-kc { color: #008000; font-weight: bold } /* Keyword.Constant */
pre.pygments .tok-kd { color: #008000; font-weight: bold } /* Keyword.Declaration */
pre.pygments .tok-kn { color: #008000; font-weight: bold } /* Keyword.Namespace */
pre.pygments .tok-kp { color: #008000 } /* Keyword.Pseudo */
pre.pygments .tok-kr { color: #008000; font-weight: bold } /* Keyword.Reserved */
pre.pygments .tok-kt { color: #B00040 } /* Keyword.Type */
pre.pygments .tok-m { color: #666666 } /* Literal.Number */
pre.pygments .tok-s { color: #BA2121 } /* Literal.String */
pre.pygments .tok-na { color: #7D9029 } /* Name.Attribute */
pre.pygments .tok-nb { color: #008000 } /* Name.Builtin */
pre.pygments .tok-nc { color: #0000FF; font-weight: bold } /* Name.Class */
pre.pygments .tok-no { color: #880000 } /* Name.Constant */
pre.pygments .tok-nd { color: #AA22FF } /* Name.Decorator */
pre.pygments .tok-ni { color: #999999; font-weight: bold } /* Name.Entity */
pre.pygments .tok-ne { color: #D2413A; font-weight: bold } /* Name.Exception */
pre.pygments .tok-nf { color: #0000FF } /* Name.Function */
pre.pygments .tok-nl { color: #A0A000 } /* Name.Label */
pre.pygments .tok-nn { color: #0000FF; font-weight: bold } /* Name.Namespace */
pre.pygments .tok-nt { color: #008000; font-weight: bold } /* Name.Tag */
pre.pygments .tok-nv { color: #19177C } /* Name.Variable */
pre.pygments .tok-ow { color: #AA22FF; font-weight: bold } /* Operator.Word */
pre.pygments .tok-w { color: #bbbbbb } /* Text.Whitespace */
pre.pygments .tok-mb { color: #666666 } /* Literal.Number.Bin */
pre.pygments .tok-mf { color: #666666 } /* Literal.Number.Float */
pre.pygments .tok-mh { color: #666666 } /* Literal.Number.Hex */
pre.pygments .tok-mi { color: #666666 } /* Literal.Number.Integer */
pre.pygments .tok-mo { color: #666666 } /* Literal.Number.Oct */
pre.pygments .tok-sa { color: #BA2121 } /* Literal.String.Affix */
pre.pygments .tok-sb { color: #BA2121 } /* Literal.String.Backtick */
pre.pygments .tok-sc { color: #BA2121 } /* Literal.String.Char */
pre.pygments .tok-dl { color: #BA2121 } /* Literal.String.Delimiter */
pre.pygments .tok-sd { color: #BA2121; font-style: italic } /* Literal.String.Doc */
pre.pygments .tok-s2 { color: #BA2121 } /* Literal.String.Double */
pre.pygments .tok-se { color: #BB6622; font-weight: bold } /* Literal.String.Escape */
pre.pygments .tok-sh { color: #BA2121 } /* Literal.String.Heredoc */
pre.pygments .tok-si { color: #BB6688; font-weight: bold } /* Literal.String.Interpol */
pre.pygments .tok-sx { color: #008000 } /* Literal.String.Other */
pre.pygments .tok-sr { color: #BB6688 } /* Literal.String.Regex */
pre.pygments .tok-s1 { color: #BA2121 } /* Literal.String.Single */
pre.pygments .tok-ss { color: #19177C } /* Literal.String.Symbol */
pre.pygments .tok-bp { color: #008000 } /* Name.Builtin.Pseudo */
pre.pygments .tok-fm { color: #0000FF } /* Name.Function.Magic */
pre.pygments .tok-vc { color: #19177C } /* Name.Variable.Class */
pre.pygments .tok-vg { color: #19177C } /* Name.Variable.Global */
pre.pygments .tok-vi { color: #19177C } /* Name.Variable.Instance */
pre.pygments .tok-vm { color: #19177C } /* Name.Variable.Magic */
pre.pygments .tok-il { color: #666666 } /* Literal.Number.Integer.Long */
</style>
</body>
</html>