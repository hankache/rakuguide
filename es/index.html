<!DOCTYPE html>
<html lang="es">
<head>
<!-- Matomo -->
<script>
  var _paq = window._paq = window._paq || [];
  /* tracker methods like "setCustomDimension" should be called before "trackPageView" */
  _paq.push(['trackPageView']);
  _paq.push(['enableLinkTracking']);
  (function() {
    var u="//hankache.com/matomo/";
    _paq.push(['setTrackerUrl', u+'matomo.php']);
    _paq.push(['setSiteId', '2']);
    var d=document, g=d.createElement('script'), s=d.getElementsByTagName('script')[0];
    g.async=true; g.src=u+'matomo.js'; s.parentNode.insertBefore(g,s);
  })();
</script>
<!-- End Matomo Code -->

<link rel="shortcut icon" type="image/x-icon" href="../favicon.ico">

<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 2.0.20">
<meta name="description" content="Una introducción general a Raku">
<meta name="keywords" content="perl6, perl 6, introducción, perl6intro, introducción a perl 6, tutorial de perl 6, perl 6 intro, raku, introducción a raku, guía de raku, tutorial de raku">
<meta name="author" content="Naoum Hankache, Ramiro Encinas">
<title>Guía de Raku</title>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700">
<style>
/*! Asciidoctor default stylesheet | MIT License | https://asciidoctor.org */
/* Uncomment the following line when using as a custom stylesheet */
/* @import "https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700"; */
html{font-family:sans-serif;-webkit-text-size-adjust:100%}
a{background:none}
a:focus{outline:thin dotted}
a:active,a:hover{outline:0}
h1{font-size:2em;margin:.67em 0}
b,strong{font-weight:bold}
abbr{font-size:.9em}
abbr[title]{cursor:help;border-bottom:1px dotted #dddddf;text-decoration:none}
dfn{font-style:italic}
hr{height:0}
mark{background:#ff0;color:#000}
code,kbd,pre,samp{font-family:monospace;font-size:1em}
pre{white-space:pre-wrap}
q{quotes:"\201C" "\201D" "\2018" "\2019"}
small{font-size:80%}
sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}
sup{top:-.5em}
sub{bottom:-.25em}
img{border:0}
svg:not(:root){overflow:hidden}
figure{margin:0}
audio,video{display:inline-block}
audio:not([controls]){display:none;height:0}
fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}
legend{border:0;padding:0}
button,input,select,textarea{font-family:inherit;font-size:100%;margin:0}
button,input{line-height:normal}
button,select{text-transform:none}
button,html input[type=button],input[type=reset],input[type=submit]{-webkit-appearance:button;cursor:pointer}
button[disabled],html input[disabled]{cursor:default}
input[type=checkbox],input[type=radio]{padding:0}
button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}
textarea{overflow:auto;vertical-align:top}
table{border-collapse:collapse;border-spacing:0}
*,::before,::after{box-sizing:border-box}
html,body{font-size:100%}
body{background:#fff;color:rgba(0,0,0,.8);padding:0;margin:0;font-family:"Noto Serif","DejaVu Serif",serif;line-height:1;position:relative;cursor:auto;-moz-tab-size:4;-o-tab-size:4;tab-size:4;word-wrap:anywhere;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased}
a:hover{cursor:pointer}
img,object,embed{max-width:100%;height:auto}
object,embed{height:100%}
img{-ms-interpolation-mode:bicubic}
.left{float:left!important}
.right{float:right!important}
.text-left{text-align:left!important}
.text-right{text-align:right!important}
.text-center{text-align:center!important}
.text-justify{text-align:justify!important}
.hide{display:none}
img,object,svg{display:inline-block;vertical-align:middle}
textarea{height:auto;min-height:50px}
select{width:100%}
.subheader,.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{line-height:1.45;color:#7a2518;font-weight:400;margin-top:0;margin-bottom:.25em}
div,dl,dt,dd,ul,ol,li,h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6,pre,form,p,blockquote,th,td{margin:0;padding:0}
a{color:#2156a5;text-decoration:underline;line-height:inherit}
a:hover,a:focus{color:#1d4b8f}
a img{border:0}
p{line-height:1.6;margin-bottom:1.25em;text-rendering:optimizeLegibility}
p aside{font-size:.875em;line-height:1.35;font-style:italic}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{font-family:"Open Sans","DejaVu Sans",sans-serif;font-weight:300;font-style:normal;color:#ba3925;text-rendering:optimizeLegibility;margin-top:1em;margin-bottom:.5em;line-height:1.0125em}
h1 small,h2 small,h3 small,#toctitle small,.sidebarblock>.content>.title small,h4 small,h5 small,h6 small{font-size:60%;color:#e99b8f;line-height:0}
h1{font-size:2.125em}
h2{font-size:1.6875em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.375em}
h4,h5{font-size:1.125em}
h6{font-size:1em}
hr{border:solid #dddddf;border-width:1px 0 0;clear:both;margin:1.25em 0 1.1875em}
em,i{font-style:italic;line-height:inherit}
strong,b{font-weight:bold;line-height:inherit}
small{font-size:60%;line-height:inherit}
code{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;color:rgba(0,0,0,.9)}
ul,ol,dl{line-height:1.6;margin-bottom:1.25em;list-style-position:outside;font-family:inherit}
ul,ol{margin-left:1.5em}
ul li ul,ul li ol{margin-left:1.25em;margin-bottom:0}
ul.circle{list-style-type:circle}
ul.disc{list-style-type:disc}
ul.square{list-style-type:square}
ul.circle ul:not([class]),ul.disc ul:not([class]),ul.square ul:not([class]){list-style:inherit}
ol li ul,ol li ol{margin-left:1.25em;margin-bottom:0}
dl dt{margin-bottom:.3125em;font-weight:bold}
dl dd{margin-bottom:1.25em}
blockquote{margin:0 0 1.25em;padding:.5625em 1.25em 0 1.1875em;border-left:1px solid #ddd}
blockquote,blockquote p{line-height:1.6;color:rgba(0,0,0,.85)}
@media screen and (min-width:768px){h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2}
h1{font-size:2.75em}
h2{font-size:2.3125em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.6875em}
h4{font-size:1.4375em}}
table{background:#fff;margin-bottom:1.25em;border:1px solid #dedede;word-wrap:normal}
table thead,table tfoot{background:#f7f8f7}
table thead tr th,table thead tr td,table tfoot tr th,table tfoot tr td{padding:.5em .625em .625em;font-size:inherit;color:rgba(0,0,0,.8);text-align:left}
table tr th,table tr td{padding:.5625em .625em;font-size:inherit;color:rgba(0,0,0,.8)}
table tr.even,table tr.alt{background:#f8f8f7}
table thead tr th,table tfoot tr th,table tbody tr td,table tr td,table tfoot tr td{line-height:1.6}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2;word-spacing:-.05em}
h1 strong,h2 strong,h3 strong,#toctitle strong,.sidebarblock>.content>.title strong,h4 strong,h5 strong,h6 strong{font-weight:400}
.center{margin-left:auto;margin-right:auto}
.stretch{width:100%}
.clearfix::before,.clearfix::after,.float-group::before,.float-group::after{content:" ";display:table}
.clearfix::after,.float-group::after{clear:both}
:not(pre).nobreak{word-wrap:normal}
:not(pre).nowrap{white-space:nowrap}
:not(pre).pre-wrap{white-space:pre-wrap}
:not(pre):not([class^=L])>code{font-size:.9375em;font-style:normal!important;letter-spacing:0;padding:.1em .5ex;word-spacing:-.15em;background:#f7f7f8;border-radius:4px;line-height:1.45;text-rendering:optimizeSpeed}
pre{color:rgba(0,0,0,.9);font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;line-height:1.45;text-rendering:optimizeSpeed}
pre code,pre pre{color:inherit;font-size:inherit;line-height:inherit}
pre>code{display:block}
pre.nowrap,pre.nowrap pre{white-space:pre;word-wrap:normal}
em em{font-style:normal}
strong strong{font-weight:400}
.keyseq{color:rgba(51,51,51,.8)}
kbd{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;display:inline-block;color:rgba(0,0,0,.8);font-size:.65em;line-height:1.45;background:#f7f7f7;border:1px solid #ccc;border-radius:3px;box-shadow:0 1px 0 rgba(0,0,0,.2),inset 0 0 0 .1em #fff;margin:0 .15em;padding:.2em .5em;vertical-align:middle;position:relative;top:-.1em;white-space:nowrap}
.keyseq kbd:first-child{margin-left:0}
.keyseq kbd:last-child{margin-right:0}
.menuseq,.menuref{color:#000}
.menuseq b:not(.caret),.menuref{font-weight:inherit}
.menuseq{word-spacing:-.02em}
.menuseq b.caret{font-size:1.25em;line-height:.8}
.menuseq i.caret{font-weight:bold;text-align:center;width:.45em}
b.button::before,b.button::after{position:relative;top:-1px;font-weight:400}
b.button::before{content:"[";padding:0 3px 0 2px}
b.button::after{content:"]";padding:0 2px 0 3px}
p a>code:hover{color:rgba(0,0,0,.9)}
#header,#content,#footnotes,#footer{width:100%;margin:0 auto;max-width:62.5em;*zoom:1;position:relative;padding-left:.9375em;padding-right:.9375em}
#header::before,#header::after,#content::before,#content::after,#footnotes::before,#footnotes::after,#footer::before,#footer::after{content:" ";display:table}
#header::after,#content::after,#footnotes::after,#footer::after{clear:both}
#content{margin-top:1.25em}
#content::before{content:none}
#header>h1:first-child{color:rgba(0,0,0,.85);margin-top:2.25rem;margin-bottom:0}
#header>h1:first-child+#toc{margin-top:8px;border-top:1px solid #dddddf}
#header>h1:only-child,body.toc2 #header>h1:nth-last-child(2){border-bottom:1px solid #dddddf;padding-bottom:8px}
#header .details{border-bottom:1px solid #dddddf;line-height:1.45;padding-top:.25em;padding-bottom:.25em;padding-left:.25em;color:rgba(0,0,0,.6);display:flex;flex-flow:row wrap}
#header .details span:first-child{margin-left:-.125em}
#header .details span.email a{color:rgba(0,0,0,.85)}
#header .details br{display:none}
#header .details br+span::before{content:"\00a0\2013\00a0"}
#header .details br+span.author::before{content:"\00a0\22c5\00a0";color:rgba(0,0,0,.85)}
#header .details br+span#revremark::before{content:"\00a0|\00a0"}
#header #revnumber{text-transform:capitalize}
#header #revnumber::after{content:"\00a0"}
#content>h1:first-child:not([class]){color:rgba(0,0,0,.85);border-bottom:1px solid #dddddf;padding-bottom:8px;margin-top:0;padding-top:1rem;margin-bottom:1.25rem}
#toc{border-bottom:1px solid #e7e7e9;padding-bottom:.5em}
#toc>ul{margin-left:.125em}
#toc ul.sectlevel0>li>a{font-style:italic}
#toc ul.sectlevel0 ul.sectlevel1{margin:.5em 0}
#toc ul{font-family:"Open Sans","DejaVu Sans",sans-serif;list-style-type:none}
#toc li{line-height:1.3334;margin-top:.3334em}
#toc a{text-decoration:none}
#toc a:active{text-decoration:underline}
#toctitle{color:#7a2518;font-size:1.2em}
@media screen and (min-width:768px){#toctitle{font-size:1.375em}
body.toc2{padding-left:15em;padding-right:0}
#toc.toc2{margin-top:0!important;background:#f8f8f7;position:fixed;width:15em;left:0;top:0;border-right:1px solid #e7e7e9;border-top-width:0!important;border-bottom-width:0!important;z-index:1000;padding:1.25em 1em;height:100%;overflow:auto}
#toc.toc2 #toctitle{margin-top:0;margin-bottom:.8rem;font-size:1.2em}
#toc.toc2>ul{font-size:.9em;margin-bottom:0}
#toc.toc2 ul ul{margin-left:0;padding-left:1em}
#toc.toc2 ul.sectlevel0 ul.sectlevel1{padding-left:0;margin-top:.5em;margin-bottom:.5em}
body.toc2.toc-right{padding-left:0;padding-right:15em}
body.toc2.toc-right #toc.toc2{border-right-width:0;border-left:1px solid #e7e7e9;left:auto;right:0}}
@media screen and (min-width:1280px){body.toc2{padding-left:20em;padding-right:0}
#toc.toc2{width:20em}
#toc.toc2 #toctitle{font-size:1.375em}
#toc.toc2>ul{font-size:.95em}
#toc.toc2 ul ul{padding-left:1.25em}
body.toc2.toc-right{padding-left:0;padding-right:20em}}
#content #toc{border:1px solid #e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;border-radius:4px}
#content #toc>:first-child{margin-top:0}
#content #toc>:last-child{margin-bottom:0}
#footer{max-width:none;background:rgba(0,0,0,.8);padding:1.25em}
#footer-text{color:hsla(0,0%,100%,.8);line-height:1.44}
#content{margin-bottom:.625em}
.sect1{padding-bottom:.625em}
@media screen and (min-width:768px){#content{margin-bottom:1.25em}
.sect1{padding-bottom:1.25em}}
.sect1:last-child{padding-bottom:0}
.sect1+.sect1{border-top:1px solid #e7e7e9}
#content h1>a.anchor,h2>a.anchor,h3>a.anchor,#toctitle>a.anchor,.sidebarblock>.content>.title>a.anchor,h4>a.anchor,h5>a.anchor,h6>a.anchor{position:absolute;z-index:1001;width:1.5ex;margin-left:-1.5ex;display:block;text-decoration:none!important;visibility:hidden;text-align:center;font-weight:400}
#content h1>a.anchor::before,h2>a.anchor::before,h3>a.anchor::before,#toctitle>a.anchor::before,.sidebarblock>.content>.title>a.anchor::before,h4>a.anchor::before,h5>a.anchor::before,h6>a.anchor::before{content:"\00A7";font-size:.85em;display:block;padding-top:.1em}
#content h1:hover>a.anchor,#content h1>a.anchor:hover,h2:hover>a.anchor,h2>a.anchor:hover,h3:hover>a.anchor,#toctitle:hover>a.anchor,.sidebarblock>.content>.title:hover>a.anchor,h3>a.anchor:hover,#toctitle>a.anchor:hover,.sidebarblock>.content>.title>a.anchor:hover,h4:hover>a.anchor,h4>a.anchor:hover,h5:hover>a.anchor,h5>a.anchor:hover,h6:hover>a.anchor,h6>a.anchor:hover{visibility:visible}
#content h1>a.link,h2>a.link,h3>a.link,#toctitle>a.link,.sidebarblock>.content>.title>a.link,h4>a.link,h5>a.link,h6>a.link{color:#ba3925;text-decoration:none}
#content h1>a.link:hover,h2>a.link:hover,h3>a.link:hover,#toctitle>a.link:hover,.sidebarblock>.content>.title>a.link:hover,h4>a.link:hover,h5>a.link:hover,h6>a.link:hover{color:#a53221}
details,.audioblock,.imageblock,.literalblock,.listingblock,.stemblock,.videoblock{margin-bottom:1.25em}
details{margin-left:1.25rem}
details>summary{cursor:pointer;display:block;position:relative;line-height:1.6;margin-bottom:.625rem;outline:none;-webkit-tap-highlight-color:transparent}
details>summary::-webkit-details-marker{display:none}
details>summary::before{content:"";border:solid transparent;border-left:solid;border-width:.3em 0 .3em .5em;position:absolute;top:.5em;left:-1.25rem;transform:translateX(15%)}
details[open]>summary::before{border:solid transparent;border-top:solid;border-width:.5em .3em 0;transform:translateY(15%)}
details>summary::after{content:"";width:1.25rem;height:1em;position:absolute;top:.3em;left:-1.25rem}
.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{text-rendering:optimizeLegibility;text-align:left;font-family:"Noto Serif","DejaVu Serif",serif;font-size:1rem;font-style:italic}
table.tableblock.fit-content>caption.title{white-space:nowrap;width:0}
.paragraph.lead>p,#preamble>.sectionbody>[class=paragraph]:first-of-type p{font-size:1.21875em;line-height:1.6;color:rgba(0,0,0,.85)}
.admonitionblock>table{border-collapse:separate;border:0;background:none;width:100%}
.admonitionblock>table td.icon{text-align:center;width:80px}
.admonitionblock>table td.icon img{max-width:none}
.admonitionblock>table td.icon .title{font-weight:bold;font-family:"Open Sans","DejaVu Sans",sans-serif;text-transform:uppercase}
.admonitionblock>table td.content{padding-left:1.125em;padding-right:1.25em;border-left:1px solid #dddddf;color:rgba(0,0,0,.6);word-wrap:anywhere}
.admonitionblock>table td.content>:last-child>:last-child{margin-bottom:0}
.exampleblock>.content{border:1px solid #e6e6e6;margin-bottom:1.25em;padding:1.25em;background:#fff;border-radius:4px}
.sidebarblock{border:1px solid #dbdbd6;margin-bottom:1.25em;padding:1.25em;background:#f3f3f2;border-radius:4px}
.sidebarblock>.content>.title{color:#7a2518;margin-top:0;text-align:center}
.exampleblock>.content>:first-child,.sidebarblock>.content>:first-child{margin-top:0}
.exampleblock>.content>:last-child,.exampleblock>.content>:last-child>:last-child,.exampleblock>.content .olist>ol>li:last-child>:last-child,.exampleblock>.content .ulist>ul>li:last-child>:last-child,.exampleblock>.content .qlist>ol>li:last-child>:last-child,.sidebarblock>.content>:last-child,.sidebarblock>.content>:last-child>:last-child,.sidebarblock>.content .olist>ol>li:last-child>:last-child,.sidebarblock>.content .ulist>ul>li:last-child>:last-child,.sidebarblock>.content .qlist>ol>li:last-child>:last-child{margin-bottom:0}
.literalblock pre,.listingblock>.content>pre{border-radius:4px;overflow-x:auto;padding:1em;font-size:.8125em}
@media screen and (min-width:768px){.literalblock pre,.listingblock>.content>pre{font-size:.90625em}}
@media screen and (min-width:1280px){.literalblock pre,.listingblock>.content>pre{font-size:1em}}
.literalblock pre,.listingblock>.content>pre:not(.highlight),.listingblock>.content>pre[class=highlight],.listingblock>.content>pre[class^="highlight "]{background:#f7f7f8}
.literalblock.output pre{color:#f7f7f8;background:rgba(0,0,0,.9)}
.listingblock>.content{position:relative}
.listingblock code[data-lang]::before{display:none;content:attr(data-lang);position:absolute;font-size:.75em;top:.425rem;right:.5rem;line-height:1;text-transform:uppercase;color:inherit;opacity:.5}
.listingblock:hover code[data-lang]::before{display:block}
.listingblock.terminal pre .command::before{content:attr(data-prompt);padding-right:.5em;color:inherit;opacity:.5}
.listingblock.terminal pre .command:not([data-prompt])::before{content:"$"}
.listingblock pre.highlightjs{padding:0}
.listingblock pre.highlightjs>code{padding:1em;border-radius:4px}
.listingblock pre.prettyprint{border-width:0}
.prettyprint{background:#f7f7f8}
pre.prettyprint .linenums{line-height:1.45;margin-left:2em}
pre.prettyprint li{background:none;list-style-type:inherit;padding-left:0}
pre.prettyprint li code[data-lang]::before{opacity:1}
pre.prettyprint li:not(:first-child) code[data-lang]::before{display:none}
table.linenotable{border-collapse:separate;border:0;margin-bottom:0;background:none}
table.linenotable td[class]{color:inherit;vertical-align:top;padding:0;line-height:inherit;white-space:normal}
table.linenotable td.code{padding-left:.75em}
table.linenotable td.linenos,pre.pygments .linenos{border-right:1px solid;opacity:.35;padding-right:.5em;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}
pre.pygments span.linenos{display:inline-block;margin-right:.75em}
.quoteblock{margin:0 1em 1.25em 1.5em;display:table}
.quoteblock:not(.excerpt)>.title{margin-left:-1.5em;margin-bottom:.75em}
.quoteblock blockquote,.quoteblock p{color:rgba(0,0,0,.85);font-size:1.15rem;line-height:1.75;word-spacing:.1em;letter-spacing:0;font-style:italic;text-align:justify}
.quoteblock blockquote{margin:0;padding:0;border:0}
.quoteblock blockquote::before{content:"\201c";float:left;font-size:2.75em;font-weight:bold;line-height:.6em;margin-left:-.6em;color:#7a2518;text-shadow:0 1px 2px rgba(0,0,0,.1)}
.quoteblock blockquote>.paragraph:last-child p{margin-bottom:0}
.quoteblock .attribution{margin-top:.75em;margin-right:.5ex;text-align:right}
.verseblock{margin:0 1em 1.25em}
.verseblock pre{font-family:"Open Sans","DejaVu Sans",sans-serif;font-size:1.15rem;color:rgba(0,0,0,.85);font-weight:300;text-rendering:optimizeLegibility}
.verseblock pre strong{font-weight:400}
.verseblock .attribution{margin-top:1.25rem;margin-left:.5ex}
.quoteblock .attribution,.verseblock .attribution{font-size:.9375em;line-height:1.45;font-style:italic}
.quoteblock .attribution br,.verseblock .attribution br{display:none}
.quoteblock .attribution cite,.verseblock .attribution cite{display:block;letter-spacing:-.025em;color:rgba(0,0,0,.6)}
.quoteblock.abstract blockquote::before,.quoteblock.excerpt blockquote::before,.quoteblock .quoteblock blockquote::before{display:none}
.quoteblock.abstract blockquote,.quoteblock.abstract p,.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{line-height:1.6;word-spacing:0}
.quoteblock.abstract{margin:0 1em 1.25em;display:block}
.quoteblock.abstract>.title{margin:0 0 .375em;font-size:1.15em;text-align:center}
.quoteblock.excerpt>blockquote,.quoteblock .quoteblock{padding:0 0 .25em 1em;border-left:.25em solid #dddddf}
.quoteblock.excerpt,.quoteblock .quoteblock{margin-left:0}
.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{color:inherit;font-size:1.0625rem}
.quoteblock.excerpt .attribution,.quoteblock .quoteblock .attribution{color:inherit;font-size:.85rem;text-align:left;margin-right:0}
p.tableblock:last-child{margin-bottom:0}
td.tableblock>.content{margin-bottom:1.25em;word-wrap:anywhere}
td.tableblock>.content>:last-child{margin-bottom:-1.25em}
table.tableblock,th.tableblock,td.tableblock{border:0 solid #dedede}
table.grid-all>*>tr>*{border-width:1px}
table.grid-cols>*>tr>*{border-width:0 1px}
table.grid-rows>*>tr>*{border-width:1px 0}
table.frame-all{border-width:1px}
table.frame-ends{border-width:1px 0}
table.frame-sides{border-width:0 1px}
table.frame-none>colgroup+*>:first-child>*,table.frame-sides>colgroup+*>:first-child>*{border-top-width:0}
table.frame-none>:last-child>:last-child>*,table.frame-sides>:last-child>:last-child>*{border-bottom-width:0}
table.frame-none>*>tr>:first-child,table.frame-ends>*>tr>:first-child{border-left-width:0}
table.frame-none>*>tr>:last-child,table.frame-ends>*>tr>:last-child{border-right-width:0}
table.stripes-all>*>tr,table.stripes-odd>*>tr:nth-of-type(odd),table.stripes-even>*>tr:nth-of-type(even),table.stripes-hover>*>tr:hover{background:#f8f8f7}
th.halign-left,td.halign-left{text-align:left}
th.halign-right,td.halign-right{text-align:right}
th.halign-center,td.halign-center{text-align:center}
th.valign-top,td.valign-top{vertical-align:top}
th.valign-bottom,td.valign-bottom{vertical-align:bottom}
th.valign-middle,td.valign-middle{vertical-align:middle}
table thead th,table tfoot th{font-weight:bold}
tbody tr th{background:#f7f8f7}
tbody tr th,tbody tr th p,tfoot tr th,tfoot tr th p{color:rgba(0,0,0,.8);font-weight:bold}
p.tableblock>code:only-child{background:none;padding:0}
p.tableblock{font-size:1em}
ol{margin-left:1.75em}
ul li ol{margin-left:1.5em}
dl dd{margin-left:1.125em}
dl dd:last-child,dl dd:last-child>:last-child{margin-bottom:0}
li p,ul dd,ol dd,.olist .olist,.ulist .ulist,.ulist .olist,.olist .ulist{margin-bottom:.625em}
ul.checklist,ul.none,ol.none,ul.no-bullet,ol.no-bullet,ol.unnumbered,ul.unstyled,ol.unstyled{list-style-type:none}
ul.no-bullet,ol.no-bullet,ol.unnumbered{margin-left:.625em}
ul.unstyled,ol.unstyled{margin-left:0}
li>p:empty:only-child::before{content:"";display:inline-block}
ul.checklist>li>p:first-child{margin-left:-1em}
ul.checklist>li>p:first-child>.fa-square-o:first-child,ul.checklist>li>p:first-child>.fa-check-square-o:first-child{width:1.25em;font-size:.8em;position:relative;bottom:.125em}
ul.checklist>li>p:first-child>input[type=checkbox]:first-child{margin-right:.25em}
ul.inline{display:flex;flex-flow:row wrap;list-style:none;margin:0 0 .625em -1.25em}
ul.inline>li{margin-left:1.25em}
.unstyled dl dt{font-weight:400;font-style:normal}
ol.arabic{list-style-type:decimal}
ol.decimal{list-style-type:decimal-leading-zero}
ol.loweralpha{list-style-type:lower-alpha}
ol.upperalpha{list-style-type:upper-alpha}
ol.lowerroman{list-style-type:lower-roman}
ol.upperroman{list-style-type:upper-roman}
ol.lowergreek{list-style-type:lower-greek}
.hdlist>table,.colist>table{border:0;background:none}
.hdlist>table>tbody>tr,.colist>table>tbody>tr{background:none}
td.hdlist1,td.hdlist2{vertical-align:top;padding:0 .625em}
td.hdlist1{font-weight:bold;padding-bottom:1.25em}
td.hdlist2{word-wrap:anywhere}
.literalblock+.colist,.listingblock+.colist{margin-top:-.5em}
.colist td:not([class]):first-child{padding:.4em .75em 0;line-height:1;vertical-align:top}
.colist td:not([class]):first-child img{max-width:none}
.colist td:not([class]):last-child{padding:.25em 0}
.thumb,.th{line-height:0;display:inline-block;border:4px solid #fff;box-shadow:0 0 0 1px #ddd}
.imageblock.left{margin:.25em .625em 1.25em 0}
.imageblock.right{margin:.25em 0 1.25em .625em}
.imageblock>.title{margin-bottom:0}
.imageblock.thumb,.imageblock.th{border-width:6px}
.imageblock.thumb>.title,.imageblock.th>.title{padding:0 .125em}
.image.left,.image.right{margin-top:.25em;margin-bottom:.25em;display:inline-block;line-height:0}
.image.left{margin-right:.625em}
.image.right{margin-left:.625em}
a.image{text-decoration:none;display:inline-block}
a.image object{pointer-events:none}
sup.footnote,sup.footnoteref{font-size:.875em;position:static;vertical-align:super}
sup.footnote a,sup.footnoteref a{text-decoration:none}
sup.footnote a:active,sup.footnoteref a:active{text-decoration:underline}
#footnotes{padding-top:.75em;padding-bottom:.75em;margin-bottom:.625em}
#footnotes hr{width:20%;min-width:6.25em;margin:-.25em 0 .75em;border-width:1px 0 0}
#footnotes .footnote{padding:0 .375em 0 .225em;line-height:1.3334;font-size:.875em;margin-left:1.2em;margin-bottom:.2em}
#footnotes .footnote a:first-of-type{font-weight:bold;text-decoration:none;margin-left:-1.05em}
#footnotes .footnote:last-of-type{margin-bottom:0}
#content #footnotes{margin-top:-.625em;margin-bottom:0;padding:.75em 0}
div.unbreakable{page-break-inside:avoid}
.big{font-size:larger}
.small{font-size:smaller}
.underline{text-decoration:underline}
.overline{text-decoration:overline}
.line-through{text-decoration:line-through}
.aqua{color:#00bfbf}
.aqua-background{background:#00fafa}
.black{color:#000}
.black-background{background:#000}
.blue{color:#0000bf}
.blue-background{background:#0000fa}
.fuchsia{color:#bf00bf}
.fuchsia-background{background:#fa00fa}
.gray{color:#606060}
.gray-background{background:#7d7d7d}
.green{color:#006000}
.green-background{background:#007d00}
.lime{color:#00bf00}
.lime-background{background:#00fa00}
.maroon{color:#600000}
.maroon-background{background:#7d0000}
.navy{color:#000060}
.navy-background{background:#00007d}
.olive{color:#606000}
.olive-background{background:#7d7d00}
.purple{color:#600060}
.purple-background{background:#7d007d}
.red{color:#bf0000}
.red-background{background:#fa0000}
.silver{color:#909090}
.silver-background{background:#bcbcbc}
.teal{color:#006060}
.teal-background{background:#007d7d}
.white{color:#bfbfbf}
.white-background{background:#fafafa}
.yellow{color:#bfbf00}
.yellow-background{background:#fafa00}
span.icon>.fa{cursor:default}
a span.icon>.fa{cursor:inherit}
.admonitionblock td.icon [class^="fa icon-"]{font-size:2.5em;text-shadow:1px 1px 2px rgba(0,0,0,.5);cursor:default}
.admonitionblock td.icon .icon-note::before{content:"\f05a";color:#19407c}
.admonitionblock td.icon .icon-tip::before{content:"\f0eb";text-shadow:1px 1px 2px rgba(155,155,0,.8);color:#111}
.admonitionblock td.icon .icon-warning::before{content:"\f071";color:#bf6900}
.admonitionblock td.icon .icon-caution::before{content:"\f06d";color:#bf3400}
.admonitionblock td.icon .icon-important::before{content:"\f06a";color:#bf0000}
.conum[data-value]{display:inline-block;color:#fff!important;background:rgba(0,0,0,.8);border-radius:50%;text-align:center;font-size:.75em;width:1.67em;height:1.67em;line-height:1.67em;font-family:"Open Sans","DejaVu Sans",sans-serif;font-style:normal;font-weight:bold}
.conum[data-value] *{color:#fff!important}
.conum[data-value]+b{display:none}
.conum[data-value]::after{content:attr(data-value)}
pre .conum[data-value]{position:relative;top:-.125em}
b.conum *{color:inherit!important}
.conum:not([data-value]):empty{display:none}
dt,th.tableblock,td.content,div.footnote{text-rendering:optimizeLegibility}
h1,h2,p,td.content,span.alt,summary{letter-spacing:-.01em}
p strong,td.content strong,div.footnote strong{letter-spacing:-.005em}
p,blockquote,dt,td.content,td.hdlist1,span.alt,summary{font-size:1.0625rem}
p{margin-bottom:1.25rem}
.sidebarblock p,.sidebarblock dt,.sidebarblock td.content,p.tableblock{font-size:1em}
.exampleblock>.content{background:#fffef7;border-color:#e0e0dc;box-shadow:0 1px 4px #e0e0dc}
.print-only{display:none!important}
@page{margin:1.25cm .75cm}
@media print{*{box-shadow:none!important;text-shadow:none!important}
html{font-size:80%}
a{color:inherit!important;text-decoration:underline!important}
a.bare,a[href^="#"],a[href^="mailto:"]{text-decoration:none!important}
a[href^="http:"]:not(.bare)::after,a[href^="https:"]:not(.bare)::after{content:"(" attr(href) ")";display:inline-block;font-size:.875em;padding-left:.25em}
abbr[title]{border-bottom:1px dotted}
abbr[title]::after{content:" (" attr(title) ")"}
pre,blockquote,tr,img,object,svg{page-break-inside:avoid}
thead{display:table-header-group}
svg{max-width:100%}
p,blockquote,dt,td.content{font-size:1em;orphans:3;widows:3}
h2,h3,#toctitle,.sidebarblock>.content>.title{page-break-after:avoid}
#header,#content,#footnotes,#footer{max-width:none}
#toc,.sidebarblock,.exampleblock>.content{background:none!important}
#toc{border-bottom:1px solid #dddddf!important;padding-bottom:0!important}
body.book #header{text-align:center}
body.book #header>h1:first-child{border:0!important;margin:2.5em 0 1em}
body.book #header .details{border:0!important;display:block;padding:0!important}
body.book #header .details span:first-child{margin-left:0!important}
body.book #header .details br{display:block}
body.book #header .details br+span::before{content:none!important}
body.book #toc{border:0!important;text-align:left!important;padding:0!important;margin:0!important}
body.book #toc,body.book #preamble,body.book h1.sect0,body.book .sect1>h2{page-break-before:always}
.listingblock code[data-lang]::before{display:block}
#footer{padding:0 .9375em}
.hide-on-print{display:none!important}
.print-only{display:block!important}
.hide-for-print{display:none!important}
.show-for-print{display:inherit!important}}
@media amzn-kf8,print{#header>h1:first-child{margin-top:1.25rem}
.sect1{padding:0!important}
.sect1+.sect1{border:0}
#footer{background:none}
#footer-text{color:rgba(0,0,0,.6);font-size:.9em}}
@media amzn-kf8{#header,#content,#footnotes,#footer{padding:0}}
</style>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
<style>
pre.pygments .hll { background-color: #ffffcc }
pre.pygments { background: #f8f8f8; }
pre.pygments .tok-c { color: #3D7B7B; font-style: italic } /* Comment */
pre.pygments .tok-err { border: 1px solid #FF0000 } /* Error */
pre.pygments .tok-k { color: #008000; font-weight: bold } /* Keyword */
pre.pygments .tok-o { color: #666666 } /* Operator */
pre.pygments .tok-ch { color: #3D7B7B; font-style: italic } /* Comment.Hashbang */
pre.pygments .tok-cm { color: #3D7B7B; font-style: italic } /* Comment.Multiline */
pre.pygments .tok-cp { color: #9C6500 } /* Comment.Preproc */
pre.pygments .tok-cpf { color: #3D7B7B; font-style: italic } /* Comment.PreprocFile */
pre.pygments .tok-c1 { color: #3D7B7B; font-style: italic } /* Comment.Single */
pre.pygments .tok-cs { color: #3D7B7B; font-style: italic } /* Comment.Special */
pre.pygments .tok-gd { color: #A00000 } /* Generic.Deleted */
pre.pygments .tok-ge { font-style: italic } /* Generic.Emph */
pre.pygments .tok-gr { color: #E40000 } /* Generic.Error */
pre.pygments .tok-gh { color: #000080; font-weight: bold } /* Generic.Heading */
pre.pygments .tok-gi { color: #008400 } /* Generic.Inserted */
pre.pygments .tok-go { color: #717171 } /* Generic.Output */
pre.pygments .tok-gp { color: #000080; font-weight: bold } /* Generic.Prompt */
pre.pygments .tok-gs { font-weight: bold } /* Generic.Strong */
pre.pygments .tok-gu { color: #800080; font-weight: bold } /* Generic.Subheading */
pre.pygments .tok-gt { color: #0044DD } /* Generic.Traceback */
pre.pygments .tok-kc { color: #008000; font-weight: bold } /* Keyword.Constant */
pre.pygments .tok-kd { color: #008000; font-weight: bold } /* Keyword.Declaration */
pre.pygments .tok-kn { color: #008000; font-weight: bold } /* Keyword.Namespace */
pre.pygments .tok-kp { color: #008000 } /* Keyword.Pseudo */
pre.pygments .tok-kr { color: #008000; font-weight: bold } /* Keyword.Reserved */
pre.pygments .tok-kt { color: #B00040 } /* Keyword.Type */
pre.pygments .tok-m { color: #666666 } /* Literal.Number */
pre.pygments .tok-s { color: #BA2121 } /* Literal.String */
pre.pygments .tok-na { color: #687822 } /* Name.Attribute */
pre.pygments .tok-nb { color: #008000 } /* Name.Builtin */
pre.pygments .tok-nc { color: #0000FF; font-weight: bold } /* Name.Class */
pre.pygments .tok-no { color: #880000 } /* Name.Constant */
pre.pygments .tok-nd { color: #AA22FF } /* Name.Decorator */
pre.pygments .tok-ni { color: #717171; font-weight: bold } /* Name.Entity */
pre.pygments .tok-ne { color: #CB3F38; font-weight: bold } /* Name.Exception */
pre.pygments .tok-nf { color: #0000FF } /* Name.Function */
pre.pygments .tok-nl { color: #767600 } /* Name.Label */
pre.pygments .tok-nn { color: #0000FF; font-weight: bold } /* Name.Namespace */
pre.pygments .tok-nt { color: #008000; font-weight: bold } /* Name.Tag */
pre.pygments .tok-nv { color: #19177C } /* Name.Variable */
pre.pygments .tok-ow { color: #AA22FF; font-weight: bold } /* Operator.Word */
pre.pygments .tok-w { color: #bbbbbb } /* Text.Whitespace */
pre.pygments .tok-mb { color: #666666 } /* Literal.Number.Bin */
pre.pygments .tok-mf { color: #666666 } /* Literal.Number.Float */
pre.pygments .tok-mh { color: #666666 } /* Literal.Number.Hex */
pre.pygments .tok-mi { color: #666666 } /* Literal.Number.Integer */
pre.pygments .tok-mo { color: #666666 } /* Literal.Number.Oct */
pre.pygments .tok-sa { color: #BA2121 } /* Literal.String.Affix */
pre.pygments .tok-sb { color: #BA2121 } /* Literal.String.Backtick */
pre.pygments .tok-sc { color: #BA2121 } /* Literal.String.Char */
pre.pygments .tok-dl { color: #BA2121 } /* Literal.String.Delimiter */
pre.pygments .tok-sd { color: #BA2121; font-style: italic } /* Literal.String.Doc */
pre.pygments .tok-s2 { color: #BA2121 } /* Literal.String.Double */
pre.pygments .tok-se { color: #AA5D1F; font-weight: bold } /* Literal.String.Escape */
pre.pygments .tok-sh { color: #BA2121 } /* Literal.String.Heredoc */
pre.pygments .tok-si { color: #A45A77; font-weight: bold } /* Literal.String.Interpol */
pre.pygments .tok-sx { color: #008000 } /* Literal.String.Other */
pre.pygments .tok-sr { color: #A45A77 } /* Literal.String.Regex */
pre.pygments .tok-s1 { color: #BA2121 } /* Literal.String.Single */
pre.pygments .tok-ss { color: #19177C } /* Literal.String.Symbol */
pre.pygments .tok-bp { color: #008000 } /* Name.Builtin.Pseudo */
pre.pygments .tok-fm { color: #0000FF } /* Name.Function.Magic */
pre.pygments .tok-vc { color: #19177C } /* Name.Variable.Class */
pre.pygments .tok-vg { color: #19177C } /* Name.Variable.Global */
pre.pygments .tok-vi { color: #19177C } /* Name.Variable.Instance */
pre.pygments .tok-vm { color: #19177C } /* Name.Variable.Magic */
pre.pygments .tok-il { color: #666666 } /* Literal.Number.Integer.Long */
</style>
</head>
<body class="book toc2 toc-left">
<div id="header">
<h1>Guía de Raku</h1>
<div class="details">
<span id="author" class="author">Naoum Hankache</span><br>
<span id="email" class="email"><a href="mailto:naoum@hankache.com">naoum@hankache.com</a></span><br>
<span id="author2" class="author">Ramiro Encinas</span><br>
<span id="email2" class="email"><a href="mailto:ramiro.encinas@gmail.com">ramiro.encinas@gmail.com</a></span><br>
</div>
<div id="toc" class="toc2">
<div id="toctitle">Tabla de Contenidos</div>
<ul class="sectlevel1">
<li><a href="#_introducción">1. Introducción</a>
<ul class="sectlevel2">
<li><a href="#_qué_es_raku">1.1. Qué es Raku</a></li>
<li><a href="#_jerga">1.2. Jerga</a></li>
<li><a href="#_instalación_de_raku">1.3. Instalación de Raku</a></li>
<li><a href="#_ejecutando_código_en_raku">1.4. Ejecutando código en Raku</a></li>
<li><a href="#_editores">1.5. Editores</a></li>
<li><a href="#_hola_mundo">1.6. ¡Hola Mundo!</a></li>
<li><a href="#_sintaxis_general">1.7. Sintaxis general</a></li>
</ul>
</li>
<li><a href="#_operadores">2. Operadores</a>
<ul class="sectlevel2">
<li><a href="#_operadores_comunes">2.1. Operadores comunes</a></li>
<li><a href="#_intercambio_de_operandos">2.2. Intercambio de Operandos</a></li>
<li><a href="#_reducción_de_operadores">2.3. Reducción de Operadores</a></li>
</ul>
</li>
<li><a href="#_variables">3. Variables</a>
<ul class="sectlevel2">
<li><a href="#_escalares">3.1. Escalares</a></li>
<li><a href="#_arrays">3.2. Arrays</a></li>
<li><a href="#_hashes">3.3. Hashes</a></li>
<li><a href="#_tipos">3.4. Tipos</a></li>
<li><a href="#_introspección">3.5. Introspección</a></li>
<li><a href="#_alcance">3.6. Alcance</a></li>
<li><a href="#_asignación_vs_vinculación">3.7. Asignación vs. Vinculación</a></li>
</ul>
</li>
<li><a href="#_funciones_y_mutadores">4. Funciones y mutadores</a></li>
<li><a href="#_bucles_y_condiciones">5. Bucles y condiciones</a>
<ul class="sectlevel2">
<li><a href="#_if">5.1. if</a></li>
<li><a href="#_unless">5.2. unless</a></li>
<li><a href="#_with">5.3. with</a></li>
<li><a href="#_for">5.4. for</a></li>
<li><a href="#_given">5.5. given</a></li>
<li><a href="#_loop">5.6. loop</a></li>
</ul>
</li>
<li><a href="#_io">6. I/O</a>
<ul class="sectlevel2">
<li><a href="#_es_básica_mediante_el_terminal">6.1. E/S básica mediante el Terminal</a></li>
<li><a href="#_ejecutando_comandos_de_la_shell">6.2. Ejecutando Comandos de la Shell</a></li>
<li><a href="#_es_de_archivos">6.3. E/S de Archivos</a></li>
<li><a href="#_manipulando_archivos_y_carpetas">6.4. Manipulando archivos y carpetas</a></li>
</ul>
</li>
<li><a href="#_subrutinas">7. Subrutinas</a>
<ul class="sectlevel2">
<li><a href="#_definición">7.1. Definición</a></li>
<li><a href="#_signatura">7.2. Signatura</a></li>
<li><a href="#_sobrecarga">7.3. Sobrecarga</a></li>
<li><a href="#_parámetros_por_defecto_y_opcionales">7.4. Parámetros por defecto y opcionales</a></li>
<li><a href="#_valores_de_retorno">7.5. Valores de retorno</a></li>
</ul>
</li>
<li><a href="#_programación_funcional">8. Programación Funcional</a>
<ul class="sectlevel2">
<li><a href="#_las_funciones_son_de_primera_clase">8.1. Las Funciones son de primera clase</a></li>
<li><a href="#_funciones_anónimas">8.2. Funciones anónimas</a></li>
<li><a href="#_encadenamiento">8.3. Encadenamiento</a></li>
<li><a href="#_operador_de_alimentación">8.4. Operador de Alimentación</a></li>
<li><a href="#_hiperoperador">8.5. Hiperoperador</a></li>
<li><a href="#_ensamblajes">8.6. Ensamblajes</a></li>
<li><a href="#_listas_perezosas">8.7. Listas perezosas</a></li>
<li><a href="#_clausuras">8.8. Clausuras</a></li>
</ul>
</li>
<li><a href="#_clases_y_objetos">9. Clases y Objetos</a>
<ul class="sectlevel2">
<li><a href="#_introducción_2">9.1. Introducción</a></li>
<li><a href="#_encapsulación">9.2. Encapsulación</a></li>
<li><a href="#_parámetros_posicionales_vs_parámetros_con_nombre">9.3. Parámetros Posicionales vs. Parámetros con nombre</a></li>
<li><a href="#_métodos">9.4. Métodos</a></li>
<li><a href="#_atributos_de_clase">9.5. Atributos de Clase</a></li>
<li><a href="#_tipo_de_acceso">9.6. Tipo de Acceso</a></li>
<li><a href="#_herencia">9.7. Herencia</a></li>
<li><a href="#_herencia_múltiple">9.8. Herencia Múltiple</a></li>
<li><a href="#_roles">9.9. Roles</a></li>
<li><a href="#_introspección_2">9.10. Introspección</a></li>
</ul>
</li>
<li><a href="#_control_de_excepciones">10. Control de Excepciones</a>
<ul class="sectlevel2">
<li><a href="#_captura_de_excepciones">10.1. Captura de Excepciones</a></li>
<li><a href="#_lanzando_excepciones">10.2. Lanzando Excepciones</a></li>
</ul>
</li>
<li><a href="#_expresiones_regulares">11. Expresiones Regulares</a>
<ul class="sectlevel2">
<li><a href="#_definición_de_regex">11.1. Definición de Regex</a></li>
<li><a href="#_búsqueda_de_caracteres">11.2. Búsqueda de caracteres</a></li>
<li><a href="#_categorías_de_caracteres">11.3. Categorías de caracteres</a></li>
<li><a href="#_propiedades_unicode">11.4. Propiedades Unicode</a></li>
<li><a href="#_comodines">11.5. Comodines</a></li>
<li><a href="#_cuantificadores">11.6. Cuantificadores</a></li>
<li><a href="#_extracción_de_resultados">11.7. Extracción de resultados</a></li>
<li><a href="#_ejemplo">11.8. Ejemplo</a></li>
</ul>
</li>
<li><a href="#_módulos_en_raku">12. Módulos en Raku</a>
<ul class="sectlevel2">
<li><a href="#_utilizando_módulos">12.1. Utilizando Módulos</a></li>
</ul>
</li>
<li><a href="#_unicode">13. Unicode</a>
<ul class="sectlevel2">
<li><a href="#_utilizando_unicode">13.1. Utilizando Unicode</a></li>
<li><a href="#_operaciones_contempladas_con_unicode">13.2. Operaciones contempladas con Unicode</a></li>
</ul>
</li>
<li><a href="#_paralelismo_concurrencia_y_asincronía">14. Paralelismo, Concurrencia y Asincronía</a>
<ul class="sectlevel2">
<li><a href="#_paralelismo">14.1. Paralelismo</a></li>
<li><a href="#_concurrencia_y_asincronía">14.2. Concurrencia y Asincronía</a></li>
</ul>
</li>
<li><a href="#_interfaz_de_llamadas_nativas">15. Interfaz de Llamadas Nativas</a>
<ul class="sectlevel2">
<li><a href="#_llamada_a_una_función">15.1. Llamada a una función</a></li>
<li><a href="#_cambiando_el_nombre_a_una_función">15.2. Cambiando el nombre a una función</a></li>
<li><a href="#_pasando_argumentos">15.3. Pasando Argumentos</a></li>
<li><a href="#_valores_de_retorno_2">15.4. Valores de retorno</a></li>
<li><a href="#_tipos_2">15.5. Tipos</a></li>
</ul>
</li>
<li><a href="#_la_comunidad">16. La Comunidad</a></li>
</ul>
</div>
</div>
<div id="content">
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>Este documento es una guía rápida del lenguaje de programación Raku.<br>
Para los novatos en Raku sería un punto de partida y puesta en marcha.</p>
</div>
<div class="paragraph">
<p>Algunas partes de este documento hacen referencia a otras partes (más completas y precisas) de la <a href="https://docs.raku.org">Documentación de Raku</a>.
Consulta la documentación si necesitas más información sobre algo concreto.</p>
</div>
<div class="paragraph">
<p>A lo largo de este documento encontrarás ejemplos de los temas más comentados.
Es conveniente que pruebes todos los ejemplos para entenderlos bien.</p>
</div>
<div class="paragraph">
<div class="title">Licencia</div>
<p>Este trabajo está bajo la licencia Creative Commons Attribution-ShareAlike 4.0 International License. Puedes encontrar una copia de esta licencia en</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="https://creativecommons.org/licenses/by-sa/4.0/" class="bare">https://creativecommons.org/licenses/by-sa/4.0/</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<div class="title">Colaboración</div>
<p>Puedes colaborar en este documento en:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="https://github.com/hankache/rakuguide" class="bare">https://github.com/hankache/rakuguide</a></p>
</li>
</ul>
</div>
<div class="ulist">
<div class="title">Sugerencias y comentarios</div>
<ul>
<li>
<p><a href="mailto:naoum@hankache.com">naoum@hankache.com</a></p>
</li>
<li>
<p><a href="mailto:ramiro.encinas@gmail.com">ramiro.encinas@gmail.com</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Si te gusta este trabajo clica en <em>Star</em> del <a href="https://github.com/hankache/rakuguide">repositorio de Github</a>.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_introducción">1. Introducción</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_qué_es_raku">1.1. Qué es Raku</h3>
<div class="paragraph">
<p>Raku es un lenguaje de alto nivel, de propósito general y de tipado gradual.
Raku es multiparadigma y soporta programación Procedimental, Orientada a Objetos y Funcional.</p>
</div>
<div class="ulist">
<div class="title">El lema de Raku:</div>
<ul>
<li>
<p>TMTOWTDI (Pronunciado como Tim Toady): There is more than one way to do it (Hay más de una forma para hacer algo).</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_jerga">1.2. Jerga</h3>
<div class="ulist">
<ul>
<li>
<p><strong>Raku</strong>: Es una especificación con un banco de pruebas.
Las implementaciones que pasan el banco de pruebas de la especificación se consideran Raku.</p>
</li>
<li>
<p><strong>Rakudo</strong>: Es un compilador para Raku.</p>
</li>
<li>
<p><strong>Zef</strong>: Es un instalador de módulos de Raku.</p>
</li>
<li>
<p><strong>Rakudo Star</strong>: Es un paquete que incluye Rakudo, Zef, una colección de módulos de Raku y documentación.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_instalación_de_raku">1.3. Instalación de Raku</h3>
<div class="paragraph">
<div class="title">Linux</div>
<p>Instalación de Rakudo Star desde la línea de comandos:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-nb">mkdir</span> ~/<span class="tok-n">rakudo</span> &amp;&amp; <span class="tok-n">cd</span> <span class="tok-nv">$_</span>
<span class="tok-n">curl</span> -<span class="tok-n">LJO</span> <span class="tok-n">https:</span>//<span class="tok-n">rakudo</span>.<span class="tok-n">org</span><span class="tok-o">/</span><span class="tok-n">latest</span><span class="tok-o">/</span><span class="tok-n">star</span><span class="tok-o">/</span><span class="tok-n">src</span>
<span class="tok-n">tar</span> -<span class="tok-n">xzf</span> <span class="tok-n">rakudo-star-</span>*.<span class="tok-n">tar</span>.<span class="tok-n">gz</span>
<span class="tok-n">mv</span> <span class="tok-n">rakudo-star-</span>*/* .
<span class="tok-n">rm</span> -<span class="tok-n">fr</span> <span class="tok-n">rakudo-star-</span>*

./<span class="tok-n">bin</span><span class="tok-o">/</span><span class="tok-n">rstar</span> <span class="tok-n">install</span>

<span class="tok-n">echo</span> <span class="tok-s">&quot;export PATH=$(pwd)/bin/:$(pwd)/share/perl6/site/bin:$(pwd)/share/perl6/vendor/bin:$(pwd)/share/perl6/core/bin:\$PATH&quot;</span> &gt;&gt; ~/.<span class="tok-n">bashrc</span>
<span class="tok-nb">source</span> ~/.<span class="tok-n">bashrc</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Tienes más información en <a href="https://rakudo.org/star/source" class="bare">https://rakudo.org/star/source</a></p>
</div>
<div class="paragraph">
<div class="title">macOS</div>
<p>Tienes cuatro opciones:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Sigue los mismos pasos de la instalación para Linux</p>
</li>
<li>
<p>Realizar la instalación con homebrew: <code>brew install rakudo-star</code></p>
</li>
<li>
<p>Realizar la instalación con MacPorts: <code>sudo port install rakudo</code></p>
</li>
<li>
<p>Descargar el último instalador (archivo con extensión .dmg) desde
<a href="https://rakudo.org/latest/star/macos" class="bare">https://rakudo.org/latest/star/macos</a></p>
</li>
</ul>
</div>
<div class="olist arabic">
<div class="title">Windows</div>
<ol class="arabic">
<li>
<p>Para arquitectura 64-bit: descarga el instalador más reciente (.msi) desde
<a href="https://rakudo.org/latest/star/win" class="bare">https://rakudo.org/latest/star/win</a></p>
</li>
<li>
<p>Finalizada la instalación, comprueba que <code>C:\rakudo\bin</code> figura en el PATH del sistema.</p>
</li>
</ol>
</div>
<div class="olist arabic">
<div class="title">Docker</div>
<ol class="arabic">
<li>
<p>Consigue la imagen oficial de Docker <code>docker pull rakudo-star</code></p>
</li>
<li>
<p>Y ejecuta un contenedor con la imagen <code>docker run -it rakudo-star</code></p>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="_ejecutando_código_en_raku">1.4. Ejecutando código en Raku</h3>
<div class="paragraph">
<p>Puedes ejecutar código Raku mediante REPL (Read-Eval-Print Loop). Para ello, abre un terminal, introduce <code>perl6</code> y pulsa [Enter]. Aparecerá el prompt <code>&gt;</code>. Ahora introduce una línea de código, pulsa [Enter] y aparecerá una línea nueva con el resultado. Puedes introducir otra línea o <code>exit</code> y pulsar [Enter] para salir al sistema.</p>
</div>
<div class="paragraph">
<p>También puedes escribir tu código en un archivo de texto, guardarlo y ejecutarlo. Es recomendable que los scripts de Raku tengan la extensión <code>.raku</code>. Ejecuta el archivo de esta forma: <code>perl6 nombre-archivo.raku</code> desde un terminal y pulsa [Enter]. La ejecución suele mostrar el resultado de sentencias como <code>say</code> para visualizar por la salida estándar contenidos de texto con un salto de línea al final .</p>
</div>
<div class="paragraph">
<p>REPL normalmente se utiliza para probar trozos pequeños de código, como una línea. En el caso de programas con más de una línea de código es recomendable guardarlos en un archivo y ejecutarlos como hemos visto.</p>
</div>
<div class="paragraph">
<p>También puedes ejecutar una línea de código de forma "in-line" mediante el parámetro -e de la siguiente forma: <code>perl6 -e 'línea de código'</code> y pulsando [Enter].</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Rakudo Star incorpora un editor de líneas con más funcionalidades para REPL.</p>
</div>
<div class="paragraph">
<p>Si instalaste Rakudo en lugar de Rakudo Star es probable que no tengas estas funcionalidades (historial con flechas verticales, edición de la línea con flechas horizontales, autocompletar con TAB, etc.). Para instalar estas funcionalidades utiliza estos comandos:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>zef install Linenoise</code> debe funcionar en Windows, Linux y macOS</p>
</li>
<li>
<p><code>zef install Readline</code> si tienes Linux y prefieres la librería <em>Readline</em></p>
</li>
</ul>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_editores">1.5. Editores</h3>
<div class="paragraph">
<p>Como casi siempre vamos a guardar nuestros programas de Raku en archivos, necesitamos un editor de textos decente que reconozca la sintaxis de Raku.</p>
</div>
<div class="paragraph">
<p>Yo recomiendo y utilizo <a href="https://atom.io/">Atom</a>. Es un editor de textos moderno que reconoce y visualiza bien la sintaxis de Raku.
<a href="https://atom.io/packages/language-perl6">Perl 6 FE</a> es un paquete de Atom con una visualización alternativa de la sintaxis de Raku, deriva del paquete original, tiene muchas correcciones y más funcionalidades.</p>
</div>
<div class="paragraph">
<p>En la comunidad también se utiliza <a href="http://www.vim.org/">Vim</a>, <a href="https://www.gnu.org/software/emacs/">Emacs</a> o <a href="http://padre.perlide.org/">Padre</a>.</p>
</div>
<div class="paragraph">
<p>Las últimas versiones de Vim permiten la visualización de la sintaxis mediante plug-ins; Emacs y Padre necesitan instalar paquetes adicionales.</p>
</div>
</div>
<div class="sect2">
<h3 id="_hola_mundo">1.6. ¡Hola Mundo!</h3>
<div class="paragraph">
<p>Comenzamos con El ritual <code>hola mundo</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-nb">say</span> <span class="tok-s">&#39;hola mundo&#39;</span>;</code></pre>
</div>
</div>
<div class="paragraph">
<p>que también puede escribirse como:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-s">&#39;hola mundo&#39;</span>.<span class="tok-nb">say</span>;</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_sintaxis_general">1.7. Sintaxis general</h3>
<div class="paragraph">
<p>Raku tiene <strong>forma libre</strong>: generalmente los espacios en blanco carecen de significado salvo en ciertos casos.</p>
</div>
<div class="paragraph">
<p><strong>Una Sentencia</strong> normalmente es una línea lógica de código que finaliza en punto y coma:
<code>say "Hola" if True;</code></p>
</div>
<div class="paragraph">
<p><strong>Las Expresiones</strong> son sentencias especiales que devuelven un valor:
<code>1+2</code> devuelve <code>3</code></p>
</div>
<div class="paragraph">
<p>Las expresiones están formadas por <strong>Términos</strong> y <strong>Operadores</strong>.</p>
</div>
<div class="paragraph">
<p><strong>Los Términos</strong> pueden ser:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Variables</strong>: Un valor que puede manipularse y ser cambiado.</p>
</li>
<li>
<p><strong>Literales</strong>: Un valor constante como un número o un texto.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>Los Operadores</strong> se clasifican en estos tipos:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Tipo</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Significado</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Ejemplo</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Prefijo</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Antes del término</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>++1</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Infijo</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Entre términos</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>1+2</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Sufijo</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Después del término</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>1++</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Circumfijo</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Al principio y al final del término</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>(1)</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Precircumfijo</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Después del término, al principio y al final de otro</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Array[1]</code></p></td>
</tr>
</tbody>
</table>
<div class="sect3">
<h4 id="_identificadores">1.7.1. Identificadores</h4>
<div class="paragraph">
<p>Los identificadores son los nombres que se le dan a los términos cuando los defines.</p>
</div>
<div class="ulist">
<div class="title">Reglas:</div>
<ul>
<li>
<p>Deben comenzar con un carácter alfabético o un guión bajo.</p>
</li>
<li>
<p>Pueden contener dígitos excepto en el primer carácter.</p>
</li>
<li>
<p>Pueden contener guión medio o apóstrofe seguido de un carácter alfabético, no al final.</p>
</li>
</ul>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Válido</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>No válido</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>var1</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>1var</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>var-uno</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>var-1</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>var&#8217;uno</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>var'1</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>var1_</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>var1'</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>_var</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>-var</code></p></td>
</tr>
</tbody>
</table>
<div class="ulist">
<div class="title">Convención de nombres:</div>
<ul>
<li>
<p>Notación Camello: <code>variableNum1</code></p>
</li>
<li>
<p>Notación Kebab: <code>variable-num1</code></p>
</li>
<li>
<p>Notación Serpiente: <code>variable_num1</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Puedes nombrar tus identificadores como quieras, pero es recomendable utilizar una convención consistente.</p>
</div>
<div class="paragraph">
<p>Utiliza nombres significativos para hacerlo más fácil, a tí y a los demás.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>var1 = var2 * var3</code> es correcto pero no tiene un propósito evidente.</p>
</li>
<li>
<p><code>mes-salario = dia-frecuencia * dias-trabajo</code> es una buena forma de nombrar las variables.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_comentarios">1.7.2. Comentarios</h4>
<div class="paragraph">
<p>Un comentario es un texto, sirve como anotación y el compilador no lo tiene en cuenta.</p>
</div>
<div class="paragraph">
<p>Hay 3 tipos de comentarios:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>De una línea:</p>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-c1"># Esto es un comentario de una línea</span></code></pre>
</div>
</div>
</li>
<li>
<p>Incrustado:</p>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-nb">say</span> <span class="tok-cm">#`(Esto es un comentario incrustado)</span> <span class="tok-s">&quot;Hola Mundo.&quot;</span></code></pre>
</div>
</div>
</li>
<li>
<p>De varias líneas:</p>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-cm">=begin comentario</span>
<span class="tok-cm">Esto es un comentario de varias líneas.</span>
<span class="tok-cm">Comentario 1</span>
<span class="tok-cm">Comentario 2</span>
<span class="tok-cm">=end comentario</span></code></pre>
</div>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_comillas">1.7.3. Comillas</h4>
<div class="paragraph">
<p>El texto tiene que ir entre comillas dobles o simples.</p>
</div>
<div class="paragraph">
<p>Utiliza siempre comillas dobles:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>si el texto contiene un apóstrofe.</p>
</li>
<li>
<p>si el texto necesita visualizar el texto de una variable (interpolación de variable).</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-nb">say</span> <span class="tok-s">&#39;Hola Mundo&#39;</span>;   <span class="tok-c1"># Hola Mundo</span>
<span class="tok-nb">say</span> <span class="tok-s">&quot;Hola Mundo&quot;</span>;   <span class="tok-c1"># Hola Mundo</span>
<span class="tok-nb">say</span> <span class="tok-s">&quot;Ven pa&#39;ca cordera&quot;</span>;    <span class="tok-c1"># Ven pa&#39;ca cordera</span>
<span class="tok-k">my</span> <span class="tok-nv">$nombre</span> = <span class="tok-s">&#39;Juan De Dios&#39;</span>;
<span class="tok-nb">say</span> <span class="tok-s">&#39;Hola $nombre&#39;</span>;   <span class="tok-c1"># Hola $nombre</span>
<span class="tok-nb">say</span> <span class="tok-s">&quot;Hola $nombre&quot;</span>;   <span class="tok-c1"># Hola Juan De Dios</span></code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_operadores">2. Operadores</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_operadores_comunes">2.1. Operadores comunes</h3>
<div class="paragraph">
<p>La siguiente tabla muestra los operadores más utilizados.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 7.1428%;">
<col style="width: 7.1428%;">
<col style="width: 28.5714%;">
<col style="width: 28.5714%;">
<col style="width: 28.5716%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-middle">Operador</th>
<th class="tableblock halign-center valign-middle">Tipo</th>
<th class="tableblock halign-left valign-middle">Descripción</th>
<th class="tableblock halign-left valign-middle">Ejemplo</th>
<th class="tableblock halign-left valign-middle">Resultado</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>+</code></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>Infijo</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">Suma</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>1 + 2</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>3</code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>-</code></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>Infijo</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">Resta</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>3 - 1</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>2</code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>*</code></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>Infijo</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">Multiplicación</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>3 * 2</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>6</code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>**</code></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>Infijo</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">Potencia</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>3 ** 2</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>9</code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>/</code></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>Infijo</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">División</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>3 / 2</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>1.5</code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>div</code></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>Infijo</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">División Entera (redondeo inferior)</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>3 div 2</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>1</code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>%</code></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>Infijo</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">Resto</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>7 % 4</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>3</code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle" rowspan="2"><p class="tableblock"><code>%%</code></p></td>
<td class="tableblock halign-center valign-middle" rowspan="2"><p class="tableblock"><code>Infijo</code></p></td>
<td class="tableblock halign-left valign-middle" rowspan="2"><p class="tableblock">Divisible</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>6 %% 4</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>False</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>6 %% 3</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>True</code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>gcd</code></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>Infijo</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">Máximo común divisor</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>6 gcd 9</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>3</code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>lcm</code></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>Infijo</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">Mínimo común múltiplo</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>6 lcm 9</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>18</code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>==</code></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>Infijo</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">Igual numérico</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>9 == 7</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>False</code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>!=</code></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>Infijo</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">No igual numérico</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>9 != 7</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>True</code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>&lt;</code></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>Infijo</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">Menor que</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>9 &lt; 7</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>False</code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>&gt;</code></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>Infijo</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">Mayor que</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>9 &gt; 7</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>True</code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>&lt;=</code></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>Infijo</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">Menor o igual</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>7 &lt;= 7</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>True</code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>&gt;=</code></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>Infijo</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">Mayor o igual</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>9 &gt;= 7</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>True</code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>eq</code></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>Infijo</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">Texto igual</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>"Juan" eq "Juan"</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>True</code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>ne</code></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>Infijo</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">Texto no igual</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>"Juan" ne "Juana"</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>True</code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>=</code></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>Infijo</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">Asignación</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>my $var = 7</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>Asigna el valor <code>7</code> a la variable <code>$var</code></code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle" rowspan="2"><p class="tableblock"><code>~</code></p></td>
<td class="tableblock halign-center valign-middle" rowspan="2"><p class="tableblock"><code>Infijo</code></p></td>
<td class="tableblock halign-left valign-middle" rowspan="2"><p class="tableblock">Texto concatenado</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>9 ~ 7</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>97</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>"Buenos " ~ "días"</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>Buenos días</code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle" rowspan="2"><p class="tableblock"><code>x</code></p></td>
<td class="tableblock halign-center valign-middle" rowspan="2"><p class="tableblock"><code>Infijo</code></p></td>
<td class="tableblock halign-left valign-middle" rowspan="2"><p class="tableblock">Texto replicado</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>13 x 3</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>131313</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>"Hola " x 3</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>Hola Hola Hola</code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle" rowspan="5"><p class="tableblock"><code>~~</code></p></td>
<td class="tableblock halign-center valign-middle" rowspan="5"><p class="tableblock"><code>Infijo</code></p></td>
<td class="tableblock halign-left valign-middle" rowspan="5"><p class="tableblock">Expresión regular</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>2 ~~ 2</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>True</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>2 ~~ Int</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>True</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>"Raku" ~~ "Raku"</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>True</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>"Raku" ~~ Str</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>True</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>"iluminación" ~~ /ilumina/</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>｢ilumina｣</code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle" rowspan="2"><p class="tableblock"><code>++</code></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>Prefijo</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">Incremento</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>my $var = 2; ++$var;</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>Incrementa la variable por 1 y devuelve <code>3</code> como resultado</code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>Sufijo</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">Incremento</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>my $var = 2; $var++;</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>Devuelve la variable <code>2</code> y después la incrementa</code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle" rowspan="2"><p class="tableblock"><code>--</code></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>Prefijo</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">Decremento</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>my $var = 2; --$var;</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>Decrementa la variable en 1 y devuelve <code>1</code> como resultado</code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>Sufijo</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">Decremento</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>my $var = 2; $var--;</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>Devuelve la variable <code>2</code> y después la decrementa</code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle" rowspan="3"><p class="tableblock"><code>+</code></p></td>
<td class="tableblock halign-center valign-middle" rowspan="3"><p class="tableblock"><code>Prefijo</code></p></td>
<td class="tableblock halign-left valign-middle" rowspan="3"><p class="tableblock">Fuerza el operando a un valor numérico</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>+"3"</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>3</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>+True</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>1</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>+False</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>0</code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle" rowspan="3"><p class="tableblock"><code>-</code></p></td>
<td class="tableblock halign-center valign-middle" rowspan="3"><p class="tableblock"><code>Prefijo</code></p></td>
<td class="tableblock halign-left valign-middle" rowspan="3"><p class="tableblock">Fuerza el operando a un valor numérico y devuelve la negación</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>-"3"</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>-3</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>-True</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>-1</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>-False</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>0</code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle" rowspan="6"><p class="tableblock"><code>?</code></p></td>
<td class="tableblock halign-center valign-middle" rowspan="6"><p class="tableblock"><code>Prefijo</code></p></td>
<td class="tableblock halign-left valign-middle" rowspan="6"><p class="tableblock">Fuerza el operando a un valor booleano</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>?0</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>False</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>?9.8</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>True</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>?"Hola"</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>True</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>?""</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>False</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>my $var; ?$var;</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>False</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>my $var = 7; ?$var;</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>True</code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>!</code></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>Prefijo</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">Fuerza el operador a un valor booleano y devuelve la negación</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>!4</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>False</code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>..</code></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>Infijo</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">Constructor de Rangos</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>0..5</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>Crea un rango cuyo intervalo es [0, 5] <sup class="footnote" id="_footnote_intervalos">[<a id="_footnoteref_1" class="footnote" href="#_footnotedef_1" title="View footnote.">1</a>]</sup></code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>..^</code></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>Infijo</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">Constructor de Rangos</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>0..^5</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>Crea un rango cuyo intervalo es [0, 5) <sup class="footnoteref">[<a class="footnote" href="#_footnotedef_1" title="View footnote.">1</a>]</sup></code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>^..</code></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>Infijo</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">Constructor de Rangos</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>0^..5</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>Crea un rango cuyo intervalo es (0, 5] <sup class="footnoteref">[<a class="footnote" href="#_footnotedef_1" title="View footnote.">1</a>]</sup></code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>^..^</code></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>Infijo</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">Constructor de Rangos</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>0^..^5</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>Crea un rango cuyo intervalo es (0, 5) <sup class="footnoteref">[<a class="footnote" href="#_footnotedef_1" title="View footnote.">1</a>]</sup></code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>^</code></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>Prefijo</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">Constructor de Rangos</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>^5</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>Igual que 0..^5 Crea un rango cuyo intervalo es [0, 5) <sup class="footnoteref">[<a class="footnote" href="#_footnotedef_1" title="View footnote.">1</a>]</sup></code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>&#8230;&#8203;</code></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>Infijo</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">Constructor de listas perezosas</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>0&#8230;&#8203;9999</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>devuelve los elementos si son solicitados</code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle" rowspan="2"><p class="tableblock"><code>|</code></p></td>
<td class="tableblock halign-center valign-middle" rowspan="2"><p class="tableblock"><code>Prefijo</code></p></td>
<td class="tableblock halign-left valign-middle" rowspan="2"><p class="tableblock">Aplanamiento</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>|(0..5)</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>(0 1 2 3 4 5)</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>|(0^..^5)</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>(1 2 3 4)</code></p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="_intercambio_de_operandos">2.2. Intercambio de Operandos</h3>
<div class="paragraph">
<p>Al agregar <code>R</code> delante de cualquier operador hace que se intercambien sus operandos.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-middle">Operación original</th>
<th class="tableblock halign-left valign-middle">Resultado</th>
<th class="tableblock halign-left valign-middle">Intercambio de operandos</th>
<th class="tableblock halign-left valign-middle">Resultado</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>2 / 3</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>0.666667</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>2 R/ 3</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>1.5</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>2 - 1</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>1</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>2 R- 1</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>-1</code></p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="_reducción_de_operadores">2.3. Reducción de Operadores</h3>
<div class="paragraph">
<p>La reducción de operadores se utiliza en listas de valores. Se forman encerrando el operador entre corchetes <code>[]</code></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-middle">Operación original</th>
<th class="tableblock halign-left valign-middle">Resultado</th>
<th class="tableblock halign-left valign-middle">Reducción de Operadores</th>
<th class="tableblock halign-left valign-middle">Resultado</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>1 + 2 + 3 + 4 + 5</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>15</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>[+] 1,2,3,4,5</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>15</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>1 * 2 * 3 * 4 * 5</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>120</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>[*] 1,2,3,4,5</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>120</code></p></td>
</tr>
</tbody>
</table>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
En <a href="https://docs.raku.org/language/operators" class="bare">https://docs.raku.org/language/operators</a> tienes una lista completa de los operadores, incluyendo su precedencia.
</td>
</tr>
</table>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_variables">3. Variables</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Las variables en Raku se reparten en tres categorías: Escalares, Arrays y Hashes.</p>
</div>
<div class="paragraph">
<p>Un <strong>sigilo</strong> (Signo en Latín) es un carácter utilizado como prefijo para categorizar variables.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>$</code> para escalares</p>
</li>
<li>
<p><code>@</code> para arrays</p>
</li>
<li>
<p><code>%</code> para hashes</p>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="_escalares">3.1. Escalares</h3>
<div class="paragraph">
<p>Un escalar contiene un valor o referencia.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-c1"># Texto</span>
<span class="tok-k">my</span> <span class="tok-nv">$nombre</span> = <span class="tok-s">&#39;Juan De Dios&#39;</span>;
<span class="tok-nb">say</span> <span class="tok-nv">$nombre</span>;

<span class="tok-c1"># Entero</span>
<span class="tok-k">my</span> <span class="tok-nv">$edad</span> = <span class="tok-mi">99</span>;
<span class="tok-nb">say</span> <span class="tok-nv">$edad</span>;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Dependiendo del valor que aloje, se pueden realizar un conjunto específico de operaciones en un escalar.</p>
</div>
<div class="listingblock">
<div class="title">Texto</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">my</span> <span class="tok-nv">$nombre</span> = <span class="tok-s">&#39;Juan De Dios&#39;</span>;
<span class="tok-nb">say</span> <span class="tok-nv">$nombre</span>.<span class="tok-nb">uc</span>;
<span class="tok-nb">say</span> <span class="tok-nv">$nombre</span>.<span class="tok-nb">chars</span>;
<span class="tok-nb">say</span> <span class="tok-nv">$nombre</span>.<span class="tok-nb">flip</span>;</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-n">JUAN</span> <span class="tok-n">DE</span> <span class="tok-n">DIOS</span>
<span class="tok-mi">12</span>
<span class="tok-n">soiD</span> <span class="tok-n">eD</span> <span class="tok-n">nauJ</span></code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Consulta <a href="https://docs.raku.org/type/Str" class="bare">https://docs.raku.org/type/Str</a> para ver la lista completa de métodos de texto.
</td>
</tr>
</table>
</div>
<div class="listingblock">
<div class="title">Enteros</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">my</span> <span class="tok-nv">$edad</span> = <span class="tok-mi">17</span>;
<span class="tok-nb">say</span> <span class="tok-nv">$edad</span>.<span class="tok-nb">is-prime</span>;</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-nb">True</span></code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Consulta <a href="https://docs.raku.org/type/Int" class="bare">https://docs.raku.org/type/Int</a> para ver la lista completa de métodos de enteros.
</td>
</tr>
</table>
</div>
<div class="listingblock">
<div class="title">Números Racionales</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">my</span> <span class="tok-nv">$edad</span> = <span class="tok-mf">2.3</span>;
<span class="tok-nb">say</span> <span class="tok-nv">$edad</span>.<span class="tok-nb">numerator</span>;
<span class="tok-nb">say</span> <span class="tok-nv">$edad</span>.<span class="tok-nb">denominator</span>;
<span class="tok-nb">say</span> <span class="tok-nv">$edad</span>.<span class="tok-nb">nude</span>;</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-mi">23</span>
<span class="tok-mi">10</span>
(<span class="tok-mi">23</span> <span class="tok-mi">10</span>)</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Consulta <a href="https://docs.raku.org/type/Rat" class="bare">https://docs.raku.org/type/Rat</a> para ver la lista completa de métodos de números racionales.
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_arrays">3.2. Arrays</h3>
<div class="paragraph">
<p>Los Arrays son listas que contienen varios valores.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">my</span> <span class="tok-nv">@animales</span> = <span class="tok-s">&#39;camello&#39;</span>,<span class="tok-s">&#39;llama&#39;</span>,<span class="tok-s">&#39;búho&#39;</span>;
<span class="tok-nb">say</span> <span class="tok-nv">@animales</span>;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Se pueden realizar muchas operaciones con arrays, como las de este ejemplo:</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
La tilde <code>~</code> se utiliza para concatenar texto.
</td>
</tr>
</table>
</div>
<div class="listingblock">
<div class="title"><code>Script</code></div>
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">my</span> <span class="tok-nv">@animales</span> = <span class="tok-s">&#39;camello&#39;</span>,<span class="tok-s">&#39;vicuña&#39;</span>,<span class="tok-s">&#39;llama&#39;</span>;
<span class="tok-nb">say</span> <span class="tok-s">&quot;El zoo tiene &quot;</span> ~ <span class="tok-nv">@animales</span>.<span class="tok-nb">elems</span> ~ <span class="tok-s">&quot; animales&quot;</span>;
<span class="tok-nb">say</span> <span class="tok-s">&quot;Los animales son: &quot;</span> ~ <span class="tok-nv">@animales</span>;
<span class="tok-nb">say</span> <span class="tok-s">&quot;He conseguido un búho para el zoo&quot;</span>;
<span class="tok-nv">@animales</span>.<span class="tok-nb">push</span>(<span class="tok-s">&quot;búho&quot;</span>);
<span class="tok-nb">say</span> <span class="tok-s">&quot;Los animales del zoo ahora son: &quot;</span> ~ <span class="tok-nv">@animales</span>;
<span class="tok-nb">say</span> <span class="tok-s">&quot;El primer animal del zoo es: &quot;</span> ~ <span class="tok-nv">@animales</span>[<span class="tok-mi">0</span>];
<span class="tok-nv">@animales</span>.<span class="tok-nb">pop</span>;
<span class="tok-nb">say</span> <span class="tok-s">&quot;Desafortunadamente el búho se escapó y los animales que quedan son: &quot;</span> ~ <span class="tok-nv">@animales</span>;
<span class="tok-nb">say</span> <span class="tok-s">&quot;Vamos a dejar solo una animal en el zoo&quot;</span>;
<span class="tok-nb">say</span> <span class="tok-s">&quot;Dejamos ir a: &quot;</span> ~ <span class="tok-nv">@animales</span>.<span class="tok-nb">splice</span>(<span class="tok-mi">1</span>,<span class="tok-mi">2</span>) ~ <span class="tok-s">&quot; y dejamos en el zoo al &quot;</span> ~ <span class="tok-nv">@animales</span>;</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title"><code>Salida</code></div>
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-n">El</span> <span class="tok-n">zoo</span> <span class="tok-n">tiene</span> <span class="tok-mi">3</span> <span class="tok-n">animales</span>
<span class="tok-n">Los</span> <span class="tok-n">animales</span> <span class="tok-n">son:</span> <span class="tok-n">camello</span> <span class="tok-n">vicuña</span> <span class="tok-n">llama</span>
<span class="tok-n">He</span> <span class="tok-n">conseguido</span> <span class="tok-n">un</span> <span class="tok-n">búho</span> <span class="tok-n">para</span> <span class="tok-n">el</span> <span class="tok-n">zoo</span>
<span class="tok-n">Los</span> <span class="tok-n">animales</span> <span class="tok-n">del</span> <span class="tok-n">zoo</span> <span class="tok-n">ahora</span> <span class="tok-n">son:</span> <span class="tok-n">camello</span> <span class="tok-n">vicuña</span> <span class="tok-n">llama</span> <span class="tok-n">búho</span>
<span class="tok-n">El</span> <span class="tok-n">primer</span> <span class="tok-n">animal</span> <span class="tok-n">del</span> <span class="tok-n">zoo</span> <span class="tok-n">es:</span> <span class="tok-n">camello</span>
<span class="tok-n">Desafortunadamente</span> <span class="tok-n">el</span> <span class="tok-n">búho</span> <span class="tok-n">se</span> <span class="tok-n">escapó</span> <span class="tok-n">y</span> <span class="tok-n">los</span> <span class="tok-n">animales</span> <span class="tok-n">que</span> <span class="tok-n">quedan</span> <span class="tok-n">son:</span> <span class="tok-n">camello</span> <span class="tok-n">vicuña</span> <span class="tok-n">llama</span>
<span class="tok-n">Vamos</span> <span class="tok-n">a</span> <span class="tok-n">dejar</span> <span class="tok-n">solo</span> <span class="tok-n">una</span> <span class="tok-n">animal</span> <span class="tok-n">en</span> <span class="tok-n">el</span> <span class="tok-n">zoo</span>
<span class="tok-n">Dejamos</span> <span class="tok-n">ir</span> <span class="tok-n">a:</span> <span class="tok-n">vicuña</span> <span class="tok-n">llama</span> <span class="tok-n">y</span> <span class="tok-n">dejamos</span> <span class="tok-n">en</span> <span class="tok-n">el</span> <span class="tok-n">zoo</span> <span class="tok-n">al</span> <span class="tok-n">camello</span></code></pre>
</div>
</div>
<div class="paragraph">
<div class="title">Explicación</div>
<p><code>.elems</code> devuelve el número de elementos de un array.<br>
<code>.push()</code> añade uno o más elementos a un array.<br>
Podemos acceder a un elemento concreto del array indicando su posición <code>@animales[0]</code>.<br>
<code>.pop</code> elimina el último elemento del array y lo devuelve.<br>
<code>.splice(a,b)</code> elimina <code>b</code> elementos que comienzan en la posición <code>a</code>.</p>
</div>
<div class="sect3">
<h4 id="_arrays_de_tamaño_fijo">3.2.1. Arrays de tamaño fijo</h4>
<div class="paragraph">
<p>Un array básico se declara así:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">my</span> <span class="tok-nv">@array</span>;</code></pre>
</div>
</div>
<div class="paragraph">
<p>El array básico puede tener un número indefinido de valores y por eso se denomina auto-extendible.<br>
Un array puede tener cualquier número de valores sin restricciones.</p>
</div>
<div class="paragraph">
<p>En contraste, también podemos crear arrays de tamaño fijo.<br>
En estos arrays se define un tamaño fijo y no puede crecer más allá de este tamaño.</p>
</div>
<div class="paragraph">
<p>Para declarar un array de tamaño fijo, especifica el número máximo de elementos entre corchetes justo después de su nombre:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">my</span> <span class="tok-nv">@array</span>[<span class="tok-mi">3</span>];</code></pre>
</div>
</div>
<div class="paragraph">
<p>Este array tendrá un máximo de 3 valores, indexados desde 0 a 2.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">my</span> <span class="tok-nv">@array</span>[<span class="tok-mi">3</span>];
<span class="tok-nv">@array</span>[<span class="tok-mi">0</span>] = <span class="tok-s">&quot;primer valor&quot;</span>;
<span class="tok-nv">@array</span>[<span class="tok-mi">1</span>] = <span class="tok-s">&quot;segundo valor&quot;</span>;
<span class="tok-nv">@array</span>[<span class="tok-mi">2</span>] = <span class="tok-s">&quot;tercer valor&quot;</span>;</code></pre>
</div>
</div>
<div class="paragraph">
<p>No puedes agregar un cuarto valor a este array:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">my</span> <span class="tok-nv">@array</span>[<span class="tok-mi">3</span>];
<span class="tok-nv">@array</span>[<span class="tok-mi">0</span>] = <span class="tok-s">&quot;primer valor&quot;</span>;
<span class="tok-nv">@array</span>[<span class="tok-mi">1</span>] = <span class="tok-s">&quot;segundo valor&quot;</span>;
<span class="tok-nv">@array</span>[<span class="tok-mi">2</span>] = <span class="tok-s">&quot;tercer valor&quot;</span>;
<span class="tok-nv">@array</span>[<span class="tok-mi">3</span>] = <span class="tok-s">&quot;cuarto valor&quot;</span>;</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-n">Index</span> <span class="tok-mi">3</span> <span class="tok-k">for</span> <span class="tok-n">dimension</span> <span class="tok-mi">1</span> <span class="tok-n">out</span> <span class="tok-nb">of</span> <span class="tok-nb">range</span> (<span class="tok-n">must</span> <span class="tok-n">be</span> <span class="tok-mi">0</span><span class="tok-o">..</span><span class="tok-mi">2</span>)</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_arrays_multidimensionales">3.2.2. Arrays multidimensionales</h4>
<div class="paragraph">
<p>Los arrays que hemos visto hasta ahora son de una dimensión.<br>
Con Raku, podemos definir arrays de varias dimensiones.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">my</span> <span class="tok-nv">@tbl</span>[<span class="tok-mi">3</span>;<span class="tok-mi">2</span>];</code></pre>
</div>
</div>
<div class="paragraph">
<p>Este array es de dos dimensiones.
La primera dimensión puede tener un máximo de 3 valores y la segunda dimensión un máximo de 2 valores.</p>
</div>
<div class="paragraph">
<p>Imagínalo como una tabla de 3x2.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">my</span> <span class="tok-nv">@tbl</span>[<span class="tok-mi">3</span>;<span class="tok-mi">2</span>];
<span class="tok-nv">@tbl</span>[<span class="tok-mi">0</span>;<span class="tok-mi">0</span>] = <span class="tok-mi">1</span>;
<span class="tok-nv">@tbl</span>[<span class="tok-mi">0</span>;<span class="tok-mi">1</span>] = <span class="tok-s">&quot;x&quot;</span>;
<span class="tok-nv">@tbl</span>[<span class="tok-mi">1</span>;<span class="tok-mi">0</span>] = <span class="tok-mi">2</span>;
<span class="tok-nv">@tbl</span>[<span class="tok-mi">1</span>;<span class="tok-mi">1</span>] = <span class="tok-s">&quot;y&quot;</span>;
<span class="tok-nv">@tbl</span>[<span class="tok-mi">2</span>;<span class="tok-mi">0</span>] = <span class="tok-mi">3</span>;
<span class="tok-nv">@tbl</span>[<span class="tok-mi">2</span>;<span class="tok-mi">1</span>] = <span class="tok-s">&quot;z&quot;</span>;
<span class="tok-nb">say</span> <span class="tok-nv">@tbl</span></code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span>[[<span class="tok-mi">1</span> <span class="tok-nb">x</span>] [<span class="tok-mi">2</span> <span class="tok-n">y</span>] [<span class="tok-mi">3</span> <span class="tok-nb">z</span>]]</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Representación visual del array:</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span>[<span class="tok-mi">1</span> <span class="tok-nb">x</span>]
[<span class="tok-mi">2</span> <span class="tok-n">y</span>]
[<span class="tok-mi">3</span> <span class="tok-nb">z</span>]</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Consulta <a href="https://docs.raku.org/type/Array" class="bare">https://docs.raku.org/type/Array</a> para tener la referencia completa sobre Arrays.
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_hashes">3.3. Hashes</h3>
<div class="listingblock">
<div class="title">Un Hash es una colección de pares Clave/Valor.</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">my</span> <span class="tok-nv">%capitales</span> = <span class="tok-s">&#39;UK&#39;</span>,<span class="tok-s">&#39;Londres&#39;</span>,<span class="tok-s">&#39;Alemania&#39;</span>,<span class="tok-s">&#39;Berlín&#39;</span>;
<span class="tok-nb">say</span> <span class="tok-nv">%capitales</span>;</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Otra forma de insertar valores en un hash:</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">my</span> <span class="tok-nv">%capitales</span> = <span class="tok-n">UK</span> =&gt; <span class="tok-s">&#39;Londres&#39;</span>, <span class="tok-n">Alemania</span> =&gt; <span class="tok-s">&#39;Berlín&#39;</span>;
<span class="tok-nb">say</span> <span class="tok-nv">%capitales</span>;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Algunos de los métodos aplicables a los hashes son:</p>
</div>
<div class="listingblock">
<div class="title"><code>Script</code></div>
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">my</span> <span class="tok-nv">%capitales</span> = <span class="tok-n">UK</span> =&gt; <span class="tok-s">&#39;Londres&#39;</span>, <span class="tok-n">Alemania</span> =&gt; <span class="tok-s">&#39;Berlín&#39;</span>;
<span class="tok-nv">%capitales</span>.<span class="tok-n">push:</span> (<span class="tok-n">Francia</span> =&gt; <span class="tok-s">&#39;París&#39;</span>);
<span class="tok-nb">say</span> <span class="tok-nv">%capitales</span>.<span class="tok-nb">kv</span>;
<span class="tok-nb">say</span> <span class="tok-nv">%capitales</span>.<span class="tok-nb">keys</span>;
<span class="tok-nb">say</span> <span class="tok-nv">%capitales</span>.<span class="tok-nb">values</span>;
<span class="tok-nb">say</span> <span class="tok-s">&quot;La capital de Francia es: &quot;</span> ~ <span class="tok-nv">%capitales&lt;Francia&gt;</span>;</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title"><code>Salida</code></div>
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span>(<span class="tok-n">Alemania</span> <span class="tok-n">Berlín</span> <span class="tok-n">Francia</span> <span class="tok-n">París</span> <span class="tok-n">UK</span> <span class="tok-n">Londres</span>)
(<span class="tok-n">Alemania</span> <span class="tok-n">Francia</span> <span class="tok-n">UK</span>)
(<span class="tok-n">Berlín</span> <span class="tok-n">París</span> <span class="tok-n">Londres</span>)
<span class="tok-n">La</span> <span class="tok-n">capital</span> <span class="tok-n">de</span> <span class="tok-n">Francia</span> <span class="tok-n">es:</span> <span class="tok-n">París</span></code></pre>
</div>
</div>
<div class="paragraph">
<div class="title">Explicación</div>
<p><code>.push: (Clave =&gt; 'Valor')</code> agrega un nuevo par clave/valor.<br>
<code>.kv</code> devuelve una lista con todas las claves y valores.<br>
<code>.keys</code> devuelve una lista con todas las claves.<br>
<code>.values</code> devuelve una lista con todos los valores.<br>
Podemos acceder a un valor concreto del hash indicando su clave <code>%hash&lt;clave&gt;</code></p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Consulta <a href="https://docs.raku.org/type/Hash" class="bare">https://docs.raku.org/type/Hash</a> para una referencia completa sobre hashes.
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_tipos">3.4. Tipos</h3>
<div class="paragraph">
<p>En los ejemplos anteriores no hemos especificado el tipo de valor que debería contener cada variable.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
<code>.WHAT</code> devuelve el tipo del valor que contiene la variable.
</td>
</tr>
</table>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">my</span> <span class="tok-nv">$var</span> = <span class="tok-s">&#39;Texto&#39;</span>;
<span class="tok-nb">say</span> <span class="tok-nv">$var</span>;
<span class="tok-nb">say</span> <span class="tok-nv">$var</span>.<span class="tok-nb">WHAT</span>;

<span class="tok-nv">$var</span> = <span class="tok-mi">123</span>;
<span class="tok-nb">say</span> <span class="tok-nv">$var</span>;
<span class="tok-nb">say</span> <span class="tok-nv">$var</span>.<span class="tok-nb">WHAT</span>;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Como puedes ver en el ejemplo anterior, el tipo de valor en <code>$var</code> primero fue texto (Str) y después entero (Int).</p>
</div>
<div class="paragraph">
<p>Este estilo de programación se caracteriza por ser de tipado dinámico. Dinámico en el sentido de que las variables pueden contener valores de Cualquier tipo.</p>
</div>
<div class="paragraph">
<p>Ahora intenta ejecutar el siguiente ejemplo:<br>
Fíjate en el <code>Int</code> indicado antes de la variable.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">my</span> <span class="tok-nb">Int</span> <span class="tok-nv">$var</span> = <span class="tok-s">&#39;Texto&#39;</span>;
<span class="tok-nb">say</span> <span class="tok-nv">$var</span>;
<span class="tok-nb">say</span> <span class="tok-nv">$var</span>.<span class="tok-nb">WHAT</span>;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Este ejemplo devuelve un error indicando: <code>Type check failed in assignment to $var; expected Int but got Str</code></p>
</div>
<div class="paragraph">
<p>Lo que ocurre es que hemos especificado como entero (Int) el tipo de la variable y falla al intentar asignar en ella un texto (Str).</p>
</div>
<div class="paragraph">
<p>Este estilo de programación se caracteriza por ser de tipado estático. Estático en el sentido de que la variable se define con un tipo determinado antes de asignarla y este tipo no puede cambiarse después.</p>
</div>
<div class="paragraph">
<p>Raku es un lenguaje de <strong>tipado gradual</strong>; lo que permite tipado <strong>estático</strong> y <strong>dinámico</strong>.</p>
</div>
<div class="listingblock">
<div class="title">Los arrays y hashes también pueden tener tipado estático:</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">my</span> <span class="tok-nb">Int</span> <span class="tok-nv">@array</span> = <span class="tok-mi">1</span>,<span class="tok-mi">2</span>,<span class="tok-mi">3</span>;
<span class="tok-nb">say</span> <span class="tok-nv">@array</span>;
<span class="tok-nb">say</span> <span class="tok-nv">@array</span>.<span class="tok-nb">WHAT</span>;

<span class="tok-k">my</span> <span class="tok-nb">Str</span> <span class="tok-nv">@multilengua</span> = <span class="tok-s">&quot;Hello&quot;</span>,<span class="tok-s">&quot;Salut&quot;</span>,<span class="tok-s">&quot;Hallo&quot;</span>,<span class="tok-s">&quot;您好&quot;</span>,<span class="tok-s">&quot;안녕하세요&quot;</span>,<span class="tok-s">&quot;こんにちは&quot;</span>;
<span class="tok-nb">say</span> <span class="tok-nv">@multilengua</span>;
<span class="tok-nb">say</span> <span class="tok-nv">@multilengua</span>.<span class="tok-nb">WHAT</span>;

<span class="tok-k">my</span> <span class="tok-nb">Str</span> <span class="tok-nv">%capitales</span> = <span class="tok-n">UK</span> =&gt; <span class="tok-s">&#39;London&#39;</span>, <span class="tok-n">Alemania</span> =&gt; <span class="tok-s">&#39;Berlín&#39;</span>;
<span class="tok-nb">say</span> <span class="tok-nv">%capitales</span>;
<span class="tok-nb">say</span> <span class="tok-nv">%capitales</span>.<span class="tok-nb">WHAT</span>;

<span class="tok-k">my</span> <span class="tok-nb">Int</span> <span class="tok-nv">%código-país</span> = <span class="tok-n">UK</span> =&gt; <span class="tok-mi">44</span>, <span class="tok-n">Alemania</span> =&gt; <span class="tok-mi">49</span>;
<span class="tok-nb">say</span> <span class="tok-nv">%código-país</span>;
<span class="tok-nb">say</span> <span class="tok-nv">%código-país</span>.<span class="tok-nb">WHAT</span>;</code></pre>
</div>
</div>
<div class="paragraph">
<div class="title">A continuación tienes una lista con los tipos más comunes:</div>
<p>Es posible que nunca utilices los dos primeros, pero aparecen en la siguiente lista para que sepas que existen.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 14.2857%;">
<col style="width: 42.8571%;">
<col style="width: 28.5714%;">
<col style="width: 14.2858%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code><strong>Tipo</strong></code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code><strong>Descripción</strong></code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code><strong>Ejemplo</strong></code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code><strong>Resultado</strong></code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>Mu</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>La raíz de la jerarquía de tipos de Raku</code></p></td>
<td class="tableblock halign-left valign-middle"></td>
<td class="tableblock halign-left valign-middle"></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>Any</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>Clase base por defecto para nuevas clases y para la mayoría de las clases nativas</code></p></td>
<td class="tableblock halign-left valign-middle"></td>
<td class="tableblock halign-left valign-middle"></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>Cool</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>Valor que puede tratarse como texto o número indistintamente</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>my Cool $var = 31; say $var.flip; say $var * 2;</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>13 62</code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>Str</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>Texto o cadena de carácteres</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>my Str $var = "NEON"; say $var.flip;</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>NOEN</code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>Int</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>Entero (independientemente de la precisión)</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>7 + 7</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>14</code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>Rat</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>Número racional (precisión limitada)</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>0.1 + 0.2</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>0.3</code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>Bool</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>Booleano</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>!True</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>False</code></p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="_introspección">3.5. Introspección</h3>
<div class="paragraph">
<p>Introspección es el proceso para adquirir información sobre las propiedades de un objeto, como por ejemplo su tipo.<br>
En uno de los ejemplos anteriores utilizamos <code>.WHAT</code> para conocer el tipo de una variable.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">my</span> <span class="tok-nb">Int</span> <span class="tok-nv">$var</span>;
<span class="tok-nb">say</span> <span class="tok-nv">$var</span>.<span class="tok-nb">WHAT</span>;    <span class="tok-c1"># (Int)</span>
<span class="tok-k">my</span> <span class="tok-nv">$var2</span>;
<span class="tok-nb">say</span> <span class="tok-nv">$var2</span>.<span class="tok-nb">WHAT</span>;   <span class="tok-c1"># (Any)</span>
<span class="tok-nv">$var2</span> = <span class="tok-mi">1</span>;
<span class="tok-nb">say</span> <span class="tok-nv">$var2</span>.<span class="tok-nb">WHAT</span>;   <span class="tok-c1"># (Int)</span>
<span class="tok-nv">$var2</span> = <span class="tok-s">&quot;Hola&quot;</span>;
<span class="tok-nb">say</span> <span class="tok-nv">$var2</span>.<span class="tok-nb">WHAT</span>;   <span class="tok-c1"># (Str)</span>
<span class="tok-nv">$var2</span> = <span class="tok-nb">True</span>;
<span class="tok-nb">say</span> <span class="tok-nv">$var2</span>.<span class="tok-nb">WHAT</span>;   <span class="tok-c1"># (Bool)</span>
<span class="tok-nv">$var2</span> = <span class="tok-nb">Nil</span>;
<span class="tok-nb">say</span> <span class="tok-nv">$var2</span>.<span class="tok-nb">WHAT</span>;   <span class="tok-c1"># (Any)</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>El tipo de una variable que contiene un valor se corresponde con su valor.<br>
El tipo de una variable declarada de forma estática y sin valor es el tipo con el que se ha declarado.<br>
El tipo de una variable vacía que no ha sido declarada de forma estática es <code>(Any)</code>.<br>
Asigna <code>Nil</code> a una variable para eliminar su valor.</p>
</div>
</div>
<div class="sect2">
<h3 id="_alcance">3.6. Alcance</h3>
<div class="paragraph">
<p>Es necesario declarar una variable antes de utilizarla.</p>
</div>
<div class="paragraph">
<p>Raku dispone de varias formas de declaración, y de momento estamos utilizando <code>my</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">my</span> <span class="tok-nv">$var</span>=<span class="tok-mi">1</span>;</code></pre>
</div>
</div>
<div class="paragraph">
<p>La forma de declaración <code>my</code> proporciona a la variable un alcance <strong>léxico</strong>.
Dicho de otro modo, la variable solo es accesible desde el mismo bloque donde es declarada.</p>
</div>
<div class="paragraph">
<p>En Raku un bloque está delimitado por <code>{ }</code>.</p>
</div>
<div class="paragraph">
<p>En caso de no existir bloque, la variable estará disponible en el script entero.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span>{
  <span class="tok-k">my</span> <span class="tok-nb">Str</span> <span class="tok-nv">$var</span> = <span class="tok-s">&#39;Texto&#39;</span>;
  <span class="tok-nb">say</span> <span class="tok-nv">$var</span>; <span class="tok-c1"># accesible</span>
}
<span class="tok-nb">say</span> <span class="tok-nv">$var</span>; <span class="tok-c1"># no accesible, devuelve un error</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Como la variable solo es accesible dentro del bloque donde está definida, el mismo nombre de variable puede utilizarse en cualquier otro bloque.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span>{
  <span class="tok-k">my</span> <span class="tok-nb">Str</span> <span class="tok-nv">$var</span> = <span class="tok-s">&#39;Texto&#39;</span>;
  <span class="tok-nb">say</span> <span class="tok-nv">$var</span>;
}
<span class="tok-k">my</span> <span class="tok-nb">Int</span> <span class="tok-nv">$var</span> = <span class="tok-mi">123</span>;
<span class="tok-nb">say</span> <span class="tok-nv">$var</span>;</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_asignación_vs_vinculación">3.7. Asignación vs. Vinculación</h3>
<div class="paragraph">
<p>En los ejemplos anteriores hemos visto cómo <strong>asignar</strong> valores a variables.<br>
La <strong>asignación</strong> se realiza mediante el operador <code>=</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">my</span> <span class="tok-nb">Int</span> <span class="tok-nv">$var</span> = <span class="tok-mi">123</span>;
<span class="tok-nb">say</span> <span class="tok-nv">$var</span>;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Y podemos cambiar el valor asignado a la variable:</p>
</div>
<div class="listingblock">
<div class="title">Asignación</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">my</span> <span class="tok-nb">Int</span> <span class="tok-nv">$var</span> = <span class="tok-mi">123</span>;
<span class="tok-nb">say</span> <span class="tok-nv">$var</span>;
<span class="tok-nv">$var</span> = <span class="tok-mi">999</span>;
<span class="tok-nb">say</span> <span class="tok-nv">$var</span>;</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title"><code>Salida</code></div>
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-mi">123</span>
<span class="tok-mi">999</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Por otro lado, no podemos cambiar el valor <strong>vinculado</strong> de una variable.<br></p>
</div>
<div class="paragraph">
<p>La <strong>vinculación</strong> se realiza mediante el operador <code>:=</code>.</p>
</div>
<div class="listingblock">
<div class="title">Vinculación</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">my</span> <span class="tok-nb">Int</span> <span class="tok-nv">$var</span> := <span class="tok-mi">123</span>;
<span class="tok-nb">say</span> <span class="tok-nv">$var</span>;
<span class="tok-nv">$var</span> = <span class="tok-mi">999</span>;
<span class="tok-nb">say</span> <span class="tok-nv">$var</span>;</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title"><code>Salida</code></div>
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-mi">123</span>
<span class="tok-n">Cannot</span> <span class="tok-n">assign</span> <span class="tok-nb">to</span> <span class="tok-n">an</span> <span class="tok-n">immutable</span> <span class="tok-nb">value</span></code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Las variables también pueden vincularse a otras variables:</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">my</span> <span class="tok-nv">$a</span>;
<span class="tok-k">my</span> <span class="tok-nv">$b</span>;
<span class="tok-nv">$b</span> := <span class="tok-nv">$a</span>;
<span class="tok-nv">$a</span> = <span class="tok-mi">7</span>;
<span class="tok-nb">say</span> <span class="tok-nv">$b</span>;
<span class="tok-nv">$b</span> = <span class="tok-mi">8</span>;
<span class="tok-nb">say</span> <span class="tok-nv">$a</span>;</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title"><code>Salida</code></div>
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-mi">7</span>
<span class="tok-mi">8</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Como has visto, la vinculación de variables es bidireccional.<br>
<code>$a := $b</code> y <code>$b := $a</code> tienen el mismo efecto.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
En <a href="https://docs.raku.org/language/variables" class="bare">https://docs.raku.org/language/variables</a> tienes más información sobre variables.
</td>
</tr>
</table>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_funciones_y_mutadores">4. Funciones y mutadores</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Es importante diferenciar entre funciones y mutadores.<br></p>
</div>
<div class="paragraph">
<p>Las funciones no cambian el estado del objeto donde se aplica.<br></p>
</div>
<div class="paragraph">
<p>Los mutadores modifican el estado del objeto.</p>
</div>
<div class="listingblock">
<div class="title"><code>Script</code></div>
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><div class="lineno"><table class="linenotable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span></pre></div></td><td class="code"><div><pre><span></span><span class="tok-k">my</span> <span class="tok-nv">@números</span> = [<span class="tok-mi">7</span>,<span class="tok-mi">2</span>,<span class="tok-mi">4</span>,<span class="tok-mi">9</span>,<span class="tok-mi">11</span>,<span class="tok-mi">3</span>];

<span class="tok-nv">@números</span>.<span class="tok-nb">push</span>(<span class="tok-mi">99</span>);
<span class="tok-nb">say</span> <span class="tok-nv">@números</span>;      <span class="tok-c1">#1</span>

<span class="tok-nb">say</span> <span class="tok-nv">@números</span>.<span class="tok-nb">sort</span>; <span class="tok-c1">#2</span>
<span class="tok-nb">say</span> <span class="tok-nv">@números</span>;      <span class="tok-c1">#3</span>

<span class="tok-nv">@números</span>.=<span class="tok-nb">sort</span>;
<span class="tok-nb">say</span> <span class="tok-nv">@números</span>;      <span class="tok-c1">#4</span>
</pre></div></td></tr></table></div></code></pre>
</div>
</div>
<div class="listingblock">
<div class="title"><code>Salida</code></div>
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span>[<span class="tok-mi">7</span> <span class="tok-mi">2</span> <span class="tok-mi">4</span> <span class="tok-mi">9</span> <span class="tok-mi">11</span> <span class="tok-mi">3</span> <span class="tok-mi">99</span>] <span class="tok-c1">#1</span>
(<span class="tok-mi">2</span> <span class="tok-mi">3</span> <span class="tok-mi">4</span> <span class="tok-mi">7</span> <span class="tok-mi">9</span> <span class="tok-mi">11</span> <span class="tok-mi">99</span>) <span class="tok-c1">#2</span>
[<span class="tok-mi">7</span> <span class="tok-mi">2</span> <span class="tok-mi">4</span> <span class="tok-mi">9</span> <span class="tok-mi">11</span> <span class="tok-mi">3</span> <span class="tok-mi">99</span>] <span class="tok-c1">#3</span>
[<span class="tok-mi">2</span> <span class="tok-mi">3</span> <span class="tok-mi">4</span> <span class="tok-mi">7</span> <span class="tok-mi">9</span> <span class="tok-mi">11</span> <span class="tok-mi">99</span>] <span class="tok-c1">#4</span></code></pre>
</div>
</div>
<div class="paragraph">
<div class="title">Explicación</div>
<p><code>.push</code> es un mutador porque cambia el estado del array (#1)</p>
</div>
<div class="paragraph">
<p><code>.sort</code> es una función porque devuelve un array ordenado pero no cambia el estado inicial del array:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>(#2) muestra la devolución de un array ordenado.</p>
</li>
<li>
<p>(#3) muestra que el estado inicial del array no ha cambiado.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Puedes hacer que una función se comporte como un mutador utilizando <code>.=</code> en lugar de <code>.</code> (#4) (línea 9 del script)</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_bucles_y_condiciones">5. Bucles y condiciones</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Raku tiene muchos constructores de bucles y condiciones.</p>
</div>
<div class="sect2">
<h3 id="_if">5.1. if</h3>
<div class="paragraph">
<p>El código se ejecuta solo si se cumple una condición, por ej., una expresión se evalúa como <code>True</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">my</span> <span class="tok-nv">$edad</span> = <span class="tok-mi">19</span>;

<span class="tok-k">if</span> <span class="tok-nv">$edad</span> &gt; <span class="tok-mi">18</span> {
  <span class="tok-nb">say</span> <span class="tok-s">&#39;Bienvenido&#39;</span>
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>En Raku podemos invertir el código y la condición, y aún así la condición siempre se evalúa primero.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">my</span> <span class="tok-nv">$edad</span> = <span class="tok-mi">19</span>;

<span class="tok-nb">say</span> <span class="tok-s">&#39;Bienvenido&#39;</span> <span class="tok-k">if</span> <span class="tok-nv">$edad</span> &gt; <span class="tok-mi">18</span>;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Si la condición no se cumple, podemos especificar bloques alternativos de ejecución utilizando:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>else</code></p>
</li>
<li>
<p><code>elsif</code></p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-c1"># ejecuta el mismo código para distintos valores de la variable</span>
<span class="tok-k">my</span> <span class="tok-nv">$número-de-asientos</span> = <span class="tok-mi">9</span>;

<span class="tok-k">if</span> <span class="tok-nv">$número-de-asientos</span> &lt;= <span class="tok-mi">5</span> {
  <span class="tok-nb">say</span> <span class="tok-s">&#39;Soy un sedan&#39;</span>
} <span class="tok-k">elsif</span> <span class="tok-nv">$número-de-asientos</span> &lt;= <span class="tok-mi">7</span> {
  <span class="tok-nb">say</span> <span class="tok-s">&#39;Tengo 6 o 7 asientos&#39;</span>
} <span class="tok-k">else</span> {
  <span class="tok-nb">say</span> <span class="tok-s">&#39;Soy un microbus&#39;</span>
}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_unless">5.2. unless</h3>
<div class="paragraph">
<p>La negación de <code>if</code> es <code>unless</code>.</p>
</div>
<div class="paragraph">
<p>El siguiente código:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">my</span> <span class="tok-nv">$limpiar-zapatos</span> = <span class="tok-nb">False</span>;

<span class="tok-k">if</span> <span class="tok-nb">not</span> <span class="tok-nv">$limpiar-zapatos</span> {
  <span class="tok-nb">say</span> <span class="tok-s">&#39;Limpia tus zapatos&#39;</span>
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>puede escribirse como:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">my</span> <span class="tok-nv">$limpiar-zapatos</span> = <span class="tok-nb">False</span>;

<span class="tok-k">unless</span> <span class="tok-nv">$limpiar-zapatos</span> {
  <span class="tok-nb">say</span> <span class="tok-s">&#39;Limpia tus zapatos&#39;</span>
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>La negación en Raku se realiza con <code>!</code> o con <code>not</code>.</p>
</div>
<div class="paragraph">
<p><code>unless (condición)</code> se utiliza en lugar de <code>if not (condición)</code>.</p>
</div>
<div class="paragraph">
<p><code>unless</code> no puede utilizar la claúsula <code>else</code>.</p>
</div>
</div>
<div class="sect2">
<h3 id="_with">5.3. with</h3>
<div class="paragraph">
<p><code>with</code> es como <code>if</code> pero solo comprueba si la variable está definida.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">my</span> <span class="tok-nb">Int</span> <span class="tok-nv">$var</span>=<span class="tok-mi">1</span>;

<span class="tok-k">with</span> <span class="tok-nv">$var</span> {
  <span class="tok-nb">say</span> <span class="tok-s">&#39;Hola&#39;</span>
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>No ocurre nada si ejecutas el código sin asignar un valor a la variable.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">my</span> <span class="tok-nb">Int</span> <span class="tok-nv">$var</span>;

<span class="tok-k">with</span> <span class="tok-nv">$var</span> {
  <span class="tok-nb">say</span> <span class="tok-s">&#39;Hola&#39;</span>
}</code></pre>
</div>
</div>
<div class="paragraph">
<p><code>without</code> es la negación de <code>with</code> y es parecido a <code>unless</code>.</p>
</div>
<div class="paragraph">
<p>Si la primera condición <code>with</code> no se cumple, puedes indicar una alternativa mediante <code>orwith</code>.<br>
<code>with</code> y <code>orwith</code> son parecidos a <code>if</code> y <code>elsif</code>.</p>
</div>
</div>
<div class="sect2">
<h3 id="_for">5.4. for</h3>
<div class="paragraph">
<p><code>for</code> itera sobre una serie de valores.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">my</span> <span class="tok-nv">@array</span> = <span class="tok-mi">1</span>,<span class="tok-mi">2</span>,<span class="tok-mi">3</span>;

<span class="tok-k">for</span> <span class="tok-nv">@array</span> -&gt; <span class="tok-nv">$array-item</span> {
  <span class="tok-nb">say</span> <span class="tok-nv">$array-item</span> * <span class="tok-mi">100</span>
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Observa que en la iteración hemos creado la variable <code>$array-item</code> para realizar después la operación <code>*100</code> en cada elemento del array.</p>
</div>
</div>
<div class="sect2">
<h3 id="_given">5.5. given</h3>
<div class="paragraph">
<p>En Raku <code>given</code> viene a ser <code>switch</code> en otros lenguajes, pero mucho más potente.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">my</span> <span class="tok-nv">$var</span> = <span class="tok-mi">42</span>;

<span class="tok-k">given</span> <span class="tok-nv">$var</span> {
    <span class="tok-k">when</span> <span class="tok-mi">0</span><span class="tok-o">..</span><span class="tok-mi">50</span> { <span class="tok-nb">say</span> <span class="tok-s">&#39;Menos o igual a 50&#39;</span>}
    <span class="tok-k">when</span> <span class="tok-nb">Int</span> { <span class="tok-nb">say</span> <span class="tok-s">&quot;es un Entero&quot;</span> }
    <span class="tok-k">when</span> <span class="tok-mi">42</span>  { <span class="tok-nb">say</span> <span class="tok-mi">42</span> }
    <span class="tok-k">default</span>  { <span class="tok-nb">say</span> <span class="tok-s">&quot;¿ejem?&quot;</span> }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Cuando se produce la coincidencia no se evalúan las demás.</p>
</div>
<div class="paragraph">
<p>Como opción, <code>proceed</code> continúa la evaluación aunque se produzca la coincidencia.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">my</span> <span class="tok-nv">$var</span> = <span class="tok-mi">42</span>;

<span class="tok-k">given</span> <span class="tok-nv">$var</span> {
    <span class="tok-k">when</span> <span class="tok-mi">0</span><span class="tok-o">..</span><span class="tok-mi">50</span> { <span class="tok-nb">say</span> <span class="tok-s">&#39;Menos o igual a 50&#39;</span>;<span class="tok-k">proceed</span>}
    <span class="tok-k">when</span> <span class="tok-nb">Int</span> { <span class="tok-nb">say</span> <span class="tok-s">&quot;es un Entero&quot;</span>;<span class="tok-k">proceed</span>}
    <span class="tok-k">when</span> <span class="tok-mi">42</span>  { <span class="tok-nb">say</span> <span class="tok-mi">42</span> }
    <span class="tok-k">default</span>  { <span class="tok-nb">say</span> <span class="tok-s">&quot;¿ejem?&quot;</span> }
}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_loop">5.6. loop</h3>
<div class="paragraph">
<p><code>loop</code> es otra forma de escribir un <code>for</code>.</p>
</div>
<div class="paragraph">
<p>Actualmente <code>loop</code> viene a ser el <code>for</code> utilizado en la familia de lenguajes de C.</p>
</div>
<div class="paragraph">
<p>Raku pertenece a la familia de lenguajes de C.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">loop</span> (<span class="tok-k">my</span> <span class="tok-nv">$i</span> = <span class="tok-mi">0</span>; <span class="tok-nv">$i</span> &lt; <span class="tok-mi">5</span>; <span class="tok-nv">$i</span>++) {
  <span class="tok-nb">say</span> <span class="tok-s">&quot;El número actual es $i&quot;</span>
}</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
En <a href="https://docs.raku.org/language/control" class="bare">https://docs.raku.org/language/control</a> tienes más información sobre bucles y condiciones
</td>
</tr>
</table>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_io">6. I/O</h2>
<div class="sectionbody">
<div class="paragraph">
<p>En Raku, las dos interfaces más utilizadas de <em>Entrada/Salida</em> son el <em>Terminal</em> y los <em>Ficheros</em>.</p>
</div>
<div class="sect2">
<h3 id="_es_básica_mediante_el_terminal">6.1. E/S básica mediante el Terminal</h3>
<div class="sect3">
<h4 id="_say">6.1.1. say</h4>
<div class="paragraph">
<p><code>say</code> escribe en la salida estándar agregando al final una línea nueva. En otras palabras, el siguiente código:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-nb">say</span> <span class="tok-s">&#39;Hola Mamá.&#39;</span>;
<span class="tok-nb">say</span> <span class="tok-s">&#39;Hola Señor.&#39;</span>;</code></pre>
</div>
</div>
<div class="paragraph">
<p>escribirá dos líneas separadas.</p>
</div>
</div>
<div class="sect3">
<h4 id="_print">6.1.2. print</h4>
<div class="paragraph">
<p>Por otro lado <code>print</code> es como <code>say</code> pero no agrega la línea nueva.</p>
</div>
<div class="paragraph">
<p>Prueba a utilizar <code>say</code> en lugar de <code>print</code> y compara ambos resultados.</p>
</div>
</div>
<div class="sect3">
<h4 id="_get">6.1.3. get</h4>
<div class="paragraph">
<p>Para capturar la entrada desde el terminal utiliza <code>get</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">my</span> <span class="tok-nv">$nombre</span>;

<span class="tok-nb">say</span> <span class="tok-s">&quot;¡Hola!, ¿cual es tu nombre?&quot;</span>;
<span class="tok-nv">$nombre</span> = <span class="tok-nb">get</span>;

<span class="tok-nb">say</span> <span class="tok-s">&quot;¿Que tal $nombre?, bienvenido a Raku&quot;</span>;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Este código hace que el terminal espere la introducción de tu nombre. Hazlo y después pulsa [Enter].
Como resultado te dará la bienvenida.</p>
</div>
</div>
<div class="sect3">
<h4 id="_prompt">6.1.4. prompt</h4>
<div class="paragraph">
<p><code>prompt</code> es una combinación entre <code>print</code> y <code>get</code>.</p>
</div>
<div class="paragraph">
<p>El ejemplo anterior puede escribirse de esta otra forma:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">my</span> <span class="tok-nv">$nombre</span> = <span class="tok-nb">prompt</span> <span class="tok-s">&quot;¡Hola!, ¿cual es tu nombre? &quot;</span>;

<span class="tok-nb">say</span> <span class="tok-s">&quot;¿Que tal $nombre?, bienvenido a Raku&quot;</span>;</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_ejecutando_comandos_de_la_shell">6.2. Ejecutando Comandos de la Shell</h3>
<div class="paragraph">
<p>Podemos utilizar dos subrutinas para ejecutar comandos de la shell:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>run</code> Ejecuta un comando externo sin la intervención de la shell.</p>
</li>
<li>
<p><code>shell</code> Ejecuta un comando desde la shell del sistema y dependerá de la plataforma y la shell.
Todos los caracteres especiales los interpreta la shell, como pueden ser las tuberías, redirecciones, sustitución de variables de entorno, etc.</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="title">Ejecuta el siguiente script en Linux/macOS</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">my</span> <span class="tok-nv">$nombre</span> = <span class="tok-s">&#39;Neo&#39;</span>;
<span class="tok-nb">run</span> <span class="tok-s">&#39;echo&#39;</span>, <span class="tok-s">&quot;Hola $nombre&quot;</span>;
<span class="tok-nb">shell</span> <span class="tok-s">&quot;ls&quot;</span>;</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Ejecuta lo siguiente en Windows</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-nb">shell</span> <span class="tok-s">&quot;dir&quot;</span>;</code></pre>
</div>
</div>
<div class="paragraph">
<p><code>echo</code> y <code>ls</code> son palabras clave típicas de la shell de Linux:<br>
<code>echo</code> visualiza texto en el terminal (es el equivalente a <code>say</code> en Raku)<br>
<code>ls</code> muestra un listado de todos los archivos y carpetas del directorio actual</p>
</div>
<div class="paragraph">
<p><code>dir</code> en Windows es el equivalente de <code>ls</code> en Linux.</p>
</div>
</div>
<div class="sect2">
<h3 id="_es_de_archivos">6.3. E/S de Archivos</h3>
<div class="sect3">
<h4 id="_slurp">6.3.1. slurp</h4>
<div class="paragraph">
<p><code>slurp</code> lee datos de un archivo.</p>
</div>
<div class="paragraph">
<p>Crea un archivo de texto con el siguiente contenido:</p>
</div>
<div class="listingblock">
<div class="title">datos.txt</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-n">Juan</span> <span class="tok-mi">9</span>
<span class="tok-n">Juanito</span> <span class="tok-mi">7</span>
<span class="tok-n">Juana</span> <span class="tok-mi">8</span>
<span class="tok-n">Juanita</span> <span class="tok-mi">7</span></code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">my</span> <span class="tok-nv">$datos</span> = <span class="tok-nb">slurp</span> <span class="tok-s">&quot;datos.txt&quot;</span>;
<span class="tok-nb">say</span> <span class="tok-nv">$datos</span>;</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_spurt">6.3.2. spurt</h4>
<div class="paragraph">
<p><code>spurt</code> escribe datos en un archivo.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">my</span> <span class="tok-nv">$datos-nuevos</span> = <span class="tok-s">&quot;Nuevas puntuaciones:</span>
<span class="tok-s">Pablo 10</span>
<span class="tok-s">Pablin 9</span>
<span class="tok-s">Paulo 11&quot;</span>;

<span class="tok-nb">spurt</span> <span class="tok-s">&quot;datos-nuevos.txt&quot;</span>, <span class="tok-nv">$datos-nuevos</span>;</code></pre>
</div>
</div>
<div class="paragraph">
<p>El código anterior crea un nuevo archivo llamado <em>datos-nuevos.txt</em> conteniendo las nuevas puntuaciones.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_manipulando_archivos_y_carpetas">6.4. Manipulando archivos y carpetas</h3>
<div class="paragraph">
<p>Raku puede mostrar el contenido de una carpeta sin recurrir a los comandos de la shell (utilizando <code>ls</code> por ejemplo).</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-nb">say</span> <span class="tok-nb">dir</span>;               <span class="tok-c1"># Muestra archivos y carpetas de la carpeta actual</span>
<span class="tok-nb">say</span> <span class="tok-nb">dir</span> <span class="tok-s">&quot;/Documentos&quot;</span>; <span class="tok-c1"># Muestra archivos y carpetas de la carpeta indicada</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Además, puedes crear y eliminar carpetas.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-nb">mkdir</span> <span class="tok-s">&quot;carpeta-nueva&quot;</span>;
<span class="tok-nb">rmdir</span> <span class="tok-s">&quot;carpeta-nueva&quot;</span>;</code></pre>
</div>
</div>
<div class="paragraph">
<p><code>mkdir</code> crea una carpeta nueva.<br>
<code>rmdir</code> elimina una carpeta vacía y devuelve un error sino está vacía.</p>
</div>
<div class="paragraph">
<p>También puedes comprobar si una ruta existe y si es un archivo o una carpeta:</p>
</div>
<div class="paragraph">
<p>Crea una carpeta vacía llamada <code>carpeta123</code>, un archivo vacío llamado <code>script123.raku</code> y el siguiente script:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-nb">say</span> <span class="tok-s">&quot;script123.raku&quot;</span>.<span class="tok-nb">IO</span>.<span class="tok-nb">e</span>;
<span class="tok-nb">say</span> <span class="tok-s">&quot;carpeta123&quot;</span>.<span class="tok-nb">IO</span>.<span class="tok-nb">e</span>;

<span class="tok-nb">say</span> <span class="tok-s">&quot;script123.raku&quot;</span>.<span class="tok-nb">IO</span>.<span class="tok-nb">d</span>;
<span class="tok-nb">say</span> <span class="tok-s">&quot;carpeta123&quot;</span>.<span class="tok-nb">IO</span>.<span class="tok-nb">d</span>;

<span class="tok-nb">say</span> <span class="tok-s">&quot;script123.raku&quot;</span>.<span class="tok-nb">IO</span>.<span class="tok-nb">f</span>;
<span class="tok-nb">say</span> <span class="tok-s">&quot;carpeta123&quot;</span>.<span class="tok-nb">IO</span>.<span class="tok-nb">f</span>;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Ejecuta el script.</p>
</div>
<div class="paragraph">
<p><code>IO.e</code> comprueba si existe la carpeta/archivo.<br>
<code>IO.f</code> comprueba si la ruta es un archivo.<br>
<code>IO.d</code> comprueba si la ruta es una carpeta.</p>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
en Windows puedes utilizar <code>/</code> o <code>\\</code> para separar carpetas anidadas<br>
<code>C:\\rakudo\\bin</code><br>
<code>C:/rakudo/bin</code><br>
</td>
</tr>
</table>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
En <a href="https://docs.raku.org/type/IO" class="bare">https://docs.raku.org/type/IO</a> tienes más información sobre E/S.
</td>
</tr>
</table>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_subrutinas">7. Subrutinas</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_definición">7.1. Definición</h3>
<div class="paragraph">
<p>Las <strong>Subrutinas</strong> (también denominadas <strong>subs</strong> o <strong>funciones</strong>) son una forma de empaquetar y reutilizar funcionalidades.<br></p>
</div>
<div class="paragraph">
<p>La definición de una subrutina comienza con la palabra clave <code>sub</code>. Una vez definida puede invocarse mediante su nombre.<br></p>
</div>
<div class="paragraph">
<p>Fíjate en el siguiente ejemplo:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">sub</span> <span class="tok-n">saludo-alien</span> {
  <span class="tok-nb">say</span> <span class="tok-s">&quot;Hola terrícolas&quot;</span>;
}

<span class="tok-n">saludo-alien</span>;</code></pre>
</div>
</div>
<div class="paragraph">
<p>El ejemplo anterior es una subrutina sin entrada de datos.</p>
</div>
</div>
<div class="sect2">
<h3 id="_signatura">7.2. Signatura</h3>
<div class="paragraph">
<p>Las subrutinas pueden requerir una entrada, y ésta se proporciona mediante <strong>argumentos</strong>.
Una subrutina puede definir ninguno o varios <strong>parámetros</strong>.
La signatura de una subrutina es el número y el tipo de los parámetros que puede definir.</p>
</div>
<div class="paragraph">
<p>La siguiente subrutina acepta un argumento de tipo string.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">sub</span> <span class="tok-n">di-hola</span> (<span class="tok-nb">Str</span> <span class="tok-nv">$nombre</span>) {
    <span class="tok-nb">say</span> <span class="tok-s">&quot;¡¡Hola &quot;</span> ~ <span class="tok-nv">$nombre</span> ~ <span class="tok-s">&quot;!!&quot;</span>
}
<span class="tok-n">di-hola</span> <span class="tok-s">&quot;Pablo&quot;</span>;
<span class="tok-n">di-hola</span> <span class="tok-s">&quot;Paula&quot;</span>;</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_sobrecarga">7.3. Sobrecarga</h3>
<div class="paragraph">
<p>Es posible definir varias subrutinas con el mismo nombre pero con signaturas diferentes.
Cuando se llama a la subrutina, se decidirá qué versión utilizar en tiempo de ejecución dependiendo del número y tipo de argumentos proporcionados.
Este tipo de subrutinas se definen de la misma forma que una subrutina normal pero utilizando la palabra clave <code>multi</code> en lugar de <code>sub</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">multi</span> <span class="tok-n">saludo</span>(<span class="tok-nv">$nombre</span>) {
    <span class="tok-nb">say</span> <span class="tok-s">&quot;Buenos días $nombre&quot;</span>;
}
<span class="tok-k">multi</span> <span class="tok-n">saludo</span>(<span class="tok-nv">$nombre</span>, <span class="tok-nv">$título</span>) {
    <span class="tok-nb">say</span> <span class="tok-s">&quot;Buenos días $título $nombre&quot;</span>;
}

<span class="tok-n">saludo</span> <span class="tok-s">&quot;Juanito&quot;</span>;
<span class="tok-n">saludo</span> <span class="tok-s">&quot;Laura&quot;</span>,<span class="tok-s">&quot;Srta.&quot;</span>;</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_parámetros_por_defecto_y_opcionales">7.4. Parámetros por defecto y opcionales</h3>
<div class="paragraph">
<p>Tendremos un error si se define una subrutina para aceptar un argumento y éste no es proporcionado.</p>
</div>
<div class="paragraph">
<p>Con Raku podemos definir subrutinas con:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Parámetros opcionales</p>
</li>
<li>
<p>Parámetros por defecto</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Un parámetro opcional se define añadiendo <code>?</code> al nombre del parámetro.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">sub</span> <span class="tok-n">di-hola</span>(<span class="tok-nv">$nombre</span>?) {
  <span class="tok-k">with</span> <span class="tok-nv">$nombre</span> { <span class="tok-nb">say</span> <span class="tok-s">&quot;Hola &quot;</span> ~ <span class="tok-nv">$nombre</span> }
  <span class="tok-k">else</span> { <span class="tok-nb">say</span> <span class="tok-s">&quot;Hola humano&quot;</span> }
}
<span class="tok-n">di-hola</span>;
<span class="tok-n">di-hola</span>(<span class="tok-s">&quot;Laura&quot;</span>);</code></pre>
</div>
</div>
<div class="paragraph">
<p>Si no es necesario proporcionar un argumento, puede definirse uno por defecto asignándole un valor al parámetro en la definición de la subrutina.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">sub</span> <span class="tok-n">di-hola</span>(<span class="tok-nv">$nombre</span>=<span class="tok-s">&quot;Mateo&quot;</span>) {
  <span class="tok-nb">say</span> <span class="tok-s">&quot;Hola &quot;</span> ~ <span class="tok-nv">$nombre</span>;
}
<span class="tok-n">di-hola</span>;
<span class="tok-n">di-hola</span>(<span class="tok-s">&quot;Laura&quot;</span>);</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_valores_de_retorno">7.5. Valores de retorno</h3>
<div class="paragraph">
<p>Hemos visto que todas las subrutinas hasta ahora siempre <strong>hacen algo</strong>: mostrar resultados en la pantalla del terminal.</p>
</div>
<div class="paragraph">
<p>Sin embargo y a veces, utilizamos una subrutina para que nos <strong>devuelva</strong> algún valor que podamos utilizar después en el flujo del programa.</p>
</div>
<div class="paragraph">
<p>Si una función se ejecuta hasta el final de su bloque, el valor de retorno vendrá determinado por la última declaración o expresión.</p>
</div>
<div class="listingblock">
<div class="title">Retorno implícito</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">sub</span> <span class="tok-n">cuadrado</span> (<span class="tok-nv">$x</span>) {
  <span class="tok-nv">$x</span> ** <span class="tok-mi">2</span>;
}
<span class="tok-nb">say</span> <span class="tok-s">&quot;7 al cuadrado es igual a &quot;</span> ~ <span class="tok-n">cuadrado</span>(<span class="tok-mi">7</span>);</code></pre>
</div>
</div>
<div class="paragraph">
<p>Para dejarlo más claro sería una buena idea especificar de forma <em>explícita</em> qué es lo que queremos devolver.
Esto se realiza mediante la palabra clave <code>return</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">sub</span> <span class="tok-n">cuadrado</span> (<span class="tok-nv">$x</span>) {
  <span class="tok-k">return</span> <span class="tok-nv">$x</span> ** <span class="tok-mi">2</span>;
}
<span class="tok-nb">say</span> <span class="tok-s">&quot;7 al cuadrado es igual a &quot;</span> ~ <span class="tok-n">cuadrado</span>(<span class="tok-mi">7</span>);</code></pre>
</div>
</div>
<div class="sect3">
<h4 id="_restricción_de_valores_de_retorno">7.5.1. Restricción de valores de retorno</h4>
<div class="paragraph">
<p>En uno de los ejemplos anteriores vimos cómo restringir el tipo del argumento aceptado.
Lo mismo podemos hacer con los valores de retorno.</p>
</div>
<div class="paragraph">
<p>Para restringir el valor de retorno a un tipo determinado utilizamos la notación de flecha <code>--&gt;</code> en la signatura.</p>
</div>
<div class="listingblock">
<div class="title">Utilizando el tipo de retorno</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">sub</span> <span class="tok-n">cuadrado</span> (<span class="tok-nv">$x</span> --&gt; <span class="tok-nb">Int</span>) {
  <span class="tok-k">return</span> <span class="tok-nv">$x</span> ** <span class="tok-mi">2</span>;
}
<span class="tok-nb">say</span> <span class="tok-s">&quot;1.2 al cuadrado es igual a &quot;</span> ~ <span class="tok-n">cuadrado</span>(<span class="tok-mf">1.2</span>);</code></pre>
</div>
</div>
<div class="paragraph">
<p>Si el tipo del valor devuelto no coincide con el indicado, tendremos un error.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-n">Type</span> <span class="tok-n">check</span> <span class="tok-n">failed</span> <span class="tok-k">for</span> <span class="tok-k">return</span> <span class="tok-nb">value</span>; <span class="tok-nb">expected</span> <span class="tok-nb">Int</span> <span class="tok-k">but</span> <span class="tok-nb">got</span> <span class="tok-nb">Rat</span> (<span class="tok-mf">1.44</span>)</code></pre>
</div>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
<div class="paragraph">
<p>La restricción del tipo del valor de retorno tambień puede controlar si este valor está definido o no.</p>
</div>
<div class="paragraph">
<p>En los ejemplos anteriores especificamos que el valor de retorno debería ser de tipo <code>Int</code>.</p>
</div>
<div class="paragraph">
<p>Además, podemos indicar que el valor de retorno esté obligatoriamente definido o no utilizando las siguientes signaturas:<br>
<code>-&#8594; Int:D</code> y <code>-&#8594; Int:U</code></p>
</div>
<div class="paragraph">
<p>Como hemos visto es una buena costumbre utilizar estas restricciones.<br>
A continuación puedes ver la versión modificada del ejemplo anterior utilizando <code>:D</code> para que el tipo devuelto <code>Int</code> esté definido obligatoriamente.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">sub</span> <span class="tok-n">cuadrado</span> (<span class="tok-nv">$x</span> --&gt; <span class="tok-nb">Int:D</span>) {
  <span class="tok-k">return</span> <span class="tok-nv">$x</span> ** <span class="tok-mi">2</span>;
}
<span class="tok-nb">say</span> <span class="tok-s">&quot;1.2 al cuadrado es igual a &quot;</span> ~ <span class="tok-n">cuadrado</span>(<span class="tok-mf">1.2</span>);</code></pre>
</div>
</div>
</td>
</tr>
</table>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
En <a href="https://docs.raku.org/language/functions" class="bare">https://docs.raku.org/language/functions</a> encontrarás más información sobre subrutinas y funciones.
</td>
</tr>
</table>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_programación_funcional">8. Programación Funcional</h2>
<div class="sectionbody">
<div class="paragraph">
<p>En este apartado veremos algunas características que facilitan la Programación Funcional.</p>
</div>
<div class="sect2">
<h3 id="_las_funciones_son_de_primera_clase">8.1. Las Funciones son de primera clase</h3>
<div class="paragraph">
<p>Las funciones/subrutinas son de primera clase:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Pueden pasarse como argumentos</p>
</li>
<li>
<p>Pueden ser devueltas desde otras funciones</p>
</li>
<li>
<p>Pueden asignarse a variables</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Un gran ejemplo es la función <code>map</code>.<br>
<code>map</code> es una <em>función de orden superior</em> que puede aceptar otra función como argumento.</p>
</div>
<div class="listingblock">
<div class="title">Script</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">my</span> <span class="tok-nv">@array</span> = <span class="tok-s">&lt;1 2 3 4 5&gt;</span>;
<span class="tok-k">sub</span> <span class="tok-n">cuadrado</span>(<span class="tok-nv">$x</span>) {
  <span class="tok-nv">$x</span> ** <span class="tok-mi">2</span>
}
<span class="tok-nb">say</span> <span class="tok-n">map</span>(<span class="tok-nv">&amp;cuadrado</span>,<span class="tok-nv">@array</span>);</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Salida</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span>(<span class="tok-mi">1</span> <span class="tok-mi">4</span> <span class="tok-mi">9</span> <span class="tok-mi">16</span> <span class="tok-mi">25</span>)</code></pre>
</div>
</div>
<div class="paragraph">
<div class="title">Explicación</div>
<p>Hemos definido la subrutina <code>cuadrado</code> que toma un argumento y lo multiplica por sí mismo.<br>
Después utilizamos <code>map</code>, una función de orden superior, que toma dos argumentos: la subrutina <code>cuadrado</code> y un array.<br>
El resultado es una lista de los cuadrados de cada elemento del array.</p>
</div>
<div class="paragraph">
<p>Ten en cuenta que cuando pasamos una subrutina como argumento, es necesario utilizar el prefijo <code>&amp;</code> en el nombre.</p>
</div>
</div>
<div class="sect2">
<h3 id="_funciones_anónimas">8.2. Funciones anónimas</h3>
<div class="paragraph">
<p>Una <strong>función anónima</strong> también se denomina <strong>lambda</strong>.<br>
Una función anónima no está vinculada a un identificador (no tiene nombre).</p>
</div>
<div class="paragraph">
<p>Escribamos de nuevo el ejemplo de <code>map</code> pero utilizando una función anónima</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">my</span> <span class="tok-nv">@array</span> = <span class="tok-s">&lt;1 2 3 4 5&gt;</span>;
<span class="tok-nb">say</span> <span class="tok-n">map</span>(-&gt; <span class="tok-nv">$x</span> {<span class="tok-nv">$x</span> ** <span class="tok-mi">2</span>},<span class="tok-nv">@array</span>);</code></pre>
</div>
</div>
<div class="paragraph">
<p>Observa que en lugar de declarar la subrutina <code>cuadrado</code> y pasarla a <code>map</code> como argumento, la definimos dentro de la función anónima como <code>-&gt; $x {$x ** 2}</code>.</p>
</div>
<div class="paragraph">
<p>En la jerga de Raku nos referimos a esta notación como <strong>punto de entrada al bloque</strong></p>
</div>
<div class="listingblock">
<div class="title">Un punto de entrada al bloque también puede utilizarse para asignar funciones a variables:</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">my</span> <span class="tok-nv">$cuadrado</span> = -&gt; <span class="tok-nv">$x</span> {
  <span class="tok-nv">$x</span> ** <span class="tok-mi">2</span>
}
<span class="tok-nb">say</span> <span class="tok-nv">$cuadrado</span>(<span class="tok-mi">9</span>);</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_encadenamiento">8.3. Encadenamiento</h3>
<div class="paragraph">
<p>En Raku los métodos pueden encadenarse, de forma que el resultado de un método pasa como argumento a otro método.</p>
</div>
<div class="paragraph">
<p>Un ejemplo: dado un array, necesitamos los valores únicos de ese array ordenados de mayor a menor.</p>
</div>
<div class="paragraph">
<p>A continuación una solución sin encadenamiento:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">my</span> <span class="tok-nv">@array</span> = <span class="tok-s">&lt;7 8 9 0 1 2 4 3 5 6 7 8 9&gt;</span>;
<span class="tok-k">my</span> <span class="tok-nv">@final-array</span> = <span class="tok-nb">reverse</span>(<span class="tok-nb">sort</span>(<span class="tok-nb">unique</span>(<span class="tok-nv">@array</span>)));
<span class="tok-nb">say</span> <span class="tok-nv">@final-array</span>;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Aquí llamamos <code>unique</code> sobre <code>@array</code>, pasamos el resultado como argumento a <code>sort</code> y pasamos el resultado a <code>reverse</code>.</p>
</div>
<div class="paragraph">
<p>En contraste, con métodos encadenados, el ejemplo anterior puede escribirse así:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">my</span> <span class="tok-nv">@array</span> = <span class="tok-s">&lt;7 8 9 0 1 2 4 3 5 6 7 8 9&gt;</span>;
<span class="tok-k">my</span> <span class="tok-nv">@final-array</span> = <span class="tok-nv">@array</span>.<span class="tok-nb">unique</span>.<span class="tok-nb">sort</span>.<span class="tok-nb">reverse</span>;
<span class="tok-nb">say</span> <span class="tok-nv">@final-array</span>;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Como ves, el encadenamiento de métodos es <em>más visual</em>.</p>
</div>
</div>
<div class="sect2">
<h3 id="_operador_de_alimentación">8.4. Operador de Alimentación</h3>
<div class="paragraph">
<p>El <strong>operador de alimentación</strong>, llamado <em>tubería</em> en algunos lenguajes de programación funcional, ejemplifica el encadenamiento de métodos.</p>
</div>
<div class="listingblock">
<div class="title">Alimentación hacia adelante</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">my</span> <span class="tok-nv">@array</span> = <span class="tok-s">&lt;7 8 9 0 1 2 4 3 5 6 7 8 9&gt;</span>;
<span class="tok-nv">@array</span> ==&gt; <span class="tok-nb">unique</span>()
       ==&gt; <span class="tok-nb">sort</span>()
       ==&gt; <span class="tok-nb">reverse</span>()
       ==&gt; <span class="tok-k">my</span> <span class="tok-nv">@final-array</span>;
<span class="tok-nb">say</span> <span class="tok-nv">@final-array</span>;</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Explicación</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-n">Comienza</span> <span class="tok-n">con</span> `<span class="tok-nv">@array</span>` <span class="tok-n">y</span> <span class="tok-n">devuelve</span> <span class="tok-n">una</span> <span class="tok-n">lista</span> <span class="tok-n">de</span> <span class="tok-n">elementos</span> <span class="tok-n">únicos</span>
                    <span class="tok-n">después</span> <span class="tok-n">los</span> <span class="tok-n">ordena</span>
                    <span class="tok-n">después</span> <span class="tok-n">invierte</span> <span class="tok-n">el</span> <span class="tok-n">orden</span>
                    <span class="tok-n">después</span> <span class="tok-n">guarda</span> <span class="tok-n">el</span> <span class="tok-n">resultado</span> <span class="tok-n">en</span> <span class="tok-nv">@final-array</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Fíjate en el flujo de las llamadas a los métodos: se produce de arriba hacia abajo, esto es, desde el primero hasta el último paso.</p>
</div>
<div class="listingblock">
<div class="title">Alimentación hacia atrás</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">my</span> <span class="tok-nv">@array</span> = <span class="tok-s">&lt;7 8 9 0 1 2 4 3 5 6 7 8 9&gt;</span>;
<span class="tok-k">my</span> <span class="tok-nv">@final-array-v2</span> &lt;== <span class="tok-nb">reverse</span>()
                   &lt;== <span class="tok-nb">sort</span>()
                   &lt;== <span class="tok-nb">unique</span>()
                   &lt;== <span class="tok-nv">@array</span>;
<span class="tok-nb">say</span> <span class="tok-nv">@final-array-v2</span>;</code></pre>
</div>
</div>
<div class="paragraph">
<div class="title">Explicación</div>
<p>La alimentación hacia atrás es parecida a la anterior pero al revés.<br>
El flujo de las llamadas a los métodos es de abajo hacia arriba, esto es, desde el paso final hacia el primero.</p>
</div>
</div>
<div class="sect2">
<h3 id="_hiperoperador">8.5. Hiperoperador</h3>
<div class="paragraph">
<p>El <strong>hiperoperador</strong> <code>&gt;&gt;.</code> puede aplicar un método a todos los elementos de una lista y devolver una lista con los resultados.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">my</span> <span class="tok-nv">@array</span> = <span class="tok-s">&lt;0 1 2 3 4 5 6 7 8 9 10&gt;</span>;
<span class="tok-k">sub</span> <span class="tok-n">es-par</span>(<span class="tok-nv">$var</span>) { <span class="tok-nv">$var</span> %% <span class="tok-mi">2</span> };

<span class="tok-nb">say</span> <span class="tok-nv">@array</span>&gt;&gt;.<span class="tok-nb">is-prime</span>;
<span class="tok-nb">say</span> <span class="tok-nv">@array</span>&gt;&gt;.<span class="tok-nv">&amp;es-par</span>;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Mediante el hiperoperador podemos utilizar todos los métodos ya definidos en Raku, por ej. <code>is-prime</code> que devuelve si un número es primo o no.<br>
Además, podemos definir funciones nuevas y utilizarlas mediante el hiperoperador agregando el prefijo <code>&amp;</code> en el nombre del método, por ej. <code>&amp;es-par</code>.</p>
</div>
<div class="paragraph">
<p>El uso del hiperoperador es muy práctico pues evita escribir un bucle <code>for</code> para iterar sobre cada valor.</p>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
Raku garantiza que el orden de los resultados sea el mismo que el de la lista original.
Sin embargo, Raku <strong>no garantiza</strong> la llamada a los métodos en el orden de la lista o en el mismo hilo. Por tanto, ten cuidado con los métodos que tengan efectos secundarios, como <code>say</code> o <code>print</code>.
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_ensamblajes">8.6. Ensamblajes</h3>
<div class="paragraph">
<p>Un <strong>ensamblaje</strong> es una superposición lógica de valores.</p>
</div>
<div class="paragraph">
<p>En el siguiente ejemplo <code>1|2|3</code> es un ensamblaje.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">my</span> <span class="tok-nv">$var</span> = <span class="tok-mi">2</span>;
<span class="tok-k">if</span> <span class="tok-nv">$var</span> == <span class="tok-mi">1</span><span class="tok-o">|</span><span class="tok-mi">2</span><span class="tok-o">|</span><span class="tok-mi">3</span> {
  <span class="tok-nb">say</span> <span class="tok-s">&quot;La variable es 1 o 2 o 3&quot;</span>
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>El uso de ensamblajes normalmente produce <strong>autothreading</strong> para cada elemento del ensamblaje y todos los resultados se combinan y se devuelven en un nuevo ensamblaje.</p>
</div>
</div>
<div class="sect2">
<h3 id="_listas_perezosas">8.7. Listas perezosas</h3>
<div class="paragraph">
<p>Una <strong>lista perezosa</strong> es una lista que se evalúa perezosamente.<br>
La evaluación perezosa demora la evaluación de una expresión hasta que es requerida, guardando mientras los resultados en una tabla de búsqueda para así evitar repetir la evaluación.</p>
</div>
<div class="paragraph">
<p>Entre los beneficios tenemos:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Incremento del rendimiento evitando cálculos innecesarios</p>
</li>
<li>
<p>La habilidad de construir estructuras de datos potencialmente infinitas</p>
</li>
<li>
<p>La habilidad de definir controles de flujo</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Podemos definir una lista perezosa utilizando el operador infijo <code>&#8230;&#8203;</code><br>
Una lista perezosa tiene <strong>elemento(s) inicial(es)</strong>, un <strong>generador</strong> y un <strong>punto final</strong>.</p>
</div>
<div class="listingblock">
<div class="title">Lista perezonsa simple</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">my</span> <span class="tok-nv">$listaperezosa</span> = (<span class="tok-mi">1</span> ... <span class="tok-mi">10</span>);
<span class="tok-nb">say</span> <span class="tok-nv">$listaperezosa</span>;</code></pre>
</div>
</div>
<div class="paragraph">
<p>El elemento inicial es 1 y el punto final es 10. Como no hemos definido un generador, por defecto es el sucesor (+1)<br>
Dicho de otra forma, esta lista perezosa puede devolver (si es requerida) los siguientes elementos (1, 2, 3, 4, 5, 6, 7, 8, 9, 10)</p>
</div>
<div class="listingblock">
<div class="title">Lista perezosa infinita</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">my</span> <span class="tok-nv">$listaperezosa</span> = (<span class="tok-mi">1</span> ... <span class="tok-n">Inf</span>);
<span class="tok-nb">say</span> <span class="tok-nv">$listaperezosa</span>;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Esta lista puede devolver (si es requerida) cualquier entero entre 1 e infinito, en otras palabras cualquier número entero.</p>
</div>
<div class="listingblock">
<div class="title">Lista perezosa con generador deductivo</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">my</span> <span class="tok-nv">$listaperezosa</span> = (<span class="tok-mi">0</span>,<span class="tok-mi">2</span> ... <span class="tok-mi">10</span>);
<span class="tok-nb">say</span> <span class="tok-nv">$listaperezosa</span>;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Los elementos iniciales son 0 y 2, y el punto final es 10.
Aunque no hay un generador definido, Raku utiliza los elementos iniciales para deducir que el generador es (+2)<br>
Esta lista puede devolver (si es requerida) los siguientes elementos (0, 2, 4, 6, 8, 10)</p>
</div>
<div class="listingblock">
<div class="title">Lista perezosa con generador definido</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">my</span> <span class="tok-nv">$listaperezosa</span> = (<span class="tok-mi">0</span>, { <span class="tok-nv">$_</span> + <span class="tok-mi">3</span> } ... <span class="tok-mi">12</span>);
<span class="tok-nb">say</span> <span class="tok-nv">$listaperezosa</span>;</code></pre>
</div>
</div>
<div class="paragraph">
<p>En este ejemplo hemos definido de forma explícita un generador entre llaves <code>{ }</code><br>
Esta lista puede devolver (si es requerida) los siguientes elementos (0, 3, 6, 9, 12)</p>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Al usar un generador de forma explícita el punto final debe ser uno de los valores que el generador pueda devolver.<br>
Si en el ejemplo anterior sustituimos el punto final 12 por un 10, el generador no se detendrá y saltará sobre el punto final y continuará.</p>
</div>
<div class="paragraph">
<p>De forma alternativa puedes sustituir <code>0 &#8230;&#8203; 10</code> con <code>0 &#8230;&#8203;^ * &gt; 10</code><br>
Esto lo puedes leer como: De 0 hasta el primer valor mayor a 10 (excluyendo a éste)</p>
</div>
<div class="listingblock">
<div class="title">Lo siguiente no detiene al generador</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">my</span> <span class="tok-nv">$listaperezosa</span> = (<span class="tok-mi">0</span>, { <span class="tok-nv">$_</span> + <span class="tok-mi">3</span> } ... <span class="tok-mi">10</span>);
<span class="tok-nb">say</span> <span class="tok-nv">$listaperezosa</span>;</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Lo siguiente detiene al generador</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">my</span> <span class="tok-nv">$listaperezosa</span> = (<span class="tok-mi">0</span>, { <span class="tok-nv">$_</span> + <span class="tok-mi">3</span> } ...^ * &gt; <span class="tok-mi">10</span>);
<span class="tok-nb">say</span> <span class="tok-nv">$listaperezosa</span>;</code></pre>
</div>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_clausuras">8.8. Clausuras</h3>
<div class="paragraph">
<p>Todos los objetos de código en Raku son clausuras, lo que significa que se pueden referenciar variables léxicamente definidas desde un ámbito externo.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">sub</span> <span class="tok-n">crear-saludo</span> {
    <span class="tok-k">my</span> <span class="tok-nv">$nombre</span> = <span class="tok-s">&quot;Juan Dios&quot;</span>;
    <span class="tok-k">sub</span> <span class="tok-n">saludo</span> {
      <span class="tok-nb">say</span> <span class="tok-s">&quot;Buenos días $nombre&quot;</span>;
    };
    <span class="tok-k">return</span> <span class="tok-nv">&amp;saludo</span>;
}
<span class="tok-k">my</span> <span class="tok-nv">$saludo-creado</span> = <span class="tok-n">crear-saludo</span>;
<span class="tok-nv">$saludo-creado</span>();</code></pre>
</div>
</div>
<div class="paragraph">
<p>Si ejecutas el código anterior verás en el terminal <code>Buenos días Juan Dios</code>.<br>
El resultado es simple, pero lo interesante es que se devuelve la subrutina interna <code>saludo</code> desde una subrutina externa antes de ser ejecutada.</p>
</div>
<div class="paragraph">
<p><code>$saludo-creado</code> es una <strong>clausura</strong>.</p>
</div>
<div class="paragraph">
<p>Una <strong>clausura</strong> es una especie de objeto especial que combina dos cosas:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Una Subrutina</p>
</li>
<li>
<p>El Entorno donde se creó esa subrutina.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>El entorno es cualquier variable local que estaba dentro del alcance en el momento que se creó la clausura.
En este caso, <code>$saludo-creado</code> es una clausura que incluye a la subrutina <code>saludo</code> y el texto <code>Juan Dios</code> que existía cuando se creó la clausura.</p>
</div>
<div class="paragraph">
<p>Veamos un ejemplo más interesante.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">sub</span> <span class="tok-n">crear-saludo</span>(<span class="tok-nv">$momento</span>) {
  <span class="tok-k">return</span> <span class="tok-k">sub</span> (<span class="tok-nv">$nombre</span>) {
    <span class="tok-k">return</span> <span class="tok-s">&quot;Buenas $momento $nombre&quot;</span>
  }
}
<span class="tok-k">my</span> <span class="tok-nv">$tardes</span> = <span class="tok-n">crear-saludo</span>(<span class="tok-s">&quot;Tardes&quot;</span>);
<span class="tok-k">my</span> <span class="tok-nv">$noches</span> = <span class="tok-n">crear-saludo</span>(<span class="tok-s">&quot;Noches&quot;</span>);

<span class="tok-nb">say</span> <span class="tok-nv">$tardes</span>(<span class="tok-s">&quot;Juan&quot;</span>);
<span class="tok-nb">say</span> <span class="tok-nv">$noches</span>(<span class="tok-s">&quot;Juana&quot;</span>);</code></pre>
</div>
</div>
<div class="paragraph">
<p>En este ejemplo hemos definido la subrutina <code>crear-saludo($momento)</code> aceptando el argumento <code>$momento</code> y devuelve una subrutina nueva. La subrutina devuelta acepta el argumento <code>$nombre</code> y devuelve el saludo.</p>
</div>
<div class="paragraph">
<p><code>crear-saludo</code> es una fábrica de subrutinas, y en este ejemplo hemos creado dos subrutinas nuevas, una para decir <code>Buenas Tardes</code> y otra para decir <code>Buenas Noches</code>.</p>
</div>
<div class="paragraph">
<p><code>$tardes</code> y <code>$noches</code> también son clausuras. Ambas comparten la misma definición del cuerpo de la subrutina pero alojan entornos distintos.<br>
En el entorno de <code>$tardes</code> el <code>$momento</code> es <code>Tardes</code> y en el entorno de <code>$noches</code> el <code>$momento</code> es <code>Noches</code>.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_clases_y_objetos">9. Clases y Objetos</h2>
<div class="sectionbody">
<div class="paragraph">
<p>En el apartado anterior hemos visto cómo utilizar la Programación Funcional en Raku y en el siguiente apartado veremos cómo utilizar Raku en la Programación Orientada a Objetos.</p>
</div>
<div class="sect2">
<h3 id="_introducción_2">9.1. Introducción</h3>
<div class="paragraph">
<p>La programación <em>Orientada a Objetos</em> es uno de los paradigmas de programación más utilizados actualmente.<br>
Un <strong>objeto</strong> es un conjunto de variables y subrutinas.<br>
Las variables se llaman <strong>atributos</strong> y las subrutinas se llaman <strong>métodos</strong>.<br>
Los atributos definen un <strong>estado</strong> y los métodos definen el <strong>comportamiento</strong> de un objeto.</p>
</div>
<div class="paragraph">
<p>Una <strong>clase</strong> es una plantilla para crear <strong>objetos</strong>.<br></p>
</div>
<div class="paragraph">
<p>Para entender esta relación veamos el siguiente ejemplo:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Hay 4 individuos en una sala</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>objetos</strong> &#8658; 4 personas</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Los 4 individuos son humanos</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>clase</strong> &#8658; Humano</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Tienen distintos nombres, edades, sexo y nacionalidad</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>atributos</strong> &#8658; nombre, edad, sexo, nacionalidad</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>En <em>orientación a objetos</em> decimos que los objetos son <strong>instancias</strong> de una clase.</p>
</div>
<div class="paragraph">
<p>Veamos el siguiente script:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">class</span> <span class="tok-n">Humano</span> {
  <span class="tok-k">has</span> <span class="tok-nv">$.nombre</span>;
  <span class="tok-k">has</span> <span class="tok-nv">$.edad</span>;
  <span class="tok-k">has</span> <span class="tok-nv">$.sexo</span>;
  <span class="tok-k">has</span> <span class="tok-nv">$.nacionalidad</span>;
}

<span class="tok-k">my</span> <span class="tok-nv">$juan</span> = <span class="tok-n">Humano</span>.<span class="tok-nb">new</span>(<span class="tok-n">nombre</span> =&gt; <span class="tok-s">&#39;Juan&#39;</span>, <span class="tok-n">edad</span> =&gt; <span class="tok-mi">23</span>, <span class="tok-n">sexo</span> =&gt; <span class="tok-s">&#39;M&#39;</span>, <span class="tok-n">nacionalidad</span> =&gt; <span class="tok-s">&#39;Español&#39;</span>);
<span class="tok-nb">say</span> <span class="tok-nv">$juan</span>;</code></pre>
</div>
</div>
<div class="paragraph">
<p>La palabra clave <code>class</code> se utiliza para definir una clase.<br>
La palabra clave <code>has</code> se utiliza para definir los atributos de una clase.<br>
El método <code>.new()</code> se denomina <strong>constructor</strong> y crea el objeto como una instancia de la clase a la que ha sido llamada.</p>
</div>
<div class="paragraph">
<p>En el script anterior, la variable nueva <code>$juan</code> tiene una referencia a una instancia nueva de "Humano" definida por <code>Humano.new()</code>.<br></p>
</div>
<div class="paragraph">
<p>Los argumentos que se pasan al método <code>.new()</code> son utilizados para establecer los atributos del objeto en cuestión.</p>
</div>
<div class="paragraph">
<p>Una clase puede tener un <strong>alcance léxico</strong> mediante <code>my</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">my</span> <span class="tok-k">class</span> <span class="tok-n">Humano</span> {

}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_encapsulación">9.2. Encapsulación</h3>
<div class="paragraph">
<p>La encapsulación es un concepto de la programación Orientada a Objetos que consiste en empaquetar un conjunto de datos y métodos.<br></p>
</div>
<div class="paragraph">
<p>Los datos (atributos) dentro de un objeto deben ser <strong>privados</strong>, dicho de otro modo, solo son accesibles desde dentro del objeto.<br>
Para acceder a los atributos de un objeto desde fuera de él utilizamos <strong>métodos de acceso</strong>.</p>
</div>
<div class="paragraph">
<p>Los siguientes dos scripts dan el mismo resultado.</p>
</div>
<div class="listingblock">
<div class="title">Acceso directo a la variable:</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">my</span> <span class="tok-nv">$var</span> = <span class="tok-mi">7</span>;
<span class="tok-nb">say</span> <span class="tok-nv">$var</span>;</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Encapsulación:</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">my</span> <span class="tok-nv">$var</span> = <span class="tok-mi">7</span>;
<span class="tok-k">sub</span> <span class="tok-n">sayvar</span> {
  <span class="tok-nv">$var</span>;
}
<span class="tok-nb">say</span> <span class="tok-n">sayvar</span>;</code></pre>
</div>
</div>
<div class="paragraph">
<p>El método <code>sayvar</code> es un método de acceso que nos permite acceder al valor de la variable sin acceder directamente a ella.</p>
</div>
<div class="paragraph">
<p>Raku realiza la encapsulación mediante <strong>twigils</strong> (sigilos secundarios) y se ubican entre el sigilo y el nombre del atributo.<br>
En las clases se utilizan dos twigils:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>!</code> para indicar de forma explícita que el atributo es privado.</p>
</li>
<li>
<p><code>.</code> para crear automáticamente un método de accceso al atributo.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Por defecto todos los atributos son privados pero es muy recomendable utilizar siempre el twigil <code>!</code>.</p>
</div>
<div class="paragraph">
<p>Por lo tanto, podemos reescribir la clase anterior como:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">class</span> <span class="tok-n">Humano</span> {
  <span class="tok-k">has</span> <span class="tok-nv">$!nombre</span>;
  <span class="tok-k">has</span> <span class="tok-nv">$!edad</span>;
  <span class="tok-k">has</span> <span class="tok-nv">$!sexo</span>;
  <span class="tok-k">has</span> <span class="tok-nv">$!nacionalidad</span>;
}

<span class="tok-k">my</span> <span class="tok-nv">$juan</span> = <span class="tok-n">Humano</span>.<span class="tok-nb">new</span>(<span class="tok-n">nombre</span> =&gt; <span class="tok-s">&#39;Juan&#39;</span>, <span class="tok-n">edad</span> =&gt; <span class="tok-mi">23</span>, <span class="tok-n">sexo</span> =&gt; <span class="tok-s">&#39;M&#39;</span>, <span class="tok-n">nacionalidad</span> =&gt; <span class="tok-s">&#39;Español&#39;</span>);
<span class="tok-nb">say</span> <span class="tok-nv">$juan</span>;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Si añades al script la siguiente sentencia: <code>say $juan.edad;</code>
devolverá el siguiente error: <code>Method 'edad' not found for invocant of class 'Humano'</code>
debido a que <code>$!edad</code> es un atributo privado y solo puede utilizarse desde dentro del objeto. Como hemos visto, tendremos un error al intentar acceder a este atributo desde fuera del objeto.</p>
</div>
<div class="paragraph">
<p>Sustituye <code>has $!edad</code> por <code>has $.edad</code> y comprueba el resultado de <code>say $juan.edad;</code></p>
</div>
</div>
<div class="sect2">
<h3 id="_parámetros_posicionales_vs_parámetros_con_nombre">9.3. Parámetros Posicionales vs. Parámetros con nombre</h3>
<div class="paragraph">
<p>En Raku todas las clases heredan un constructor <code>.new()</code> por defecto que puede utilizarse para crear objetos proporcionando argumentos.<br>
El constructor por defecto solo acepta <strong>argumentos con nombre</strong>.<br>
Como puedes ver en el ejemplo que vimos antes, los argumentos que tiene <code>.new()</code> están definidos con un nombre:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>nombre =&gt; 'Juan'</p>
</li>
<li>
<p>edad =&gt; 23</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>¿Puedo ahorrarme el nombre de cada atributo al crear un objeto? Sí, pero necesito crear otro constructor que acepte <strong>argumentos posicionales</strong>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">class</span> <span class="tok-n">Humano</span> {
  <span class="tok-k">has</span> <span class="tok-nv">$.nombre</span>;
  <span class="tok-k">has</span> <span class="tok-nv">$.edad</span>;
  <span class="tok-k">has</span> <span class="tok-nv">$.sexo</span>;
  <span class="tok-k">has</span> <span class="tok-nv">$.nacionalidad</span>;
  <span class="tok-c1"># nuevo constructor que sustituye el de por defecto.</span>
  <span class="tok-k">method</span> <span class="tok-nb">new</span> (<span class="tok-nv">$nombre</span>,<span class="tok-nv">$edad</span>,<span class="tok-nv">$sexo</span>,<span class="tok-nv">$nacionalidad</span>) {
    <span class="tok-nb">self</span>.<span class="tok-nb">bless</span>(:<span class="tok-nv">$nombre</span>,:<span class="tok-nv">$edad</span>,:<span class="tok-nv">$sexo</span>,:<span class="tok-nv">$nacionalidad</span>);
  }
}

<span class="tok-k">my</span> <span class="tok-nv">$juan</span> = <span class="tok-n">Humano</span>.<span class="tok-nb">new</span>(<span class="tok-s">&#39;Juan&#39;</span>,<span class="tok-mi">23</span>,<span class="tok-s">&#39;M&#39;</span>,<span class="tok-s">&#39;Español&#39;</span>);
<span class="tok-nb">say</span> <span class="tok-nv">$juan</span>;</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_métodos">9.4. Métodos</h3>
<div class="sect3">
<h4 id="_introducción_3">9.4.1. Introducción</h4>
<div class="paragraph">
<p>Los métodos son las <em>subrutinas</em> de un objeto.<br>
Al igual que las subrutinas, los métodos pueden empaquetar un conjunto de funcionalidades, aceptar <strong>argumentos</strong>, tener una <strong>signatura</strong> y estar sobrecargadas con <strong>multi</strong>.</p>
</div>
<div class="paragraph">
<p>Los métodos se definen con la palabra clave <code>method</code> y normalmente se utilizan para realizar alguna acción sobre los atributos de los objetos, reforzando así el concepto de encapsulación donde los atributos del objeto solo pueden manipularse dentro del objeto mediante sus métodos.
Desde fuera solo podemos acceder a los métodos de los objetos y no hay acceso directo a sus atributos.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">class</span> <span class="tok-n">Humano</span> {
  <span class="tok-k">has</span> <span class="tok-nv">$.nombre</span>;
  <span class="tok-k">has</span> <span class="tok-nv">$.edad</span>;
  <span class="tok-k">has</span> <span class="tok-nv">$.sexo</span>;
  <span class="tok-k">has</span> <span class="tok-nv">$.nacionalidad</span>;
  <span class="tok-k">has</span> <span class="tok-nv">$.es-adulto</span>;
  <span class="tok-k">method</span> <span class="tok-n">evalúa_es-adulto</span> {
      <span class="tok-k">if</span> <span class="tok-nb">self</span>.<span class="tok-n">edad</span> &lt; <span class="tok-mi">18</span> {
        <span class="tok-nv">$!es-adulto</span> = <span class="tok-s">&#39;No&#39;</span>
      } <span class="tok-k">else</span> {
        <span class="tok-nv">$!es-adulto</span> = <span class="tok-s">&#39;Sí&#39;</span>
      }
  }
}

<span class="tok-k">my</span> <span class="tok-nv">$juan</span> = <span class="tok-n">Humano</span>.<span class="tok-nb">new</span>(<span class="tok-n">nombre</span> =&gt; <span class="tok-s">&#39;Juan&#39;</span>, <span class="tok-n">edad</span> =&gt; <span class="tok-mi">23</span>, <span class="tok-n">sexo</span> =&gt; <span class="tok-s">&#39;M&#39;</span>, <span class="tok-n">nacionalidad</span> =&gt; <span class="tok-s">&#39;Español&#39;</span>);
<span class="tok-nv">$juan</span>.<span class="tok-n">evalúa_es-adulto</span>;
<span class="tok-nb">say</span> <span class="tok-nv">$juan</span>.<span class="tok-n">es-adulto</span>;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Una vez definidos los métodos de una clase, pueden invocarse en un objeto mediante la <em>notación de punto</em>:<br>
<em>objeto</em> <strong>.</strong> <em>método</em>, como en el ejemplo que hemos visto antes: <code>$juan.evalúa_es-adulto</code></p>
</div>
<div class="paragraph">
<p>Si en la definición del método necesitamos hacer referencia al objeto en sí para invocar a otro método utilizaremos la palabra clave <code>self</code>.<br>
Si en la definición del método necesitamos hacer referencia a un atributo utilizaremos <code>!</code> aunque el atributo esté definido con <code>.</code><br>
La razón de esto es que el twigil <code>.</code> declara un atributo con <code>!</code> y crea automáticamente el método de acceso.
En el ejemplo anterior, <code>if self.edad &lt; 18</code> y <code>if $!edad &lt; 18</code> tendrán el mismo efecto, aunque técnicamente son distintos:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>self.edad</code> es una llamada al método (de acceso) <code>.edad</code><br>
También puede escribirse como <code>$.edad</code></p>
</li>
<li>
<p><code>$!edad</code> es una llamada directa a la variable</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_métodos_privados">9.4.2. Métodos privados</h4>
<div class="paragraph">
<p>Puede llamarse a un método normal de un objeto desde fuera de la clase.</p>
</div>
<div class="paragraph">
<p>Los <strong>métodos privados</strong> solo pueden llamarse desde dentro de la clase.<br>
Este es el caso donde un método llama a otro para realizar una acción concreta. El método que interactúa con el mundo exterior es público y a la vez llama al otro método que permanece privado. Al declarar el método como privado conseguimos que el usuario no pueda interactuar con él directamente.</p>
</div>
<div class="paragraph">
<p>Declarar un método privado requiere utilizar el twigil <code>!</code> antes de su nombre.<br>
Estos métodos privados se llaman mediante <code>!</code> en lugar de <code>.</code></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">method</span> !<span class="tok-n">soyprivado</span> {
  <span class="tok-c1"># código</span>
}

<span class="tok-k">method</span> <span class="tok-n">soypúblico</span> {
  <span class="tok-nb">self</span><span class="tok-o">!</span><span class="tok-n">soyprivado</span>;
  <span class="tok-c1"># más código</span>
}</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_atributos_de_clase">9.5. Atributos de Clase</h3>
<div class="paragraph">
<p>Los <strong>atributos de Clase</strong> son atributos que pertenecen a la clase en sí y no a sus objetos.<br>
Pueden inicializarse durante su definición.<br>
Los atributos de Clase se declaran mediante <code>my</code> en lugar de <code>has</code>.<br>
Se llaman en la clase en sí en lugar de sus objetos.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">class</span> <span class="tok-n">Humano</span> {
  <span class="tok-k">has</span> <span class="tok-nv">$.nombre</span>;
  <span class="tok-k">my</span> <span class="tok-nv">$.contador</span> = <span class="tok-mi">0</span>;
  <span class="tok-k">method</span> <span class="tok-nb">new</span>(<span class="tok-nv">$nombre</span>) {
    <span class="tok-n">Humano</span>.<span class="tok-n">contador</span>++;
    <span class="tok-nb">self</span>.<span class="tok-nb">bless</span>(:<span class="tok-nv">$nombre</span>);
  }
}
<span class="tok-k">my</span> <span class="tok-nv">$a</span> = <span class="tok-n">Humano</span>.<span class="tok-nb">new</span>(<span class="tok-s">&#39;a&#39;</span>);
<span class="tok-k">my</span> <span class="tok-nv">$b</span> = <span class="tok-n">Humano</span>.<span class="tok-nb">new</span>(<span class="tok-s">&#39;b&#39;</span>);

<span class="tok-nb">say</span> <span class="tok-n">Humano</span>.<span class="tok-n">contador</span>;</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_tipo_de_acceso">9.6. Tipo de Acceso</h3>
<div class="paragraph">
<p>Todos los ejemplos que hemos visto hasta ahora utilizan métodos de acceso para <strong>conseguir</strong> la información de los atributos de los objetos.</p>
</div>
<div class="paragraph">
<p>¿Y si necesitamos modificar el valor de un atributo?<br>
Para ello necesitamos etiquetar ese atributo como <em>lectura/escritura</em> utilizando las palabras clave <code>is rw</code></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">class</span> <span class="tok-n">Humano</span> {
  <span class="tok-k">has</span> <span class="tok-nv">$.nombre</span>;
  <span class="tok-k">has</span> <span class="tok-nv">$.edad</span> <span class="tok-k">is</span> <span class="tok-k">rw</span>;
}
<span class="tok-k">my</span> <span class="tok-nv">$juan</span> = <span class="tok-n">Humano</span>.<span class="tok-nb">new</span>(<span class="tok-n">nombre</span> =&gt; <span class="tok-s">&#39;Juan&#39;</span>, <span class="tok-n">edad</span> =&gt; <span class="tok-mi">21</span>);
<span class="tok-nb">say</span> <span class="tok-nv">$juan</span>.<span class="tok-n">edad</span>;

<span class="tok-nv">$juan</span>.<span class="tok-n">edad</span> = <span class="tok-mi">23</span>;
<span class="tok-nb">say</span> <span class="tok-nv">$juan</span>.<span class="tok-n">edad</span>;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Todos los atributos se declaran por defecto como <em>solo lectura</em> y también puedes hacerlo de forma explícita mediante <code>is readonly</code></p>
</div>
</div>
<div class="sect2">
<h3 id="_herencia">9.7. Herencia</h3>
<div class="sect3">
<h4 id="_introducción_4">9.7.1. Introducción</h4>
<div class="paragraph">
<p><strong>Herencia</strong> es otro concepto de la programación Orientada a Objetos.</p>
</div>
<div class="paragraph">
<p>Cuando definimos clases nos damos cuenta de que algunas veces utilizan los mismos métodos y atributos.<br>
¿Es necesario duplicar código?<br>
¡NO! Hay que utilizar la <strong>herencia</strong></p>
</div>
<div class="paragraph">
<p>Pensemos en definir dos clases, una clase para seres humanos y otra clase para empleados.<br>
Los seres humanos tienen 2 atributos: nombre y edad.<br>
Los empleados tienen 4 atributos: nombre, edad, compañía y salario.</p>
</div>
<div class="paragraph">
<p>Con prisas, uno definiría las clases así:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">class</span> <span class="tok-n">Humano</span> {
  <span class="tok-k">has</span> <span class="tok-nv">$.nombre</span>;
  <span class="tok-k">has</span> <span class="tok-nv">$.edad</span>;
}

<span class="tok-k">class</span> <span class="tok-n">Empleado</span> {
  <span class="tok-k">has</span> <span class="tok-nv">$.nombre</span>;
  <span class="tok-k">has</span> <span class="tok-nv">$.edad</span>;
  <span class="tok-k">has</span> <span class="tok-nv">$.compañía</span>;
  <span class="tok-k">has</span> <span class="tok-nv">$.salario</span>;
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>El código anterior aunque técnicamente es correcto, conceptualmente es pobre.</p>
</div>
<div class="paragraph">
<p>Hay una forma mejor de escribirlo:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">class</span> <span class="tok-n">Humano</span> {
  <span class="tok-k">has</span> <span class="tok-nv">$.nombre</span>;
  <span class="tok-k">has</span> <span class="tok-nv">$.edad</span>;
}

<span class="tok-k">class</span> <span class="tok-n">Empleado</span> <span class="tok-k">is</span> <span class="tok-n">Humano</span> {
  <span class="tok-k">has</span> <span class="tok-nv">$.compañía</span>;
  <span class="tok-k">has</span> <span class="tok-nv">$.salario</span>;
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>La herencia se define mediante la palabra clave <code>is</code>.<br>
En orientación a objetos, decimos que Empleado es <strong>hijo</strong> de Humano, y que Humano es <strong>padre</strong> de Empleado.</p>
</div>
<div class="paragraph">
<p>Todas las clases hijas heredan los atributos y métodos de su clase padre, y así ahorramos duplicar su definición.</p>
</div>
</div>
<div class="sect3">
<h4 id="_anulación_de_herencia">9.7.2. Anulación de herencia</h4>
<div class="paragraph">
<p>Las clases heredan todos los atributos y métodos de sus clases padre correspondientes.<br>
Hay casos donde es necesario que un método heredado actúe de forma distinta.<br>
Para conseguirlo, redefinimos el método en cuestión en la clase hija.<br>
Este concepto se llama <strong>anulación de herencia</strong>.</p>
</div>
<div class="paragraph">
<p>En el siguiente ejemplo, el método <code>preséntate</code> se hereda de la clase Empleado.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">class</span> <span class="tok-n">Humano</span> {
  <span class="tok-k">has</span> <span class="tok-nv">$.nombre</span>;
  <span class="tok-k">has</span> <span class="tok-nv">$.edad</span>;
  <span class="tok-k">method</span> <span class="tok-n">preséntate</span> {
    <span class="tok-nb">say</span> <span class="tok-s">&#39;Hola, soy un ser humano y mi nombre es &#39;</span> ~ <span class="tok-nb">self</span>.<span class="tok-n">nombre</span>;
  }
}

<span class="tok-k">class</span> <span class="tok-n">Empleado</span> <span class="tok-k">is</span> <span class="tok-n">Humano</span> {
  <span class="tok-k">has</span> <span class="tok-nv">$.compañía</span>;
  <span class="tok-k">has</span> <span class="tok-nv">$.salario</span>;
}

<span class="tok-k">my</span> <span class="tok-nv">$juan</span> = <span class="tok-n">Humano</span>.<span class="tok-nb">new</span>(<span class="tok-n">nombre</span> =&gt;<span class="tok-s">&#39;Juan&#39;</span>, <span class="tok-n">edad</span> =&gt; <span class="tok-mi">23</span>,);
<span class="tok-k">my</span> <span class="tok-nv">$juana</span> = <span class="tok-n">Empleado</span>.<span class="tok-nb">new</span>(<span class="tok-n">nombre</span> =&gt;<span class="tok-s">&#39;Juana&#39;</span>, <span class="tok-n">edad</span> =&gt; <span class="tok-mi">25</span>, <span class="tok-n">compañía</span> =&gt; <span class="tok-s">&#39;Acme&#39;</span>, <span class="tok-n">salario</span> =&gt; <span class="tok-mi">4000</span>);

<span class="tok-nv">$juan</span>.<span class="tok-n">preséntate</span>;
<span class="tok-nv">$juana</span>.<span class="tok-n">preséntate</span>;</code></pre>
</div>
</div>
<div class="paragraph">
<p>La anulación de herencia funciona así:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">class</span> <span class="tok-n">Humano</span> {
  <span class="tok-k">has</span> <span class="tok-nv">$.nombre</span>;
  <span class="tok-k">has</span> <span class="tok-nv">$.edad</span>;
  <span class="tok-k">method</span> <span class="tok-n">preséntate</span> {
    <span class="tok-nb">say</span> <span class="tok-s">&#39;Hola, soy un ser humano y mi nombre es &#39;</span> ~ <span class="tok-nb">self</span>.<span class="tok-n">nombre</span>;
  }
}

<span class="tok-k">class</span> <span class="tok-n">Empleado</span> <span class="tok-k">is</span> <span class="tok-n">Humano</span> {
  <span class="tok-k">has</span> <span class="tok-nv">$.compañía</span>;
  <span class="tok-k">has</span> <span class="tok-nv">$.salario</span>;
  <span class="tok-k">method</span> <span class="tok-n">preséntate</span> {
    <span class="tok-nb">say</span> <span class="tok-s">&#39;Hola, soy un empleado, mi nombre es &#39;</span> ~ <span class="tok-nb">self</span>.<span class="tok-n">nombre</span> ~ <span class="tok-s">&#39; y trabajo en: &#39;</span> ~ <span class="tok-nb">self</span>.<span class="tok-n">compañía</span>;
  }
}

<span class="tok-k">my</span> <span class="tok-nv">$juan</span> = <span class="tok-n">Humano</span>.<span class="tok-nb">new</span>(<span class="tok-n">nombre</span> =&gt;<span class="tok-s">&#39;Juan&#39;</span>,<span class="tok-n">edad</span> =&gt; <span class="tok-mi">23</span>,);
<span class="tok-k">my</span> <span class="tok-nv">$juana</span> = <span class="tok-n">Empleado</span>.<span class="tok-nb">new</span>(<span class="tok-n">nombre</span> =&gt;<span class="tok-s">&#39;Juana&#39;</span>,<span class="tok-n">edad</span> =&gt; <span class="tok-mi">25</span>,<span class="tok-n">compañía</span> =&gt; <span class="tok-s">&#39;Acme&#39;</span>,<span class="tok-n">salario</span> =&gt; <span class="tok-mi">4000</span>);

<span class="tok-nv">$juan</span>.<span class="tok-n">preséntate</span>;
<span class="tok-nv">$juana</span>.<span class="tok-n">preséntate</span>;</code></pre>
</div>
</div>
<div class="paragraph">
<p>El método correspondiente será aplicado dependiendo de la clase a la que pertenece el objeto.</p>
</div>
</div>
<div class="sect3">
<h4 id="_submétodos">9.7.3. Submétodos</h4>
<div class="paragraph">
<p>Los <strong>submétodos</strong> son métodos que no se heredan en las clases hijas.<br>
Solo son accesibles desde la clase donde son declarados.<br>
Se definen utilizando la palabra clave <code>submethod</code>.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_herencia_múltiple">9.8. Herencia Múltiple</h3>
<div class="paragraph">
<p>Raku permite la herencia múltiple. Una clase puede heredar de varias clases.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">class</span> <span class="tok-n">graf-barras</span> {
  <span class="tok-k">has</span> <span class="tok-nb">Int</span> <span class="tok-nv">@.valores-barras</span>;
  <span class="tok-k">method</span> <span class="tok-n">dibujar</span> {
    <span class="tok-nb">say</span> <span class="tok-nv">@.valores-barras</span>;
  }
}

<span class="tok-k">class</span> <span class="tok-n">graf-líneas</span> {
  <span class="tok-k">has</span> <span class="tok-nb">Int</span> <span class="tok-nv">@.valores-líneas</span>;
  <span class="tok-k">method</span> <span class="tok-n">dibujar</span> {
    <span class="tok-nb">say</span> <span class="tok-nv">@.valores-líneas</span>;
  }
}

<span class="tok-k">class</span> <span class="tok-n">multi-gráfica</span> <span class="tok-k">is</span> <span class="tok-n">graf-barras</span> <span class="tok-k">is</span> <span class="tok-n">graf-líneas</span> {
}

<span class="tok-k">my</span> <span class="tok-nv">$ventas-actuales</span> = <span class="tok-n">graf-barras</span>.<span class="tok-nb">new</span>(<span class="tok-n">valores-barras</span> =&gt; [<span class="tok-mi">10</span>,<span class="tok-mi">9</span>,<span class="tok-mi">11</span>,<span class="tok-mi">8</span>,<span class="tok-mi">7</span>,<span class="tok-mi">10</span>]);
<span class="tok-k">my</span> <span class="tok-nv">$previsión-ventas</span> = <span class="tok-n">graf-líneas</span>.<span class="tok-nb">new</span>(<span class="tok-n">valores-líneas</span> =&gt; [<span class="tok-mi">9</span>,<span class="tok-mi">8</span>,<span class="tok-mi">10</span>,<span class="tok-mi">7</span>,<span class="tok-mi">6</span>,<span class="tok-mi">9</span>]);

<span class="tok-k">my</span> <span class="tok-nv">$actual-vs-previsión</span> = <span class="tok-n">multi-gráfica</span>.<span class="tok-nb">new</span>(<span class="tok-n">valores-barras</span> =&gt; [<span class="tok-mi">10</span>,<span class="tok-mi">9</span>,<span class="tok-mi">11</span>,<span class="tok-mi">8</span>,<span class="tok-mi">7</span>,<span class="tok-mi">10</span>],
                                            <span class="tok-n">valores-líneas</span> =&gt; [<span class="tok-mi">9</span>,<span class="tok-mi">8</span>,<span class="tok-mi">10</span>,<span class="tok-mi">7</span>,<span class="tok-mi">6</span>,<span class="tok-mi">9</span>]);
<span class="tok-nb">say</span> <span class="tok-s">&quot;Ventas actuales:&quot;</span>;
<span class="tok-nv">$ventas-actuales</span>.<span class="tok-n">dibujar</span>;
<span class="tok-nb">say</span> <span class="tok-s">&quot;Previsión de ventas:&quot;</span>;
<span class="tok-nv">$previsión-ventas</span>.<span class="tok-n">dibujar</span>;
<span class="tok-nb">say</span> <span class="tok-s">&quot;Actual vs Previsión:&quot;</span>;
<span class="tok-nv">$actual-vs-previsión</span>.<span class="tok-n">dibujar</span>;</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title"><code>Salida</code></div>
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-n">Ventas</span> <span class="tok-n">actuales:</span>
[<span class="tok-mi">10</span> <span class="tok-mi">9</span> <span class="tok-mi">11</span> <span class="tok-mi">8</span> <span class="tok-mi">7</span> <span class="tok-mi">10</span>]
<span class="tok-n">Previsión</span> <span class="tok-n">de</span> <span class="tok-n">ventas:</span>
[<span class="tok-mi">9</span> <span class="tok-mi">8</span> <span class="tok-mi">10</span> <span class="tok-mi">7</span> <span class="tok-mi">6</span> <span class="tok-mi">9</span>]
<span class="tok-n">Actual</span> <span class="tok-n">vs</span> <span class="tok-n">Previsión:</span>
[<span class="tok-mi">10</span> <span class="tok-mi">9</span> <span class="tok-mi">11</span> <span class="tok-mi">8</span> <span class="tok-mi">7</span> <span class="tok-mi">10</span>]</code></pre>
</div>
</div>
<div class="paragraph">
<div class="title">Explicación</div>
<p>La clase <code>multi-gráfica</code> debería ser capaz de tener dos series, una para los valores actuales de las barras y otra para los valores de las previsiones de las líneas.<br>
Por esa razón la hemos definido como hija de <code>graf-líneas</code> y <code>graf-barras</code>.<br>
Te habrás dado cuenta que al llamar al método <code>dibujar</code> en <code>multi-gráfica</code> no tenemos el resultado deseado.
Solo se dibuja una serie.<br>
¿Qué ha ocurrido?<br>
<code>multi-gráfica</code> hereda de <code>graf-líneas</code> y de <code>graf-barras</code> y ambas tienen un método llamado <code>dibujar</code>.
Cuando llamamos a ese método desde <code>multi-gráfica</code> Raku trata de resolver internamente el conflicto llamando a uno de los métodos heredados.</p>
</div>
<div class="paragraph">
<div class="title">Correción</div>
<p>Para que funcione correctamente necesitamos anular la herencia del método <code>dibujar</code> en <code>multi-gráfica</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">class</span> <span class="tok-n">graf-barras</span> {
  <span class="tok-k">has</span> <span class="tok-nb">Int</span> <span class="tok-nv">@.valores-barras</span>;
  <span class="tok-k">method</span> <span class="tok-n">dibujar</span> {
    <span class="tok-nb">say</span> <span class="tok-nv">@.valores-barras</span>;
  }
}

<span class="tok-k">class</span> <span class="tok-n">graf-líneas</span> {
  <span class="tok-k">has</span> <span class="tok-nb">Int</span> <span class="tok-nv">@.valores-líneas</span>;
  <span class="tok-k">method</span> <span class="tok-n">dibujar</span> {
    <span class="tok-nb">say</span> <span class="tok-nv">@.valores-líneas</span>;
  }
}

<span class="tok-k">class</span> <span class="tok-n">multi-gráfica</span> <span class="tok-k">is</span> <span class="tok-n">graf-barras</span> <span class="tok-k">is</span> <span class="tok-n">graf-líneas</span> {
  <span class="tok-k">method</span> <span class="tok-n">dibujar</span> {
    <span class="tok-nb">say</span> <span class="tok-nv">@.valores-barras</span>;
    <span class="tok-nb">say</span> <span class="tok-nv">@.valores-líneas</span>;
  }
}

<span class="tok-k">my</span> <span class="tok-nv">$ventas-actuales</span> = <span class="tok-n">graf-barras</span>.<span class="tok-nb">new</span>(<span class="tok-n">valores-barras</span> =&gt; [<span class="tok-mi">10</span>,<span class="tok-mi">9</span>,<span class="tok-mi">11</span>,<span class="tok-mi">8</span>,<span class="tok-mi">7</span>,<span class="tok-mi">10</span>]);
<span class="tok-k">my</span> <span class="tok-nv">$previsión-ventas</span> = <span class="tok-n">graf-líneas</span>.<span class="tok-nb">new</span>(<span class="tok-n">valores-líneas</span> =&gt; [<span class="tok-mi">9</span>,<span class="tok-mi">8</span>,<span class="tok-mi">10</span>,<span class="tok-mi">7</span>,<span class="tok-mi">6</span>,<span class="tok-mi">9</span>]);

<span class="tok-k">my</span> <span class="tok-nv">$actual-vs-previsión</span> = <span class="tok-n">multi-gráfica</span>.<span class="tok-nb">new</span>(<span class="tok-n">valores-barras</span> =&gt; [<span class="tok-mi">10</span>,<span class="tok-mi">9</span>,<span class="tok-mi">11</span>,<span class="tok-mi">8</span>,<span class="tok-mi">7</span>,<span class="tok-mi">10</span>],
                                            <span class="tok-n">valores-líneas</span> =&gt; [<span class="tok-mi">9</span>,<span class="tok-mi">8</span>,<span class="tok-mi">10</span>,<span class="tok-mi">7</span>,<span class="tok-mi">6</span>,<span class="tok-mi">9</span>]);
<span class="tok-nb">say</span> <span class="tok-s">&quot;Ventas actuales:&quot;</span>;
<span class="tok-nv">$ventas-actuales</span>.<span class="tok-n">dibujar</span>;
<span class="tok-nb">say</span> <span class="tok-s">&quot;Previsión de ventas:&quot;</span>;
<span class="tok-nv">$previsión-ventas</span>.<span class="tok-n">dibujar</span>;
<span class="tok-nb">say</span> <span class="tok-s">&quot;Actual vs Previsión:&quot;</span>;
<span class="tok-nv">$actual-vs-previsión</span>.<span class="tok-n">dibujar</span>;</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title"><code>Salida</code></div>
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-n">Ventas</span> <span class="tok-n">actuales:</span>
[<span class="tok-mi">10</span> <span class="tok-mi">9</span> <span class="tok-mi">11</span> <span class="tok-mi">8</span> <span class="tok-mi">7</span> <span class="tok-mi">10</span>]
<span class="tok-n">Previsión</span> <span class="tok-n">de</span> <span class="tok-n">ventas:</span>
[<span class="tok-mi">9</span> <span class="tok-mi">8</span> <span class="tok-mi">10</span> <span class="tok-mi">7</span> <span class="tok-mi">6</span> <span class="tok-mi">9</span>]
<span class="tok-n">Actual</span> <span class="tok-n">vs</span> <span class="tok-n">Previsión:</span>
[<span class="tok-mi">10</span> <span class="tok-mi">9</span> <span class="tok-mi">11</span> <span class="tok-mi">8</span> <span class="tok-mi">7</span> <span class="tok-mi">10</span>]
[<span class="tok-mi">9</span> <span class="tok-mi">8</span> <span class="tok-mi">10</span> <span class="tok-mi">7</span> <span class="tok-mi">6</span> <span class="tok-mi">9</span>]</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_roles">9.9. Roles</h3>
<div class="paragraph">
<p>Los <strong>Roles</strong> son similares a las clases en cuanto a que son una colección de atributos y métodos.</p>
</div>
<div class="paragraph">
<p>Los roles se declaran con la palabra clave <code>role</code>. Las clases que quieran implementar un rol, pueden hacerlo utilizando la palabra clave <code>does</code>.</p>
</div>
<div class="listingblock">
<div class="title">Vamos a escribir de nuevo el ejemplo de la herencia múltiple pero mediante roles:</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">role</span> <span class="tok-n">graf-barras</span> {
  <span class="tok-k">has</span> <span class="tok-nb">Int</span> <span class="tok-nv">@.valores-barras</span>;
  <span class="tok-k">method</span> <span class="tok-n">dibujar</span> {
    <span class="tok-nb">say</span> <span class="tok-nv">@.valores-barras</span>;
  }
}

<span class="tok-k">role</span> <span class="tok-n">graf-líneas</span> {
  <span class="tok-k">has</span> <span class="tok-nb">Int</span> <span class="tok-nv">@.valores-líneas</span>;
  <span class="tok-k">method</span> <span class="tok-n">dibujar</span> {
    <span class="tok-nb">say</span> <span class="tok-nv">@.valores-líneas</span>;
  }
}

<span class="tok-k">class</span> <span class="tok-n">multi-gráfica</span> <span class="tok-k">does</span> <span class="tok-n">graf-barras</span> <span class="tok-k">does</span> <span class="tok-n">graf-líneas</span> {
  <span class="tok-k">method</span> <span class="tok-n">dibujar</span> {
    <span class="tok-nb">say</span> <span class="tok-nv">@.valores-barras</span>;
    <span class="tok-nb">say</span> <span class="tok-nv">@.valores-líneas</span>;
  }
}

<span class="tok-k">my</span> <span class="tok-nv">$ventas-actuales</span> = <span class="tok-n">graf-barras</span>.<span class="tok-nb">new</span>(<span class="tok-n">valores-barras</span> =&gt; [<span class="tok-mi">10</span>,<span class="tok-mi">9</span>,<span class="tok-mi">11</span>,<span class="tok-mi">8</span>,<span class="tok-mi">7</span>,<span class="tok-mi">10</span>]);
<span class="tok-k">my</span> <span class="tok-nv">$previsión-ventas</span> = <span class="tok-n">graf-líneas</span>.<span class="tok-nb">new</span>(<span class="tok-n">valores-líneas</span> =&gt; [<span class="tok-mi">9</span>,<span class="tok-mi">8</span>,<span class="tok-mi">10</span>,<span class="tok-mi">7</span>,<span class="tok-mi">6</span>,<span class="tok-mi">9</span>]);

<span class="tok-k">my</span> <span class="tok-nv">$actual-vs-previsión</span> = <span class="tok-n">multi-gráfica</span>.<span class="tok-nb">new</span>(<span class="tok-n">valores-barras</span> =&gt; [<span class="tok-mi">10</span>,<span class="tok-mi">9</span>,<span class="tok-mi">11</span>,<span class="tok-mi">8</span>,<span class="tok-mi">7</span>,<span class="tok-mi">10</span>],
                                            <span class="tok-n">valores-líneas</span> =&gt; [<span class="tok-mi">9</span>,<span class="tok-mi">8</span>,<span class="tok-mi">10</span>,<span class="tok-mi">7</span>,<span class="tok-mi">6</span>,<span class="tok-mi">9</span>]);
<span class="tok-nb">say</span> <span class="tok-s">&quot;Ventas actuales:&quot;</span>;
<span class="tok-nv">$ventas-actuales</span>.<span class="tok-n">dibujar</span>;
<span class="tok-nb">say</span> <span class="tok-s">&quot;Previsión de ventas:&quot;</span>;
<span class="tok-nv">$previsión-ventas</span>.<span class="tok-n">dibujar</span>;
<span class="tok-nb">say</span> <span class="tok-s">&quot;Actual vs Previsión:&quot;</span>;
<span class="tok-nv">$actual-vs-previsión</span>.<span class="tok-n">dibujar</span>;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Verás que el resultado es el mismo que antes sin utilizar roles.</p>
</div>
<div class="paragraph">
<p>Y ahora te preguntarás: si un rol es como una clase ¿para qué se utilizan?<br>
Para responder la pregunta, modifica el primer script que hemos utilizado para mostrar el caso de la herencia múltiple, en el que <em>olvidamos</em> anular la herencia del método <code>dibujar</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">role</span> <span class="tok-n">graf-barras</span> {
  <span class="tok-k">has</span> <span class="tok-nb">Int</span> <span class="tok-nv">@.valores-barras</span>;
  <span class="tok-k">method</span> <span class="tok-n">dibujar</span> {
    <span class="tok-nb">say</span> <span class="tok-nv">@.valores-barras</span>;
  }
}

<span class="tok-k">role</span> <span class="tok-n">graf-líneas</span> {
  <span class="tok-k">has</span> <span class="tok-nb">Int</span> <span class="tok-nv">@.valores-líneas</span>;
  <span class="tok-k">method</span> <span class="tok-n">dibujar</span> {
    <span class="tok-nb">say</span> <span class="tok-nv">@.valores-líneas</span>;
  }
}

<span class="tok-k">class</span> <span class="tok-n">multi-gráfica</span> <span class="tok-k">does</span> <span class="tok-n">graf-barras</span> <span class="tok-k">does</span> <span class="tok-n">graf-líneas</span> {
}

<span class="tok-k">my</span> <span class="tok-nv">$ventas-actuales</span> = <span class="tok-n">graf-barras</span>.<span class="tok-nb">new</span>(<span class="tok-n">valores-barras</span> =&gt; [<span class="tok-mi">10</span>,<span class="tok-mi">9</span>,<span class="tok-mi">11</span>,<span class="tok-mi">8</span>,<span class="tok-mi">7</span>,<span class="tok-mi">10</span>]);
<span class="tok-k">my</span> <span class="tok-nv">$previsión-ventas</span> = <span class="tok-n">graf-líneas</span>.<span class="tok-nb">new</span>(<span class="tok-n">valores-líneas</span> =&gt; [<span class="tok-mi">9</span>,<span class="tok-mi">8</span>,<span class="tok-mi">10</span>,<span class="tok-mi">7</span>,<span class="tok-mi">6</span>,<span class="tok-mi">9</span>]);

<span class="tok-k">my</span> <span class="tok-nv">$actual-vs-previsión</span> = <span class="tok-n">multi-gráfica</span>.<span class="tok-nb">new</span>(<span class="tok-n">valores-barras</span> =&gt; [<span class="tok-mi">10</span>,<span class="tok-mi">9</span>,<span class="tok-mi">11</span>,<span class="tok-mi">8</span>,<span class="tok-mi">7</span>,<span class="tok-mi">10</span>],
                                            <span class="tok-n">valores-líneas</span> =&gt; [<span class="tok-mi">9</span>,<span class="tok-mi">8</span>,<span class="tok-mi">10</span>,<span class="tok-mi">7</span>,<span class="tok-mi">6</span>,<span class="tok-mi">9</span>]);
<span class="tok-nb">say</span> <span class="tok-s">&quot;Ventas actuales:&quot;</span>;
<span class="tok-nv">$ventas-actuales</span>.<span class="tok-n">dibujar</span>;
<span class="tok-nb">say</span> <span class="tok-s">&quot;Previsión de ventas:&quot;</span>;
<span class="tok-nv">$previsión-ventas</span>.<span class="tok-n">dibujar</span>;
<span class="tok-nb">say</span> <span class="tok-s">&quot;Actual vs Previsión:&quot;</span>;
<span class="tok-nv">$actual-vs-previsión</span>.<span class="tok-n">dibujar</span>;</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title"><code>Salida</code></div>
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span>===<span class="tok-n">SORRY</span>!=== <span class="tok-n">Error</span> <span class="tok-k">while</span> <span class="tok-n">compiling</span>
<span class="tok-nb">Method</span> <span class="tok-s">&#39;dibujar&#39;</span> <span class="tok-n">must</span> <span class="tok-n">be</span> <span class="tok-n">resolved</span> <span class="tok-n">by</span> <span class="tok-k">class</span> <span class="tok-n">multi-gráfica</span> <span class="tok-n">because</span> <span class="tok-n">it</span> <span class="tok-n">exists</span> <span class="tok-nb">in</span> <span class="tok-n">multiple</span> <span class="tok-n">roles</span> (<span class="tok-n">graf-líneas</span>, <span class="tok-n">graf-barras</span>)</code></pre>
</div>
</div>
<div class="paragraph">
<div class="title">Explicación</div>
<p>Tendremos un error en tiempo de compilación si aplicamos varios roles a la misma clase si existe un conflicto.<br>
Este enfoque es mucho más seguro que la herencia múltiple, donde los conflictos no se consideran errores y se resuelven simplemente en tiempo de ejecución.</p>
</div>
<div class="paragraph">
<p>Los roles te avisarán si existe un conflicto.</p>
</div>
</div>
<div class="sect2">
<h3 id="_introspección_2">9.10. Introspección</h3>
<div class="paragraph">
<p>La <strong>Introspección</strong> es la forma de conseguir información de un objeto; como su tipo, atributos o métodos.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">class</span> <span class="tok-n">Humano</span> {
  <span class="tok-k">has</span> <span class="tok-nb">Str</span> <span class="tok-nv">$.nombre</span>;
  <span class="tok-k">has</span> <span class="tok-nb">Int</span> <span class="tok-nv">$.edad</span>;
  <span class="tok-k">method</span> <span class="tok-n">preséntate</span> {
    <span class="tok-nb">say</span> <span class="tok-s">&#39;Hola, soy un ser humano y mi nombre es &#39;</span> ~ <span class="tok-nb">self</span>.<span class="tok-n">nombre</span>;
  }
}

<span class="tok-k">class</span> <span class="tok-n">Empleado</span> <span class="tok-k">is</span> <span class="tok-n">Humano</span> {
  <span class="tok-k">has</span> <span class="tok-nb">Str</span> <span class="tok-nv">$.compañía</span>;
  <span class="tok-k">has</span> <span class="tok-nb">Int</span> <span class="tok-nv">$.salario</span>;
  <span class="tok-k">method</span> <span class="tok-n">preséntate</span> {
    <span class="tok-nb">say</span> <span class="tok-s">&#39;Hola, soy un empleado, mi nombre es &#39;</span> ~ <span class="tok-nb">self</span>.<span class="tok-n">nombre</span> ~ <span class="tok-s">&#39; y trabajo en: &#39;</span> ~ <span class="tok-nb">self</span>.<span class="tok-n">compañía</span>;
  }
}

<span class="tok-k">my</span> <span class="tok-nv">$juan</span> = <span class="tok-n">Humano</span>.<span class="tok-nb">new</span>(<span class="tok-n">nombre</span> =&gt;<span class="tok-s">&#39;Juan&#39;</span>,<span class="tok-n">edad</span> =&gt; <span class="tok-mi">23</span>,);
<span class="tok-k">my</span> <span class="tok-nv">$juana</span> = <span class="tok-n">Empleado</span>.<span class="tok-nb">new</span>(<span class="tok-n">nombre</span> =&gt;<span class="tok-s">&#39;Juana&#39;</span>,<span class="tok-n">edad</span> =&gt; <span class="tok-mi">25</span>,<span class="tok-n">compañía</span> =&gt; <span class="tok-s">&#39;Acme&#39;</span>,<span class="tok-n">salario</span> =&gt; <span class="tok-mi">4000</span>);

<span class="tok-nb">say</span> <span class="tok-nv">$juan</span>.<span class="tok-nb">WHAT</span>;
<span class="tok-nb">say</span> <span class="tok-nv">$juana</span>.<span class="tok-nb">WHAT</span>;
<span class="tok-nb">say</span> <span class="tok-nv">$juan</span>.^<span class="tok-nb">attributes</span>;
<span class="tok-nb">say</span> <span class="tok-nv">$juana</span>.^<span class="tok-nb">attributes</span>;
<span class="tok-nb">say</span> <span class="tok-nv">$juan</span>.^<span class="tok-nb">methods</span>;
<span class="tok-nb">say</span> <span class="tok-nv">$juana</span>.^<span class="tok-nb">methods</span>;
<span class="tok-nb">say</span> <span class="tok-nv">$juana</span>.^<span class="tok-nb">parents</span>;
<span class="tok-k">if</span> <span class="tok-nv">$juana</span> ~~ <span class="tok-n">Humano</span> {<span class="tok-nb">say</span> <span class="tok-s">&#39;Juana es Humana&#39;</span>};</code></pre>
</div>
</div>
<div class="paragraph">
<p>La introspeción proporciona la siguiente información:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>.WHAT</code> devuelve la clase a la que pertenece el objeto.</p>
</li>
<li>
<p><code>.^attributes</code> devuelve todos los atributos del objeto.</p>
</li>
<li>
<p><code>.^methods</code> devuelve todos los métodos accesibles del objeto.</p>
</li>
<li>
<p><code>.^parents</code> devuelve todas las clases padre a las que pertenece la clase del objeto.</p>
</li>
<li>
<p><code>~~</code> es el operador de coincidencia inteligente. Devuelve <em>True</em> si el objeto pertenece a la clase con la que se compara o con cualquier clase heredada.</p>
</li>
</ul>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Consulta:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="https://docs.raku.org/language/classtut" class="bare">https://docs.raku.org/language/classtut</a></p>
</li>
<li>
<p><a href="https://docs.raku.org/language/objects" class="bare">https://docs.raku.org/language/objects</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>para obtener más información sobre Programación Orientada a Objetos en Raku.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_control_de_excepciones">10. Control de Excepciones</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_captura_de_excepciones">10.1. Captura de Excepciones</h3>
<div class="paragraph">
<p>Las <strong>excepciones</strong> son situaciones especiales que ocurren en tiempo de ejecución cuando algo va mal.<br>
Decimos que las excepciones son <em>lanzadas</em>.</p>
</div>
<div class="paragraph">
<p>Veamos una ejecución correcta como en el siguiente script:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">my</span> <span class="tok-nb">Str</span> <span class="tok-nv">$nombre</span>;
<span class="tok-nv">$nombre</span> = <span class="tok-s">&quot;Juana&quot;</span>;
<span class="tok-nb">say</span> <span class="tok-s">&quot;Hola &quot;</span> ~ <span class="tok-nv">$nombre</span>;
<span class="tok-nb">say</span> <span class="tok-s">&quot;¿Qué haces hoy?&quot;</span></code></pre>
</div>
</div>
<div class="listingblock">
<div class="title"><code>Salida</code></div>
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-n">Hola</span> <span class="tok-n">Juana</span>
¿<span class="tok-s">Qué haces hoy?</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Ahora veamos un script que lanza una excepción:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">my</span> <span class="tok-nb">Str</span> <span class="tok-nv">$nombre</span>;
<span class="tok-nv">$nombre</span> = <span class="tok-mi">123</span>;
<span class="tok-nb">say</span> <span class="tok-s">&quot;Hola &quot;</span> ~ <span class="tok-nv">$nombre</span>;
<span class="tok-nb">say</span> <span class="tok-s">&quot;¿Qué haces hoy?&quot;</span></code></pre>
</div>
</div>
<div class="listingblock">
<div class="title"><code>Salida</code></div>
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-n">Type</span> <span class="tok-n">check</span> <span class="tok-n">failed</span> <span class="tok-nb">in</span> <span class="tok-n">assignment</span> <span class="tok-nb">to</span> <span class="tok-nv">$nombre</span>; <span class="tok-nb">expected</span> <span class="tok-nb">Str</span> <span class="tok-k">but</span> <span class="tok-nb">got</span> <span class="tok-nb">Int</span>
  <span class="tok-nb">in</span> <span class="tok-nb">block</span> <span class="tok-s">&lt;unit&gt;</span> <span class="tok-nb">at</span> <span class="tok-n">exceptions</span>.<span class="tok-n">raku</span> <span class="tok-nb">line</span> <span class="tok-mi">2</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Debes tener en cuenta que cuando se produce un error (en este caso, debido a la asignación de un número a una variable de texto) el programa se interrumpirá y no evaluará cualquier otra línea de código.</p>
</div>
<div class="paragraph">
<p>El <strong>Control de excepciones</strong> se produce cuando se <em>lanza</em> una excepción y es <em>capturada</em> de forma que el script continúa su ejecución.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">my</span> <span class="tok-nb">Str</span> <span class="tok-nv">$nombre</span>;
<span class="tok-k">try</span> {
  <span class="tok-nv">$nombre</span> = <span class="tok-mi">123</span>;
  <span class="tok-nb">say</span> <span class="tok-s">&quot;Hola &quot;</span> ~ <span class="tok-nv">$nombre</span>;
  <span class="tok-k">CATCH</span> {
    <span class="tok-k">default</span> {
      <span class="tok-nb">say</span> <span class="tok-s">&quot;¿Puedes decirme tu nombre de nuevo? No podemos encontrarlo en el registro.&quot;</span>;
    }
  }
}
<span class="tok-nb">say</span> <span class="tok-s">&quot;¿Qué haces hoy?&quot;</span>;</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title"><code>Salida</code></div>
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span>¿<span class="tok-n">Puedes</span> <span class="tok-n">decirme</span> <span class="tok-n">tu</span> <span class="tok-n">nombre</span> <span class="tok-n">de</span> <span class="tok-n">nuevo</span>? <span class="tok-n">No</span> <span class="tok-n">podemos</span> <span class="tok-n">encontrarlo</span> <span class="tok-n">en</span> <span class="tok-n">el</span> <span class="tok-n">registro</span>.
¿<span class="tok-s">Qué haces hoy?</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>El Control de excepciones se realiza utilizando un bloque <code>try-catch</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">try</span> {
  <span class="tok-c1"># código</span>
  <span class="tok-c1"># si algo va mal, el script saltará al bloque CATCH</span>
  <span class="tok-c1"># si todo es correcto, el script ignorará el bloque CATCH</span>
  <span class="tok-k">CATCH</span> {
    <span class="tok-k">default</span> {
      <span class="tok-c1"># aquí se ejecuta código si se lanza una excepción</span>
    }
  }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>El bloque <code>CATCH</code> puede definirse igual que el bloque <code>given</code>.
Esto significa que podemos <em>capturar</em> y controlar distintos tipos de excepciones.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">try</span> {
  <span class="tok-c1"># código</span>
  <span class="tok-c1"># si algo va mal, el script saltará al bloque CATCH</span>
  <span class="tok-c1"># si todo es correcto, el script ignorará el bloque CATCH</span>
  <span class="tok-k">CATCH</span> {
    <span class="tok-k">when</span> <span class="tok-o">X</span>::<span class="tok-n">AdHoc</span> { <span class="tok-c1"># hace algo si se lanza una excepción de tipo X::AdHoc }</span>
    <span class="tok-k">when</span> <span class="tok-o">X</span>::<span class="tok-n">IO</span>    { <span class="tok-c1"># hace algo si se lanza una excepción de tipo X::IO }</span>
    <span class="tok-k">when</span> <span class="tok-o">X</span>::<span class="tok-n">OS</span>    { <span class="tok-c1"># hace algo si se lanza una excepción de tipo X::OS }</span>
    <span class="tok-k">default</span>       { <span class="tok-c1"># hace algo si se lanza una excepción y no está contemplada en los tipos anteriores }</span>
  }
}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_lanzando_excepciones">10.2. Lanzando Excepciones</h3>
<div class="paragraph">
<p>Raku también te permite lanzar excepciones de forma explícita.<br>
Se pueden lanzar dos tipos de excepciones:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Excepciones ad-hoc</p>
</li>
<li>
<p>Excepciones por tipo</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="title">ad-hoc</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">my</span> <span class="tok-nb">Int</span> <span class="tok-nv">$edad</span> = <span class="tok-mi">21</span>;
<span class="tok-nb">die</span> <span class="tok-s">&quot;¡Error!&quot;</span>;</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">por tipo</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">my</span> <span class="tok-nb">Int</span> <span class="tok-nv">$edad</span> = <span class="tok-mi">21</span>;
<span class="tok-o">X</span>::<span class="tok-n">AdHoc</span>.<span class="tok-nb">new</span>(<span class="tok-nb">payload</span> =&gt; <span class="tok-s">&#39;¡Error!&#39;</span>).<span class="tok-nb">throw</span>;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Las excepciones ad-hoc se lanzan utilizando la subrutina <code>die</code>, seguida del mensaje describiendo la excepción.</p>
</div>
<div class="paragraph">
<p>Las excepciones por tipo son objetos, y como vemos en el ejemplo anterior utilizan el constructor <code>.new()</code>.<br>
Todas las excepciones por tipo pertenecen a la clase <code>X</code>. Estos son algunos ejemplos:<br>
<code>X::AdHoc</code> es el tipo de excepción más simple<br>
<code>X::IO</code> errores relacionados con operaciones de E/S<br>
<code>X::OS</code> errores relacionados con el Sistema Operativo<br>
<code>X::Str::Numeric</code> errores relacionados con la conversión de una cadena de texto a un valor numérico</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Tienes una lista completa de tipos de excepciones y sus métodos asociados en <a href="https://docs.raku.org/type-exceptions.html" class="bare">https://docs.raku.org/type-exceptions.html</a>
</td>
</tr>
</table>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_expresiones_regulares">11. Expresiones Regulares</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Una expresión regular, o <em>regex</em> es una secuencia de caracteres que se utiliza para encontrar un patrón.<br>
Piensa en ello como un patrón.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">if</span> <span class="tok-s">&#39;iluminación&#39;</span> ~~ <span class="tok-sr">m/ ilumina /</span> {
    <span class="tok-nb">say</span> <span class="tok-s">&quot;iluminación contiene la palabra ilumina&quot;</span>;
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>En este ejemplo, el operador inteligente de coincidencia <code>~~</code> sirve para comprobar si el texto (iluminación) contiene la palabra (ilumina).<br>
"Iluminación" se compara con la regex <code>m/ ilumina /</code></p>
</div>
<div class="sect2">
<h3 id="_definición_de_regex">11.1. Definición de Regex</h3>
<div class="paragraph">
<p>Una expresión regular puede definirse así:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>/ilumina/</code></p>
</li>
<li>
<p><code>m/ilumina/</code></p>
</li>
<li>
<p><code>rx/ilumina/</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>A menos que se indique de forma explícita, el espacio en blanco es ignorado, da igual <code>m/ilumina/</code> que <code>m/ ilumina /</code>.</p>
</div>
</div>
<div class="sect2">
<h3 id="_búsqueda_de_caracteres">11.2. Búsqueda de caracteres</h3>
<div class="paragraph">
<p>Los caracteres alfanuméricos y el guión bajo <code>_</code> se escriben tal cual.<br>
El resto de caracteres deben ser escapados utilizando la barra invertida o backslash o ir entre comillas.</p>
</div>
<div class="listingblock">
<div class="title">Barra invertida o Backslash</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">if</span> <span class="tok-s">&#39;Temperatura: 13&#39;</span> ~~ <span class="tok-sr">m/ \: /</span> {
    <span class="tok-nb">say</span> <span class="tok-s">&quot;El texto contiene el caracter dos puntos :&quot;</span>;
}</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Comillas simples</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">if</span> <span class="tok-s">&#39;Edad = 13&#39;</span> ~~ <span class="tok-sr">m/ &#39;=&#39; /</span> {
    <span class="tok-nb">say</span> <span class="tok-s">&quot;El texto contiene el caracter igual = &quot;</span>;
}</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Comillas dobles</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">if</span> <span class="tok-s">&#39;nombre@empresa.com&#39;</span> ~~ <span class="tok-sr">m/ &quot;@&quot; /</span> {
    <span class="tok-nb">say</span> <span class="tok-s">&quot;Dirección de mail válida porque contiene el caracter @&quot;</span>;
}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_categorías_de_caracteres">11.3. Categorías de caracteres</h3>
<div class="paragraph">
<p>Los caracteres se pueden clasificar en categorías y podemos realizar comparaciones con ellas.<br>
También podemos comparar la inversa de la categoría (todo menos ella):</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Categoría</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Regex</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Inversa</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Regex</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Caracter de palabra (letra, dígito o guión bajo)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">\w</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Cualquier caracter menos un caracter de palabra</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">\W</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Dígito</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">\d</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Cualquier caracter menos un dígito</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">\D</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Espacio en blanco</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">\s</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Cualquier caracter menos un espacio en blanco</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">\S</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Espacio en blanco horizontal</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">\h</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Cualquier caracter menos un caracter en blanco horizontal</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">\H</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Espacio en blanco vertical</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">\v</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Cualquier caracter menos un caracter en blanco horizontal</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">\V</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Tabulador</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">\t</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Cualquier caracter menos el tabulador</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">\T</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Línea nueva</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">\n</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Cualquier caracter menos una línea nueva</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">\N</p></td>
</tr>
</tbody>
</table>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">if</span> <span class="tok-s">&quot;Juan123&quot;</span> ~~<span class="tok-sr"> / \d /</span> {
  <span class="tok-nb">say</span> <span class="tok-s">&quot;Nombre no válido, no se permiten números&quot;</span>;
} <span class="tok-k">else</span> {
  <span class="tok-nb">say</span> <span class="tok-s">&quot;Nombre válido&quot;</span>
}
<span class="tok-k">if</span> <span class="tok-s">&quot;Juan-Dios&quot;</span> ~~<span class="tok-sr"> / \s /</span> {
  <span class="tok-nb">say</span> <span class="tok-s">&quot;El texto contiene un espacio en blanco&quot;</span>;
} <span class="tok-k">else</span> {
  <span class="tok-nb">say</span> <span class="tok-s">&quot;El texto no contiene un espacio en blanco&quot;</span>
}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_propiedades_unicode">11.4. Propiedades Unicode</h3>
<div class="paragraph">
<p>Lo normal es comparar categorías de caracteres como hemos visto.<br>
Dicho esto, podemos tener un enfoque más sistemático utilizando propiedades Unicode, de forma que puedas realizar coincidencias con categorías de caracteres dentro y fuera del estandar ASCII.<br>
Las propiedades Unicode se indican entre <code>&lt;: &gt;</code></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">if</span> <span class="tok-s">&quot;Números Devanagari १२३&quot;</span> ~~<span class="tok-sr"> / &lt;:N&gt; /</span> {
  <span class="tok-nb">say</span> <span class="tok-s">&quot;Contiene un número&quot;</span>;
} <span class="tok-k">else</span> {
  <span class="tok-nb">say</span> <span class="tok-s">&quot;No contiene un número&quot;</span>
}
<span class="tok-k">if</span> <span class="tok-s">&quot;Привет, Иван.&quot;</span> ~~<span class="tok-sr"> / &lt;:Lu&gt; /</span> {
  <span class="tok-nb">say</span> <span class="tok-s">&quot;Contiene una letra en mayúsculas&quot;</span>;
} <span class="tok-k">else</span> {
  <span class="tok-nb">say</span> <span class="tok-s">&quot;No contiene una letra en mayúsculas&quot;</span>
}
<span class="tok-k">if</span> <span class="tok-s">&quot;Juan-Dios&quot;</span> ~~<span class="tok-sr"> / &lt;:Pd&gt; /</span> {
  <span class="tok-nb">say</span> <span class="tok-s">&quot;Contiene un guión&quot;</span>;
} <span class="tok-k">else</span> {
  <span class="tok-nb">say</span> <span class="tok-s">&quot;No contiene un guión&quot;</span>
}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_comodines">11.5. Comodines</h3>
<div class="paragraph">
<p>En una regex también se pueden utilizar comodines.</p>
</div>
<div class="paragraph">
<p>El punto <code>.</code> significa cualquier caracter.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">if</span> <span class="tok-s">&#39;abc&#39;</span> ~~ <span class="tok-sr">m/ a.c /</span> {
    <span class="tok-nb">say</span> <span class="tok-s">&quot;Coincide&quot;</span>;
}
<span class="tok-k">if</span> <span class="tok-s">&#39;a2c&#39;</span> ~~ <span class="tok-sr">m/ a.c /</span> {
    <span class="tok-nb">say</span> <span class="tok-s">&quot;Coincide&quot;</span>;
}
<span class="tok-k">if</span> <span class="tok-s">&#39;ac&#39;</span> ~~ <span class="tok-sr">m/ a.c /</span> {
    <span class="tok-nb">say</span> <span class="tok-s">&quot;Coincide&quot;</span>;
} <span class="tok-k">else</span> {
    <span class="tok-nb">say</span> <span class="tok-s">&quot;No coincide&quot;</span>;
}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_cuantificadores">11.6. Cuantificadores</h3>
<div class="paragraph">
<p>Los cuantificadores van después de un caracter y especifican cuantas veces se repite éste.</p>
</div>
<div class="paragraph">
<p>El interrogante <code>?</code> significa que se repite una vez o ninguna.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">if</span> <span class="tok-s">&#39;ac&#39;</span> ~~ <span class="tok-sr">m/ a?c /</span> {
    <span class="tok-nb">say</span> <span class="tok-s">&quot;Coincide&quot;</span>;
} <span class="tok-k">else</span> {
    <span class="tok-nb">say</span> <span class="tok-s">&quot;No coincide&quot;</span>;
}
<span class="tok-k">if</span> <span class="tok-s">&#39;c&#39;</span> ~~ <span class="tok-sr">m/ a?c /</span> {
    <span class="tok-nb">say</span> <span class="tok-s">&quot;Coincide&quot;</span>;
} <span class="tok-k">else</span> {
    <span class="tok-nb">say</span> <span class="tok-s">&quot;No coincide&quot;</span>;
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>El asterisco <code>*</code> significa que se repite una vez o más de una vez o ninguna.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">if</span> <span class="tok-s">&#39;az&#39;</span> ~~ <span class="tok-sr">m/ a*z /</span> {
    <span class="tok-nb">say</span> <span class="tok-s">&quot;Coincide&quot;</span>;
} <span class="tok-k">else</span> {
    <span class="tok-nb">say</span> <span class="tok-s">&quot;No coincide&quot;</span>;
<span class="tok-k">if</span> <span class="tok-s">&#39;aaz&#39;</span> ~~ <span class="tok-sr">m/ a*z /</span> {
    <span class="tok-nb">say</span> <span class="tok-s">&quot;Coincide&quot;</span>;
} <span class="tok-k">else</span> {
    <span class="tok-nb">say</span> <span class="tok-s">&quot;No coincide&quot;</span>;
}
<span class="tok-k">if</span> <span class="tok-s">&#39;aaaaaaaaaaz&#39;</span> ~~ <span class="tok-sr">m/ a*z /</span> {
    <span class="tok-nb">say</span> <span class="tok-s">&quot;Coincide&quot;</span>;
} <span class="tok-k">else</span> {
    <span class="tok-nb">say</span> <span class="tok-s">&quot;No coincide&quot;</span>;
}
<span class="tok-k">if</span> <span class="tok-s">&#39;z&#39;</span> ~~ <span class="tok-sr">m/ a*z /</span> {
    <span class="tok-nb">say</span> <span class="tok-s">&quot;Coincide&quot;</span>;
} <span class="tok-k">else</span> {
    <span class="tok-nb">say</span> <span class="tok-s">&quot;No coincide&quot;</span>;
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>El símbolo <code>+</code> significa que se repite al menos una vez.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">if</span> <span class="tok-s">&#39;az&#39;</span> ~~ <span class="tok-sr">m/ a+z /</span> {
    <span class="tok-nb">say</span> <span class="tok-s">&quot;Coincide&quot;</span>;
} <span class="tok-k">else</span> {
    <span class="tok-nb">say</span> <span class="tok-s">&quot;No coincide&quot;</span>;
}
<span class="tok-k">if</span> <span class="tok-s">&#39;aaz&#39;</span> ~~ <span class="tok-sr">m/ a+z /</span> {
    <span class="tok-nb">say</span> <span class="tok-s">&quot;Coincide&quot;</span>;
} <span class="tok-k">else</span> {
    <span class="tok-nb">say</span> <span class="tok-s">&quot;No coincide&quot;</span>;
}
<span class="tok-k">if</span> <span class="tok-s">&#39;aaaaaaaaaaz&#39;</span> ~~ <span class="tok-sr">m/ a+z /</span> {
    <span class="tok-nb">say</span> <span class="tok-s">&quot;Coincide&quot;</span>;
} <span class="tok-k">else</span> {
    <span class="tok-nb">say</span> <span class="tok-s">&quot;No coincide&quot;</span>;
}
<span class="tok-k">if</span> <span class="tok-s">&#39;z&#39;</span> ~~ <span class="tok-sr">m/ a+z /</span> {
    <span class="tok-nb">say</span> <span class="tok-s">&quot;Coincide&quot;</span>;
} <span class="tok-k">else</span> {
    <span class="tok-nb">say</span> <span class="tok-s">&quot;No coincide&quot;</span>;
}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_extracción_de_resultados">11.7. Extracción de resultados</h3>
<div class="paragraph">
<p>Cuando se encuentra el patrón buscado, el resultado se guarda en la variable especial <code>$/</code></p>
</div>
<div class="listingblock">
<div class="title">Script</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">if</span> <span class="tok-s">&#39;Rakudo es el compilador de Raku&#39;</span> ~~ <span class="tok-sr">m/:s Raku/</span> {
    <span class="tok-nb">say</span> <span class="tok-s">&quot;El resultado es: &quot;</span> ~ <span class="tok-vg">$/</span>;
    <span class="tok-nb">say</span> <span class="tok-s">&quot;El texto antes del resultado es: &quot;</span> ~ <span class="tok-vg">$/</span>.<span class="tok-nb">prematch</span>;
    <span class="tok-nb">say</span> <span class="tok-s">&quot;El texto después del resultado es: &quot;</span> ~ <span class="tok-vg">$/</span>.<span class="tok-nb">postmatch</span>;
    <span class="tok-nb">say</span> <span class="tok-s">&quot;La posición de comienzo del resultado es: &quot;</span> ~ <span class="tok-vg">$/</span>.<span class="tok-nb">from</span>;
    <span class="tok-nb">say</span> <span class="tok-s">&quot;La posición final del resultado es: &quot;</span> ~ <span class="tok-vg">$/</span>.<span class="tok-nb">to</span>;
}</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Salida</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-n">El</span> <span class="tok-n">resultado</span> <span class="tok-n">es:</span> <span class="tok-n">Raku</span>
<span class="tok-n">El</span> <span class="tok-n">texto</span> <span class="tok-n">antes</span> <span class="tok-n">del</span> <span class="tok-n">resultado</span> <span class="tok-n">es:</span> <span class="tok-n">Rakudo</span> <span class="tok-n">es</span> <span class="tok-n">el</span> <span class="tok-n">compilador</span> <span class="tok-n">de</span>
<span class="tok-n">El</span> <span class="tok-n">texto</span> <span class="tok-n">después</span> <span class="tok-n">del</span> <span class="tok-n">resultado</span> <span class="tok-n">es:</span>
<span class="tok-n">La</span> <span class="tok-n">posición</span> <span class="tok-n">inicial</span> <span class="tok-n">del</span> <span class="tok-n">resultado</span> <span class="tok-n">es:</span> <span class="tok-mi">27</span>
<span class="tok-n">La</span> <span class="tok-n">posición</span> <span class="tok-n">final</span> <span class="tok-n">del</span> <span class="tok-n">resultado</span> <span class="tok-n">es:</span> <span class="tok-mi">33</span></code></pre>
</div>
</div>
<div class="paragraph">
<div class="title">Explicación</div>
<p><code>$/</code> devuelve un <em>Objeto de Coincidencia</em> (el texto encontrado o resultado de la regex)<br>
El <em>Objeto de Coincidencia</em> tiene los siguientes métodos:<br>
<code>.prematch</code> devuelve el texto que hay antes del resultado.<br>
<code>.postmatch</code> devuelve el texto que hay después del resultado.<br>
<code>.from</code> devuelve la posición inicial del resultado.<br>
<code>.to</code> devuelve la posición final del resultado.<br></p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
Por defecto, el espacio en blanco en una regex se ignora.<br>
Si queremos tener en cuenta los espacios en blanco en una regex, tenemos que hacerlo de forma explícita.<br>
El parámetro <code>:s</code> en la regex <code>m/:s Raku/</code> hace que la regex tenga en cuenta los espacios en blanco.<br>
Otra forma de hacerlo sería así: <code>m/ Perl\s6 /</code> donde <code>\s</code> representa el espacio en blanco.<br>
Si la regex contiene más de un espacio en blanco, es mejor utilizar <code>:s</code> que utilizar <code>\s</code> para cada espacio en blanco.
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_ejemplo">11.8. Ejemplo</h3>
<div class="paragraph">
<p>Vamos a comprobar si una dirección de email es correcta o no.<br>
Para este ejemplo asumiremos que una dirección de email correcta tiene este formato:<br>
nombre [punto] apellido [arroba] compañía [punto] (com/org/net)</p>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
La regex que utilizaremos en este ejemplo para validar una dirección de email no es muy precisa, y como su propósito es demostrar el funcionamiento de las regex en Raku, conviene no utilizarla en producción.
</td>
</tr>
</table>
</div>
<div class="listingblock">
<div class="title">Script</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">my</span> <span class="tok-nv">$email</span> = <span class="tok-s">&#39;juan.dios@perl6.org&#39;</span>;
<span class="tok-k">my</span> <span class="tok-nv">$regex</span> =<span class="tok-sr"> / &lt;:L&gt;+\.&lt;:L&gt;+\@&lt;:L+:N&gt;+\.&lt;:L&gt;+ /</span>;

<span class="tok-k">if</span> <span class="tok-nv">$email</span> ~~ <span class="tok-nv">$regex</span> {
  <span class="tok-nb">say</span> <span class="tok-vg">$/</span> ~ <span class="tok-s">&quot; es un email válido&quot;</span>;
} <span class="tok-k">else</span> {
  <span class="tok-nb">say</span> <span class="tok-s">&quot;No es una email válido&quot;</span>;
}</code></pre>
</div>
</div>
<div class="paragraph">
<div class="title">Salida</div>
<p><code>juan.dios@perl6.org es un email válido</code></p>
</div>
<div class="paragraph">
<div class="title">Explicación</div>
<p><code>&lt;:L&gt;</code> coincide con una letra<br>
<code>&lt;:L&gt;` coincide con una letra o más +
`\.` coincide con un caracter de [punto] +
`\@` coincide con un caracter de [arroba] +
`&lt;:L:N&gt;</code> coincide con una letra o más de una y un número<br>
<code>&lt;:L+:N&gt;+</code> coincide con una o más (una o más letras y un número)<br></p>
</div>
<div class="paragraph">
<p>La regex se puede descomponer así:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>nombre</strong> <code>&lt;:L&gt;+</code></p>
</li>
<li>
<p><strong>[punto]</strong> <code>\.</code></p>
</li>
<li>
<p><strong>apellido</strong> <code>&lt;:L&gt;+</code></p>
</li>
<li>
<p><strong>[arroba]</strong> <code>\@</code></p>
</li>
<li>
<p><strong>nombre de la compañía</strong> <code>&lt;:L+:N&gt;+</code></p>
</li>
<li>
<p><strong>[punto]</strong> <code>\.</code></p>
</li>
<li>
<p><strong>com/org/net</strong> <code>&lt;:L&gt;+</code></p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="title">Otra forma de hacerlo es descomponer la regex en varias regex con nombre</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">my</span> <span class="tok-nv">$email</span> = <span class="tok-s">&#39;juan.dios@perl6.org&#39;</span>;
<span class="tok-k">my</span> <span class="tok-k">regex</span><span class="tok-n"> varias-letras</span> {<span class="tok-sr"> &lt;:L&gt;+ </span>};
<span class="tok-k">my</span> <span class="tok-k">regex</span><span class="tok-n"> punto</span> {<span class="tok-sr"> \. </span>};
<span class="tok-k">my</span> <span class="tok-k">regex</span><span class="tok-n"> arroba</span> {<span class="tok-sr"> \@ </span>};
<span class="tok-k">my</span> <span class="tok-k">regex</span><span class="tok-n"> varias-letras-numeros</span> {<span class="tok-sr"> &lt;:L+:N&gt;+ </span>};

<span class="tok-k">if</span> <span class="tok-nv">$email</span> ~~<span class="tok-sr"> / &lt;varias-letras&gt; &lt;punto&gt; &lt;varias-letras&gt; &lt;arroba&gt; &lt;varias-letras-numeros&gt; &lt;punto&gt; &lt;varias-letras&gt; /</span> {
  <span class="tok-nb">say</span> <span class="tok-vg">$/</span> ~ <span class="tok-s">&quot; es un email válido&quot;</span>;
} <span class="tok-k">else</span> {
  <span class="tok-nb">say</span> <span class="tok-s">&quot;No es una email válido&quot;</span>;
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Una regex con nombre se define de la siguiente forma: <code>my regex nombre-regex { definición de la regex }</code><br>
Para utilizar una regex, la invocamos con su nombre de esta forma: <code>&lt;nombre-regex&gt;</code></p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
En <a href="https://docs.raku.org/language/regexes" class="bare">https://docs.raku.org/language/regexes</a> tienes más información sobre regex.
</td>
</tr>
</table>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_módulos_en_raku">12. Módulos en Raku</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Raku es un lenguaje de programación de propósito general. Puede utilizarse para llevar a cabo multitud de tareas, incluyendo:
manipulación de texto, gráficos, web, bases de datos, protocolos de red, etc.</p>
</div>
<div class="paragraph">
<p>La reutilización es un concepto muy importante para que los programadores no tengan que reinventar la rueda cada vez que quieran llevar a cabo una nueva tarea.</p>
</div>
<div class="paragraph">
<p>Raku permite la creación y redistribución de <strong>módulos</strong>. Cada módulo es un paquete de funcionalidades que, una vez instalado, se puede reutilizar.</p>
</div>
<div class="paragraph">
<p><em>Zef</em> es el gestor de módulos que incorpora Rakudo.</p>
</div>
<div class="paragraph">
<p>Para instalar un módulo concreto, utiliza el siguiente comando en el terminal:</p>
</div>
<div class="paragraph">
<p><code>zef install "nombre del módulo"</code></p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Puedes encontrar el directorio de módulos de Raku en: <a href="https://modules.raku.org/" class="bare">https://modules.raku.org/</a>
</td>
</tr>
</table>
</div>
<div class="sect2">
<h3 id="_utilizando_módulos">12.1. Utilizando Módulos</h3>
<div class="paragraph">
<p>MD5 es una función de cifrado de tipo hash que produce un valor hash de 128-bit.<br>
MD5 tiene muchas aplicaciones, incluyendo el cifrado de contraseñas guardadas en una base de datos.
Cuando se registra un nuevo usuario sus credenciales no se guardan en texto plano, se guardan <em>cifradas</em>, de forma que si un atacante compromete la base de datos, este atacante no podría conocer las contraseñas.
Por suerte, no necesitas implementar el algoritmo MD5, pues ya lo implementa un módulo de Raku.</p>
</div>
<div class="paragraph">
<p>Vamos a instalarlo:<br>
<code>zef install Digest::MD5</code></p>
</div>
<div class="paragraph">
<p>Ahora, ejecutemos el siguiente script:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">use</span> <span class="tok-n">Digest::MD5</span>;
<span class="tok-k">my</span> <span class="tok-nv">$contraseña</span> = <span class="tok-s">&quot;contraseña123&quot;</span>;
<span class="tok-k">my</span> <span class="tok-nv">$contraseña-cifrada</span> = <span class="tok-n">Digest::MD5</span>.<span class="tok-nb">new</span>.<span class="tok-n">md5_hex</span>(<span class="tok-nv">$contraseña</span>);

<span class="tok-nb">say</span> <span class="tok-nv">$contraseña-cifrada</span>;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Para utilizar la función <code>md5_hex()</code> que produce el cifrado necesitaremos antes cargar el módulo requerido.<br>
La palabra clave <code>use</code> carga el módulo para después utilizarlo en el script.</p>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
En la práctica el cifrado MD5 no es suficientemente seguro pues es vulnerable a ataques de diccionario.<br>
Debería combinarse con sal <a href="https://es.wikipedia.org/wiki/Sal_(criptografía)">https://es.wikipedia.org/wiki/Sal_(criptografía)</a>.
</td>
</tr>
</table>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_unicode">13. Unicode</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Unicode es un estándar para codificar y representar texto en la mayoría de los sistemas de escritura del mundo.<br>
UTF-8 es una codificación de caracteres que puede codificar todos los caracteres o números de código en Unicode.</p>
</div>
<div class="paragraph">
<p>Los caracteres se definen con un:<br>
<strong>Grafema</strong>: Representación visual.<br>
<strong>Número de código</strong>: Un número asignado a un caracter.</p>
</div>
<div class="sect2">
<h3 id="_utilizando_unicode">13.1. Utilizando Unicode</h3>
<div class="listingblock">
<div class="title">Veamos cómo podemos visualizar caracteres mediante Unicode</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-nb">say</span> <span class="tok-s">&quot;a&quot;</span>;
<span class="tok-nb">say</span> <span class="tok-s">&quot;\x0061&quot;</span>;
<span class="tok-nb">say</span> <span class="tok-s">&quot;\c[LATIN SMALL LETTER A]&quot;</span>;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Las 3 líneas anteriores muestran formas distintas de construir un caracter:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Escribir el caracter directamente (grafema)</p>
</li>
<li>
<p>Utilizar <code>\x</code> y el número de código</p>
</li>
<li>
<p>Utilizar <code>\c</code> y el nombre del número de código</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="title">Visualicemos ahora una sonrisa</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-nb">say</span> <span class="tok-s">&quot;☺&quot;</span>;
<span class="tok-nb">say</span> <span class="tok-s">&quot;\x263a&quot;</span>;
<span class="tok-nb">say</span> <span class="tok-s">&quot;\c[WHITE SMILING FACE]&quot;</span>;</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Otro ejemplo combinando dos números de código</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-nb">say</span> <span class="tok-s">&quot;á&quot;</span>;
<span class="tok-nb">say</span> <span class="tok-s">&quot;\x00e1&quot;</span>;
<span class="tok-nb">say</span> <span class="tok-s">&quot;\x0061\x0301&quot;</span>;
<span class="tok-nb">say</span> <span class="tok-s">&quot;\c[LATIN SMALL LETTER A WITH ACUTE]&quot;</span>;</code></pre>
</div>
</div>
<div class="paragraph">
<p>La letra <code>á</code> puede escribirse:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>utilizando su número de código único <code>\x00e1</code></p>
</li>
<li>
<p>o combinando sus números de código de <code>a</code> y la tilde <code>\x0061\x0301</code></p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="title">Algunos de los métodos que pueden utilizarse:</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-nb">say</span> <span class="tok-s">&quot;á&quot;</span>.<span class="tok-nb">NFC</span>;
<span class="tok-nb">say</span> <span class="tok-s">&quot;á&quot;</span>.<span class="tok-nb">NFD</span>;
<span class="tok-nb">say</span> <span class="tok-s">&quot;á&quot;</span>.<span class="tok-nb">uniname</span>;</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title"><code>Salida</code></div>
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-n">NFC:0x</span><span class="tok-s">&lt;00e1&gt;</span>
<span class="tok-n">NFD:0x</span><span class="tok-s">&lt;0061 0301&gt;</span>
<span class="tok-n">LATIN</span> <span class="tok-n">SMALL</span> <span class="tok-n">LETTER</span> <span class="tok-n">A</span> <span class="tok-n">WITH</span> <span class="tok-n">ACUTE</span></code></pre>
</div>
</div>
<div class="paragraph">
<p><code>NFC</code> devuelve el número de código único.<br>
<code>NFD</code> descompone el caracter y devuelve el número de código de cada parte.<br>
<code>uniname</code> devuelve el nombre del número de código.</p>
</div>
<div class="listingblock">
<div class="title">Las letras Unicode pueden utilizarse como identificadores:</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">my</span> <span class="tok-nv">$Δ</span> = <span class="tok-mi">1</span>;
<span class="tok-nv">$Δ</span>++;
<span class="tok-nb">say</span> <span class="tok-nv">$Δ</span>;</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Se pueden utilizar símbolos matemáticos Unicode:</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">my</span> <span class="tok-nv">$var</span> = <span class="tok-mi">2</span> + <span class="tok-n">⅒</span>;
<span class="tok-nb">say</span> <span class="tok-nv">$var</span>;</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_operaciones_contempladas_con_unicode">13.2. Operaciones contempladas con Unicode</h3>
<div class="sect3">
<h4 id="_números">13.2.1. Números</h4>
<div class="paragraph">
<p>Los números arábigos son los diez dígitos: 0, 1, 2, 3, 4, 5, 6, 7, 8, 9.
Este conjunto de números es el más utilizado en el mundo.</p>
</div>
<div class="paragraph">
<p>No obstante y en menor medida en diferentes lugares del mundo se utilizan otros conjuntos de números.</p>
</div>
<div class="paragraph">
<p>Al utilizar otros conjuntos de números distintos de los números arábigos no hay que hacer nada especial; todos los métodos y operadores funcionarán como de costumbre.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-nb">say</span> (<span class="tok-mi">٤</span>,<span class="tok-mi">٥</span>,<span class="tok-mi">٦</span>,<span class="tok-mi">1</span>,<span class="tok-mi">2</span>,<span class="tok-mi">3</span>).<span class="tok-nb">sort</span>; <span class="tok-c1"># (1 2 3 4 5 6)</span>
<span class="tok-nb">say</span> <span class="tok-mi">1</span> + <span class="tok-mi">٩</span>;              <span class="tok-c1"># 10</span></code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_texto">13.2.2. Texto</h4>
<div class="paragraph">
<p>Cuidado al utilizar operaciones génericas con texto pues no siempre obtendríamos lo resultados esperados, sobre todo al comparar u ordenar.</p>
</div>
<div class="sect4">
<h5 id="_comparación">Comparación</h5>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-nb">say</span> <span class="tok-s">&#39;a&#39;</span> <span class="tok-o">cmp</span> <span class="tok-s">&#39;B&#39;</span>; <span class="tok-c1"># Más</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Este ejemplo dice que <code>a</code> es mayor que <code>B</code> porque el número de código de <code>a</code> es mayor que el número de código de <code>B</code>.</p>
</div>
<div class="paragraph">
<p>Si bien la lógica anterior es técnicamente correcta en la práctica no es muy útil.</p>
</div>
<div class="paragraph">
<p>Por suerte Raku tiene métodos y operadores que implementan el <a href="http://unicode.org/reports/tr10/">Algoritmo del conjunto ordenado de caracteres de Unicode</a>.<br>
Uno de estos operadores es <code>unicmp</code>, funciona como <code>cmp</code> pero contemplado por Unicode.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-nb">say</span> <span class="tok-s">&#39;a&#39;</span> <span class="tok-o">unicmp</span> <span class="tok-s">&#39;B&#39;</span>; <span class="tok-c1"># Menos</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Como puedes ver el operador <code>unicmp</code> da el resultado esperado donde <code>a</code> es menor que <code>B</code>.</p>
</div>
</div>
<div class="sect4">
<h5 id="_ordenación">Ordenación</h5>
<div class="paragraph">
<p>Como alternativa a <code>sort</code> para ordenar por números de código Raku incluye el método <code>collate</code> que implementa el <a href="http://unicode.org/reports/tr10/">Algoritmo del conjunto ordenado de caracteres de Unicode</a>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-nb">say</span> (<span class="tok-s">&#39;a&#39;</span>,<span class="tok-s">&#39;b&#39;</span>,<span class="tok-s">&#39;c&#39;</span>,<span class="tok-s">&#39;D&#39;</span>,<span class="tok-s">&#39;E&#39;</span>,<span class="tok-s">&#39;F&#39;</span>).<span class="tok-nb">sort</span>;    <span class="tok-c1"># (D E F a b c)</span>
<span class="tok-nb">say</span> (<span class="tok-s">&#39;a&#39;</span>,<span class="tok-s">&#39;b&#39;</span>,<span class="tok-s">&#39;c&#39;</span>,<span class="tok-s">&#39;D&#39;</span>,<span class="tok-s">&#39;E&#39;</span>,<span class="tok-s">&#39;F&#39;</span>).<span class="tok-nb">collate</span>; <span class="tok-c1"># (a b c D E F)</span></code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_paralelismo_concurrencia_y_asincronía">14. Paralelismo, Concurrencia y Asincronía</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_paralelismo">14.1. Paralelismo</h3>
<div class="paragraph">
<p>En condiciones normales todas las tareas de un programa se ejecutan de forma secuencial.<br>
Esto no suele ser un problema, a menos que tarde demasiado tiempo.</p>
</div>
<div class="paragraph">
<p>Raku te permite hacer cosas en paralelo.<br>
Llegados aquí, es importante saber que el paralelismo puede tener dos significados:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Paralelismo de Tareas</strong>: Dos (o más) expresiones independientes ejecutándose en paralelo.</p>
</li>
<li>
<p><strong>Paralelismo de Datos</strong>: Una única expresión iterando en una lista de elementos en paralelo.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Comencemos con la última.</p>
</div>
<div class="sect3">
<h4 id="_paralelismo_de_datos">14.1.1. Paralelismo de Datos</h4>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">my</span> <span class="tok-nv">@array</span> = <span class="tok-mi">0</span><span class="tok-o">..</span><span class="tok-mi">50000</span>;                        <span class="tok-c1"># Creación del array</span>
<span class="tok-k">my</span> <span class="tok-nv">@resultado</span> = <span class="tok-nv">@array</span>.<span class="tok-n">map</span>({ <span class="tok-nb">is-prime</span> <span class="tok-nv">$_</span> }); <span class="tok-c1"># Llama a is-prime por cada elemento del array</span>
<span class="tok-nb">say</span> <span class="tok-nb">now</span> - <span class="tok-k">INIT</span> <span class="tok-nb">now</span>;                          <span class="tok-c1"># Visualiza el tiempo que toma el script hasta finalizar</span></code></pre>
</div>
</div>
<div class="paragraph">
<div class="title">Consideremos el ejemplo anterior:</div>
<p>Hacemos solo una operación <code>@array.map({ is-prime $_ })</code><br>
La subrutina <code>is-prime</code> es llamada por cada elemento del array de forma secuencial:<br>
<code>is-prime @array[0]</code> después <code>is-prime @array[1]</code> después <code>is-prime @array[2]</code> etc.</p>
</div>
<div class="listingblock">
<div class="title">Afortunadamente podemos llamar a <code>is-prime</code> en múltiples elementos del array al mismo tiempo:</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">my</span> <span class="tok-nv">@array</span> = <span class="tok-mi">0</span><span class="tok-o">..</span><span class="tok-mi">50000</span>;                             <span class="tok-c1"># Creación del array</span>
<span class="tok-k">my</span> <span class="tok-nv">@resultado</span> = <span class="tok-nv">@array</span>.<span class="tok-nb">race</span>.<span class="tok-n">map</span>({ <span class="tok-nb">is-prime</span> <span class="tok-nv">$_</span> }); <span class="tok-c1"># Llama a is-prime por cada elemento del array</span>
<span class="tok-nb">say</span> <span class="tok-nb">now</span> - <span class="tok-k">INIT</span> <span class="tok-nb">now</span>;                               <span class="tok-c1"># Visualiza el tiempo que toma el script hasta finalizar</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Fíjate que la expresión utiliza <code>race</code>.
Este método permite la iteración en paralelo de los elementos del array.</p>
</div>
<div class="paragraph">
<p>Después de ejecutar ambos ejemplos (con y sin <code>race</code>), compara los tiempos consumidos de ambos scripts.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
<div class="paragraph">
<p><code>race</code> no guarda el orden de los elementos. Si quieres respetar este orden, utiliza <code>hyper</code>.</p>
</div>
<div class="listingblock">
<div class="title">race</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">my</span> <span class="tok-nv">@array</span> = <span class="tok-mi">1</span><span class="tok-o">..</span><span class="tok-mi">1000</span>;
<span class="tok-k">my</span> <span class="tok-nv">@resultado</span> = <span class="tok-nv">@array</span>.<span class="tok-nb">race</span>.<span class="tok-n">map</span>( {<span class="tok-nv">$_</span> + <span class="tok-mi">1</span>} );
.<span class="tok-nb">say</span> <span class="tok-k">for</span> <span class="tok-nv">@resultado</span>;</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">hyper</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">my</span> <span class="tok-nv">@array</span> = <span class="tok-mi">1</span><span class="tok-o">..</span><span class="tok-mi">1000</span>;
<span class="tok-k">my</span> <span class="tok-nv">@resultado</span> = <span class="tok-nv">@array</span>.<span class="tok-nb">hyper</span>.<span class="tok-n">map</span>( {<span class="tok-nv">$_</span> + <span class="tok-mi">1</span>} );
.<span class="tok-nb">say</span> <span class="tok-k">for</span> <span class="tok-nv">@resultado</span>;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Si ejecutas ambos ejemplos verás que uno muestra los resultados ordenados y el otro no.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="_paralelismo_de_tareas">14.1.2. Paralelismo de Tareas</h4>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">my</span> <span class="tok-nv">@array1</span> = <span class="tok-mi">0</span><span class="tok-o">..</span><span class="tok-mi">49999</span>;
<span class="tok-k">my</span> <span class="tok-nv">@array2</span> = <span class="tok-mi">2</span><span class="tok-o">..</span><span class="tok-mi">50001</span>;

<span class="tok-k">my</span> <span class="tok-nv">@resultado1</span> = <span class="tok-nv">@array1</span>.<span class="tok-n">map</span>( {<span class="tok-nb">is-prime</span>(<span class="tok-nv">$_</span> + <span class="tok-mi">1</span>)} );
<span class="tok-k">my</span> <span class="tok-nv">@resultado2</span> = <span class="tok-nv">@array2</span>.<span class="tok-n">map</span>( {<span class="tok-nb">is-prime</span>(<span class="tok-nv">$_</span> - <span class="tok-mi">1</span>)} );

<span class="tok-nb">say</span> <span class="tok-nv">@resultado1</span> == <span class="tok-nv">@resultado2</span>;

<span class="tok-nb">say</span> <span class="tok-nb">now</span> - <span class="tok-k">INIT</span> <span class="tok-nb">now</span>;</code></pre>
</div>
</div>
<div class="olist arabic">
<div class="title">Veamos el ejemplo anterior:</div>
<ol class="arabic">
<li>
<p>Definimos 2 arrays</p>
</li>
<li>
<p>Realizamos una operación con cada array y guardamos los resultados</p>
</li>
<li>
<p>Y comprobamos si ambos resultados son iguales</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>El script espera mientras realiza <code>@array1.map( {is-prime($_ + 1)} )</code> hasta finalizar<br>
y después realiza <code>@array2.map( {is-prime($_ - 1)} )</code></p>
</div>
<div class="paragraph">
<p>Ambas operaciones realizadas en cada array son independientes.</p>
</div>
<div class="listingblock">
<div class="title">¿Por qué no hacer las dos en paralelo?</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">my</span> <span class="tok-nv">@array1</span> = <span class="tok-mi">0</span><span class="tok-o">..</span><span class="tok-mi">49999</span>;
<span class="tok-k">my</span> <span class="tok-nv">@array2</span> = <span class="tok-mi">2</span><span class="tok-o">..</span><span class="tok-mi">50001</span>;

<span class="tok-k">my</span> <span class="tok-nv">$promesa1</span> = <span class="tok-nb">start</span> <span class="tok-nv">@array1</span>.<span class="tok-n">map</span>( {<span class="tok-nb">is-prime</span>(<span class="tok-nv">$_</span> + <span class="tok-mi">1</span>)} ).<span class="tok-nb">eager</span>;
<span class="tok-k">my</span> <span class="tok-nv">$promesa2</span> = <span class="tok-nb">start</span> <span class="tok-nv">@array2</span>.<span class="tok-n">map</span>( {<span class="tok-nb">is-prime</span>(<span class="tok-nv">$_</span> - <span class="tok-mi">1</span>)} ).<span class="tok-nb">eager</span>;

<span class="tok-k">my</span> <span class="tok-nv">@resultado1</span> = <span class="tok-nb">await</span> <span class="tok-nv">$promesa1</span>;
<span class="tok-k">my</span> <span class="tok-nv">@resultado2</span> = <span class="tok-nb">await</span> <span class="tok-nv">$promesa2</span>;

<span class="tok-nb">say</span> <span class="tok-nv">@resultado1</span> <span class="tok-o">eqv</span> <span class="tok-nv">@resultado2</span>;

<span class="tok-nb">say</span> <span class="tok-nb">now</span> - <span class="tok-k">INIT</span> <span class="tok-nb">now</span>;</code></pre>
</div>
</div>
<div class="paragraph">
<div class="title">Explicación</div>
<p>La subrutina <code>start</code> evalúa el código y devuelve <strong>un objeto de tipo promesa</strong> o <strong>una promesa</strong> (promise).<br>
Si el código se evalúa correctamente, la <em>promesa</em> se <strong>cumple</strong> (kept).<br>
Si el código lanza una excepción, la <em>promesa</em> se <strong>rompe</strong> (broken).</p>
</div>
<div class="paragraph">
<p>La subrutina <code>await</code> espera a una <strong>promesa</strong>.<br>
Si esta se <strong>cumple</strong> devuelve los valores.<br>
Si esta se <strong>rompe</strong> devuelve la excepción.</p>
</div>
<div class="paragraph">
<p>Comprueba lo que tarda cada script en completarse.</p>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
El paralelismo siempre añade una sobrecarga multihilo. Si esta sobrecarga no se compensa aumentando la velocidad de cómputo, el script tardará más en completarse.<br>
Debido a esto, el uso de <code>race</code>, <code>hyper</code>, <code>start</code> y <code>await</code> en scripts muy simples podría ralentizarlos.
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_concurrencia_y_asincronía">14.2. Concurrencia y Asincronía</h3>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
En <a href="https://docs.raku.org/language/concurrency" class="bare">https://docs.raku.org/language/concurrency</a> tienes más información sobre Concurrencia y Programación Asíncrona.
</td>
</tr>
</table>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_interfaz_de_llamadas_nativas">15. Interfaz de Llamadas Nativas</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Raku nos permite utilizar librerías de C mediante la Interfaz de Llamadas Nativas (NativeCall).</p>
</div>
<div class="paragraph">
<p><code>NativeCall</code> es un módulo estandar que viene incluido con Raku y ofrece un conjunto de funcionalidades para facilitar el trabajo con la interfaz entre Raku y C.</p>
</div>
<div class="sect2">
<h3 id="_llamada_a_una_función">15.1. Llamada a una función</h3>
<div class="paragraph">
<p>Consideremos un programa en C con una función llamada <code>holadesdec</code>.
Esta función visualiza <code>Hola desde C</code> en el terminal. No acepta argumentos ni devuelve ningún valor.</p>
</div>
<div class="listingblock">
<div class="title">ncitest.c</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="c"><span></span><span class="tok-cp">#include</span><span class="tok-w"> </span><span class="tok-cpf">&lt;stdio.h&gt;</span>

<span class="tok-kt">void</span><span class="tok-w"> </span><span class="tok-nf">holadesdec</span><span class="tok-w"> </span><span class="tok-p">()</span><span class="tok-w"> </span><span class="tok-p">{</span>
<span class="tok-w">  </span><span class="tok-n">printf</span><span class="tok-p">(</span><span class="tok-s">&quot;Hola desde C</span><span class="tok-se">\n</span><span class="tok-s">&quot;</span><span class="tok-p">);</span>
<span class="tok-p">}</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Dependiendo de tu sistema operativo, compila el código de C anterior en una librería de C.</p>
</div>
<div class="listingblock">
<div class="title">En Linux:</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-n">gcc</span> -<span class="tok-n">c</span> -<span class="tok-n">fpic</span> <span class="tok-n">ncitest</span>.<span class="tok-n">c</span>
<span class="tok-n">gcc</span> -<span class="tok-n">shared</span> -<span class="tok-n">o</span> <span class="tok-n">libncitest</span>.<span class="tok-nb">so</span> <span class="tok-n">ncitest</span>.<span class="tok-n">o</span></code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">En Windows:</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-n">gcc</span> -<span class="tok-n">c</span> <span class="tok-n">ncitest</span>.<span class="tok-n">c</span>
<span class="tok-n">gcc</span> -<span class="tok-n">shared</span> -<span class="tok-n">o</span> <span class="tok-n">ncitest</span>.<span class="tok-n">dll</span> <span class="tok-n">ncitest</span>.<span class="tok-n">o</span></code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">En MacOS:</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-n">gcc</span> -<span class="tok-n">dynamiclib</span> -<span class="tok-n">o</span> <span class="tok-n">libncitest</span>.<span class="tok-n">dylib</span> <span class="tok-n">ncitest</span>.<span class="tok-n">c</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>En la misma carpeta donde has compilado la librería en C, crea un nuevo archivo de Raku que contenga el siguiente código y ejecútalo.</p>
</div>
<div class="listingblock">
<div class="title">ncitest.raku</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">use</span> <span class="tok-n">NativeCall</span>;

<span class="tok-k">constant</span> <span class="tok-n">LIBPATH</span> = <span class="tok-s">&quot;$*CWD/ncitest&quot;</span>;
<span class="tok-k">sub</span> <span class="tok-n">holadesdec</span>() <span class="tok-k">is</span> <span class="tok-k">native</span>(<span class="tok-n">LIBPATH</span>) { * }

<span class="tok-n">holadesdec</span>();</code></pre>
</div>
</div>
<div class="paragraph">
<div class="title">Explicación:</div>
<p>Lo primero es declarar que vamos a utilizar el módulo <code>NativeCall</code>.<br>
Después creamos la constante LIBPATH que contiene la ruta de la librería de C.<br>
Como puedes ver, <code>$*CWD</code> contiene la ruta de la carpeta actual.<br>
Después creamos una subrutina de Raku denominada <code>holadesdec()</code> que se corresponde y tiene el mismo nombre que la función que reside en la librería de C, la cual se encuentra en <code>LIBPATH</code>.<br>
Todo esto se hace utilizando <code>is native</code>.<br>
Por último realizamos la llamada a la subrutina de Raku.</p>
</div>
<div class="paragraph">
<p>En esencia, todo se reduce a declarar una subrutina con <code>is native</code> y el nombre de la biblioteca de C.</p>
</div>
</div>
<div class="sect2">
<h3 id="_cambiando_el_nombre_a_una_función">15.2. Cambiando el nombre a una función</h3>
<div class="paragraph">
<p>Hemos visto cómo realizar una llamada a una función simple de C mediante una subrutina de Raku con el mismo nombre y utilizando <code>is native</code>.</p>
</div>
<div class="paragraph">
<p>Es posible que en algunos casos necesitemos que el nombre de la función de Raku sea distinto al de la función en C.<br>
Para hacerlo utilizamos <code>is symbol</code>.</p>
</div>
<div class="paragraph">
<p>Vamos a modificar el script de Raku que hemos visto de forma que la función de Raku se llame <code>hola</code> en lugar de <code>holadesdec</code>.</p>
</div>
<div class="listingblock">
<div class="title">ncitest.raku</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">use</span> <span class="tok-n">NativeCall</span>;

<span class="tok-k">constant</span> <span class="tok-n">LIBPATH</span> = <span class="tok-s">&quot;$*CWD/ncitest&quot;</span>;
<span class="tok-k">sub</span> <span class="tok-n">hola</span>() <span class="tok-k">is</span> <span class="tok-k">native</span>(<span class="tok-n">LIBPATH</span>) <span class="tok-k">is</span> <span class="tok-k">symbol</span>(<span class="tok-s">&#39;holadesdec&#39;</span>) { * }

<span class="tok-n">hola</span>();</code></pre>
</div>
</div>
<div class="paragraph">
<div class="title">Explicación:</div>
<p>En caso de que la subrutina de Raku tenga un nombre distinto al de la función de C correspondiente, utilizamos <code>is symbol</code> con el nombre de la función de C original.</p>
</div>
</div>
<div class="sect2">
<h3 id="_pasando_argumentos">15.3. Pasando Argumentos</h3>
<div class="paragraph">
<p>Vamos a modificar y compilar la librería de C y el script de Raku de forma que acepten, en C un argumento de tipo <code>char*</code> y el mismo argumento en Raku pero de tipo <code>Str</code>.</p>
</div>
<div class="listingblock">
<div class="title">ncitest.c</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="c"><span></span><span class="tok-cp">#include</span><span class="tok-w"> </span><span class="tok-cpf">&lt;stdio.h&gt;</span>

<span class="tok-kt">void</span><span class="tok-w"> </span><span class="tok-nf">holadesdec</span><span class="tok-w"> </span><span class="tok-p">(</span><span class="tok-kt">char</span><span class="tok-o">*</span><span class="tok-w"> </span><span class="tok-n">nombre</span><span class="tok-p">)</span><span class="tok-w"> </span><span class="tok-p">{</span>
<span class="tok-w">  </span><span class="tok-n">printf</span><span class="tok-p">(</span><span class="tok-s">&quot;¡Hola, %s! ¡Esto es C!</span><span class="tok-se">\n</span><span class="tok-s">&quot;</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-n">nombre</span><span class="tok-p">);</span>
<span class="tok-p">}</span></code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">ncitest.raku</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">use</span> <span class="tok-n">NativeCall</span>;

<span class="tok-k">constant</span> <span class="tok-n">LIBPATH</span> = <span class="tok-s">&quot;$*CWD/ncitest&quot;</span>;
<span class="tok-k">sub</span> <span class="tok-n">hola</span>(<span class="tok-nb">Str</span>) <span class="tok-k">is</span> <span class="tok-k">native</span>(<span class="tok-n">LIBPATH</span>) <span class="tok-k">is</span> <span class="tok-k">symbol</span>(<span class="tok-s">&#39;holadesdec&#39;</span>) { * }

<span class="tok-n">hola</span>(<span class="tok-s">&#39;Juana&#39;</span>);</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_valores_de_retorno_2">15.4. Valores de retorno</h3>
<div class="paragraph">
<p>Vamos a repetir el proceso una vez más para crear una calculadora simple que toma dos enteros, los suma, devuelve el resultado y lo visualiza.<br>
Compilamos la librería de C y ejecutamos el script de Raku.</p>
</div>
<div class="listingblock">
<div class="title">ncitest.c</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="c"><span></span><span class="tok-kt">int</span><span class="tok-w"> </span><span class="tok-nf">suma</span><span class="tok-w"> </span><span class="tok-p">(</span><span class="tok-kt">int</span><span class="tok-w"> </span><span class="tok-n">a</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-kt">int</span><span class="tok-w"> </span><span class="tok-n">b</span><span class="tok-p">)</span><span class="tok-w"> </span><span class="tok-p">{</span>
<span class="tok-w">  </span><span class="tok-k">return</span><span class="tok-w"> </span><span class="tok-p">(</span><span class="tok-n">a</span><span class="tok-w"> </span><span class="tok-o">+</span><span class="tok-w"> </span><span class="tok-n">b</span><span class="tok-p">);</span>
<span class="tok-p">}</span></code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">ncitest.raku</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="perl6"><span></span><span class="tok-k">use</span> <span class="tok-n">NativeCall</span>;

<span class="tok-k">constant</span> <span class="tok-n">LIBPATH</span> = <span class="tok-s">&quot;$*CWD/ncitest&quot;</span>;
<span class="tok-k">sub</span> <span class="tok-n">suma</span>(<span class="tok-nb">int32</span>,<span class="tok-nb">int32</span> --&gt; <span class="tok-nb">int32</span>) <span class="tok-k">is</span> <span class="tok-k">native</span>(<span class="tok-n">LIBPATH</span>) { * }

<span class="tok-nb">say</span> <span class="tok-n">suma</span>(<span class="tok-mi">2</span>,<span class="tok-mi">3</span>);</code></pre>
</div>
</div>
<div class="paragraph">
<p>Como puedes ver, ambas funciones aceptan dos enteros y devuelven uno (<code>int</code> en C y <code>int32</code> en Raku).</p>
</div>
</div>
<div class="sect2">
<h3 id="_tipos_2">15.5. Tipos</h3>
<div class="paragraph">
<p>Te preguntarás por qué en el script de Raku utilizamos <code>int32</code> en lugar de <code>int</code>.<br>
En Raku no pueden utilizarse algunos tipos como <code>Int</code>, <code>Rat</code>, etc. para pasarlos y recibirlos como valores de una función de C.<br>
En Raku hay que utilizar los mismos tipos que en C.</p>
</div>
<div class="paragraph">
<p>Por fortuna, Raku proporciona muchos tipos que se corresponden con los de C.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-middle">Tipo de C</th>
<th class="tableblock halign-center valign-middle">Tipo de Raku</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>char</code></p></td>
<td class="tableblock halign-center valign-middle" rowspan="2"><p class="tableblock"><code>int8</code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>int8_t</code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>short</code></p></td>
<td class="tableblock halign-center valign-middle" rowspan="2"><p class="tableblock"><code>int16</code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>int16_t</code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>int</code></p></td>
<td class="tableblock halign-center valign-middle" rowspan="2"><p class="tableblock"><code>int32</code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>int32_t</code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>int64_t</code></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>int64</code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>unsigned char</code></p></td>
<td class="tableblock halign-center valign-middle" rowspan="2"><p class="tableblock"><code>uint8</code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>uint8_t</code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>unsigned short</code></p></td>
<td class="tableblock halign-center valign-middle" rowspan="2"><p class="tableblock"><code>uint16</code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>uint16_t</code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>unsigned int</code></p></td>
<td class="tableblock halign-center valign-middle" rowspan="2"><p class="tableblock"><code>uint32</code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>uint32_t</code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>uint64_t</code></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>uint64</code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>long</code></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>long</code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>long long</code></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>longlong</code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>float</code></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>num32</code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>double</code></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>num64</code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>size_t</code></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>size_t</code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>bool</code></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>bool</code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>char*</code> (String)</p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>Str</code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock">Arrays: Por ejemplo <code>int*</code> (Array de int) y <code>double*</code> (Array de double)</p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>CArray</code>: Por ejemplo <code>CArray[int32]</code> y <code>CArray[num64]</code></p></td>
</tr>
</tbody>
</table>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
En <a href="https://docs.raku.org/language/nativecall" class="bare">https://docs.raku.org/language/nativecall</a> tienes más información sobre la Interfaz de Llamadas Nativas.
</td>
</tr>
</table>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_la_comunidad">16. La Comunidad</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p>En el canal de IRC <a href="https://web.libera.chat/#raku">#raku</a> se concentra la mayor parte del debate sobre Raku. En: <a href="https://perl6.org/community/irc" class="bare">https://perl6.org/community/irc</a> puedes indicar cualquier duda.</p>
</li>
<li>
<p>Si tienes alguna consulta y necesitas respuestas en profundidad indícalas en <a href="https://stackoverflow.com/questions/tagged/raku">StackOverflow Raku questions</a>.</p>
</li>
<li>
<p>Echa un vistazo semanal de las novedades de Raku en <a href="https://rakudoweekly.blog">Rakudo Weekly</a>.</p>
</li>
<li>
<p>Mantente al día con los blogs que tratan de Raku en <a href="http://pl6anet.org">pl6anet</a>.</p>
</li>
<li>
<p>Suscríbete en el apartado de Raku de Reddit en <a href="https://www.reddit.com/r/rakulang/">/r/rakulang</a>.</p>
</li>
<li>
<p>Sigue a la comunidad en Twitter: <a href="https://twitter.com/perl6org">@perl6org</a>.</p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div id="footnotes">
<hr>
<div class="footnote" id="_footnotedef_1">
<a href="#_footnoteref_1">1</a>. Notación de intervalos: <a href="https://es.wikipedia.org/wiki/Intervalo_(matemática)#Notación" class="bare">https://es.wikipedia.org/wiki/Intervalo_(matemática)#Notación</a>
</div>
</div>
<div id="footer">
<div id="footer-text">
Last updated 2024-05-15 01:16:02 +0300
</div>
</div>
</body>
</html>