<!DOCTYPE html>
<html lang="pt">
<head>
<!-- Matomo -->
<script>
  var _paq = window._paq = window._paq || [];
  /* tracker methods like "setCustomDimension" should be called before "trackPageView" */
  _paq.push(['trackPageView']);
  _paq.push(['enableLinkTracking']);
  (function() {
    var u="//hankache.com/matomo/";
    _paq.push(['setTrackerUrl', u+'matomo.php']);
    _paq.push(['setSiteId', '2']);
    var d=document, g=d.createElement('script'), s=d.getElementsByTagName('script')[0];
    g.async=true; g.src=u+'matomo.js'; s.parentNode.insertBefore(g,s);
  })();
</script>
<!-- End Matomo Code -->

<link rel="shortcut icon" type="image/x-icon" href="../favicon.ico">

<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 2.0.20">
<meta name="description" content="Uma introdução geral ao Raku">
<meta name="keywords" content="raku, introdução, rakuguide, introdução ao raku, tutorial raku, raku intro">
<meta name="author" content="Naoum Hankache, Breno de Oliveira, Humberto Massa">
<title>Introdução ao Raku</title>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700">
<style>
/*! Asciidoctor default stylesheet | MIT License | https://asciidoctor.org */
/* Uncomment the following line when using as a custom stylesheet */
/* @import "https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700"; */
html{font-family:sans-serif;-webkit-text-size-adjust:100%}
a{background:none}
a:focus{outline:thin dotted}
a:active,a:hover{outline:0}
h1{font-size:2em;margin:.67em 0}
b,strong{font-weight:bold}
abbr{font-size:.9em}
abbr[title]{cursor:help;border-bottom:1px dotted #dddddf;text-decoration:none}
dfn{font-style:italic}
hr{height:0}
mark{background:#ff0;color:#000}
code,kbd,pre,samp{font-family:monospace;font-size:1em}
pre{white-space:pre-wrap}
q{quotes:"\201C" "\201D" "\2018" "\2019"}
small{font-size:80%}
sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}
sup{top:-.5em}
sub{bottom:-.25em}
img{border:0}
svg:not(:root){overflow:hidden}
figure{margin:0}
audio,video{display:inline-block}
audio:not([controls]){display:none;height:0}
fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}
legend{border:0;padding:0}
button,input,select,textarea{font-family:inherit;font-size:100%;margin:0}
button,input{line-height:normal}
button,select{text-transform:none}
button,html input[type=button],input[type=reset],input[type=submit]{-webkit-appearance:button;cursor:pointer}
button[disabled],html input[disabled]{cursor:default}
input[type=checkbox],input[type=radio]{padding:0}
button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}
textarea{overflow:auto;vertical-align:top}
table{border-collapse:collapse;border-spacing:0}
*,::before,::after{box-sizing:border-box}
html,body{font-size:100%}
body{background:#fff;color:rgba(0,0,0,.8);padding:0;margin:0;font-family:"Noto Serif","DejaVu Serif",serif;line-height:1;position:relative;cursor:auto;-moz-tab-size:4;-o-tab-size:4;tab-size:4;word-wrap:anywhere;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased}
a:hover{cursor:pointer}
img,object,embed{max-width:100%;height:auto}
object,embed{height:100%}
img{-ms-interpolation-mode:bicubic}
.left{float:left!important}
.right{float:right!important}
.text-left{text-align:left!important}
.text-right{text-align:right!important}
.text-center{text-align:center!important}
.text-justify{text-align:justify!important}
.hide{display:none}
img,object,svg{display:inline-block;vertical-align:middle}
textarea{height:auto;min-height:50px}
select{width:100%}
.subheader,.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{line-height:1.45;color:#7a2518;font-weight:400;margin-top:0;margin-bottom:.25em}
div,dl,dt,dd,ul,ol,li,h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6,pre,form,p,blockquote,th,td{margin:0;padding:0}
a{color:#2156a5;text-decoration:underline;line-height:inherit}
a:hover,a:focus{color:#1d4b8f}
a img{border:0}
p{line-height:1.6;margin-bottom:1.25em;text-rendering:optimizeLegibility}
p aside{font-size:.875em;line-height:1.35;font-style:italic}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{font-family:"Open Sans","DejaVu Sans",sans-serif;font-weight:300;font-style:normal;color:#ba3925;text-rendering:optimizeLegibility;margin-top:1em;margin-bottom:.5em;line-height:1.0125em}
h1 small,h2 small,h3 small,#toctitle small,.sidebarblock>.content>.title small,h4 small,h5 small,h6 small{font-size:60%;color:#e99b8f;line-height:0}
h1{font-size:2.125em}
h2{font-size:1.6875em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.375em}
h4,h5{font-size:1.125em}
h6{font-size:1em}
hr{border:solid #dddddf;border-width:1px 0 0;clear:both;margin:1.25em 0 1.1875em}
em,i{font-style:italic;line-height:inherit}
strong,b{font-weight:bold;line-height:inherit}
small{font-size:60%;line-height:inherit}
code{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;color:rgba(0,0,0,.9)}
ul,ol,dl{line-height:1.6;margin-bottom:1.25em;list-style-position:outside;font-family:inherit}
ul,ol{margin-left:1.5em}
ul li ul,ul li ol{margin-left:1.25em;margin-bottom:0}
ul.circle{list-style-type:circle}
ul.disc{list-style-type:disc}
ul.square{list-style-type:square}
ul.circle ul:not([class]),ul.disc ul:not([class]),ul.square ul:not([class]){list-style:inherit}
ol li ul,ol li ol{margin-left:1.25em;margin-bottom:0}
dl dt{margin-bottom:.3125em;font-weight:bold}
dl dd{margin-bottom:1.25em}
blockquote{margin:0 0 1.25em;padding:.5625em 1.25em 0 1.1875em;border-left:1px solid #ddd}
blockquote,blockquote p{line-height:1.6;color:rgba(0,0,0,.85)}
@media screen and (min-width:768px){h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2}
h1{font-size:2.75em}
h2{font-size:2.3125em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.6875em}
h4{font-size:1.4375em}}
table{background:#fff;margin-bottom:1.25em;border:1px solid #dedede;word-wrap:normal}
table thead,table tfoot{background:#f7f8f7}
table thead tr th,table thead tr td,table tfoot tr th,table tfoot tr td{padding:.5em .625em .625em;font-size:inherit;color:rgba(0,0,0,.8);text-align:left}
table tr th,table tr td{padding:.5625em .625em;font-size:inherit;color:rgba(0,0,0,.8)}
table tr.even,table tr.alt{background:#f8f8f7}
table thead tr th,table tfoot tr th,table tbody tr td,table tr td,table tfoot tr td{line-height:1.6}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2;word-spacing:-.05em}
h1 strong,h2 strong,h3 strong,#toctitle strong,.sidebarblock>.content>.title strong,h4 strong,h5 strong,h6 strong{font-weight:400}
.center{margin-left:auto;margin-right:auto}
.stretch{width:100%}
.clearfix::before,.clearfix::after,.float-group::before,.float-group::after{content:" ";display:table}
.clearfix::after,.float-group::after{clear:both}
:not(pre).nobreak{word-wrap:normal}
:not(pre).nowrap{white-space:nowrap}
:not(pre).pre-wrap{white-space:pre-wrap}
:not(pre):not([class^=L])>code{font-size:.9375em;font-style:normal!important;letter-spacing:0;padding:.1em .5ex;word-spacing:-.15em;background:#f7f7f8;border-radius:4px;line-height:1.45;text-rendering:optimizeSpeed}
pre{color:rgba(0,0,0,.9);font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;line-height:1.45;text-rendering:optimizeSpeed}
pre code,pre pre{color:inherit;font-size:inherit;line-height:inherit}
pre>code{display:block}
pre.nowrap,pre.nowrap pre{white-space:pre;word-wrap:normal}
em em{font-style:normal}
strong strong{font-weight:400}
.keyseq{color:rgba(51,51,51,.8)}
kbd{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;display:inline-block;color:rgba(0,0,0,.8);font-size:.65em;line-height:1.45;background:#f7f7f7;border:1px solid #ccc;border-radius:3px;box-shadow:0 1px 0 rgba(0,0,0,.2),inset 0 0 0 .1em #fff;margin:0 .15em;padding:.2em .5em;vertical-align:middle;position:relative;top:-.1em;white-space:nowrap}
.keyseq kbd:first-child{margin-left:0}
.keyseq kbd:last-child{margin-right:0}
.menuseq,.menuref{color:#000}
.menuseq b:not(.caret),.menuref{font-weight:inherit}
.menuseq{word-spacing:-.02em}
.menuseq b.caret{font-size:1.25em;line-height:.8}
.menuseq i.caret{font-weight:bold;text-align:center;width:.45em}
b.button::before,b.button::after{position:relative;top:-1px;font-weight:400}
b.button::before{content:"[";padding:0 3px 0 2px}
b.button::after{content:"]";padding:0 2px 0 3px}
p a>code:hover{color:rgba(0,0,0,.9)}
#header,#content,#footnotes,#footer{width:100%;margin:0 auto;max-width:62.5em;*zoom:1;position:relative;padding-left:.9375em;padding-right:.9375em}
#header::before,#header::after,#content::before,#content::after,#footnotes::before,#footnotes::after,#footer::before,#footer::after{content:" ";display:table}
#header::after,#content::after,#footnotes::after,#footer::after{clear:both}
#content{margin-top:1.25em}
#content::before{content:none}
#header>h1:first-child{color:rgba(0,0,0,.85);margin-top:2.25rem;margin-bottom:0}
#header>h1:first-child+#toc{margin-top:8px;border-top:1px solid #dddddf}
#header>h1:only-child,body.toc2 #header>h1:nth-last-child(2){border-bottom:1px solid #dddddf;padding-bottom:8px}
#header .details{border-bottom:1px solid #dddddf;line-height:1.45;padding-top:.25em;padding-bottom:.25em;padding-left:.25em;color:rgba(0,0,0,.6);display:flex;flex-flow:row wrap}
#header .details span:first-child{margin-left:-.125em}
#header .details span.email a{color:rgba(0,0,0,.85)}
#header .details br{display:none}
#header .details br+span::before{content:"\00a0\2013\00a0"}
#header .details br+span.author::before{content:"\00a0\22c5\00a0";color:rgba(0,0,0,.85)}
#header .details br+span#revremark::before{content:"\00a0|\00a0"}
#header #revnumber{text-transform:capitalize}
#header #revnumber::after{content:"\00a0"}
#content>h1:first-child:not([class]){color:rgba(0,0,0,.85);border-bottom:1px solid #dddddf;padding-bottom:8px;margin-top:0;padding-top:1rem;margin-bottom:1.25rem}
#toc{border-bottom:1px solid #e7e7e9;padding-bottom:.5em}
#toc>ul{margin-left:.125em}
#toc ul.sectlevel0>li>a{font-style:italic}
#toc ul.sectlevel0 ul.sectlevel1{margin:.5em 0}
#toc ul{font-family:"Open Sans","DejaVu Sans",sans-serif;list-style-type:none}
#toc li{line-height:1.3334;margin-top:.3334em}
#toc a{text-decoration:none}
#toc a:active{text-decoration:underline}
#toctitle{color:#7a2518;font-size:1.2em}
@media screen and (min-width:768px){#toctitle{font-size:1.375em}
body.toc2{padding-left:15em;padding-right:0}
#toc.toc2{margin-top:0!important;background:#f8f8f7;position:fixed;width:15em;left:0;top:0;border-right:1px solid #e7e7e9;border-top-width:0!important;border-bottom-width:0!important;z-index:1000;padding:1.25em 1em;height:100%;overflow:auto}
#toc.toc2 #toctitle{margin-top:0;margin-bottom:.8rem;font-size:1.2em}
#toc.toc2>ul{font-size:.9em;margin-bottom:0}
#toc.toc2 ul ul{margin-left:0;padding-left:1em}
#toc.toc2 ul.sectlevel0 ul.sectlevel1{padding-left:0;margin-top:.5em;margin-bottom:.5em}
body.toc2.toc-right{padding-left:0;padding-right:15em}
body.toc2.toc-right #toc.toc2{border-right-width:0;border-left:1px solid #e7e7e9;left:auto;right:0}}
@media screen and (min-width:1280px){body.toc2{padding-left:20em;padding-right:0}
#toc.toc2{width:20em}
#toc.toc2 #toctitle{font-size:1.375em}
#toc.toc2>ul{font-size:.95em}
#toc.toc2 ul ul{padding-left:1.25em}
body.toc2.toc-right{padding-left:0;padding-right:20em}}
#content #toc{border:1px solid #e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;border-radius:4px}
#content #toc>:first-child{margin-top:0}
#content #toc>:last-child{margin-bottom:0}
#footer{max-width:none;background:rgba(0,0,0,.8);padding:1.25em}
#footer-text{color:hsla(0,0%,100%,.8);line-height:1.44}
#content{margin-bottom:.625em}
.sect1{padding-bottom:.625em}
@media screen and (min-width:768px){#content{margin-bottom:1.25em}
.sect1{padding-bottom:1.25em}}
.sect1:last-child{padding-bottom:0}
.sect1+.sect1{border-top:1px solid #e7e7e9}
#content h1>a.anchor,h2>a.anchor,h3>a.anchor,#toctitle>a.anchor,.sidebarblock>.content>.title>a.anchor,h4>a.anchor,h5>a.anchor,h6>a.anchor{position:absolute;z-index:1001;width:1.5ex;margin-left:-1.5ex;display:block;text-decoration:none!important;visibility:hidden;text-align:center;font-weight:400}
#content h1>a.anchor::before,h2>a.anchor::before,h3>a.anchor::before,#toctitle>a.anchor::before,.sidebarblock>.content>.title>a.anchor::before,h4>a.anchor::before,h5>a.anchor::before,h6>a.anchor::before{content:"\00A7";font-size:.85em;display:block;padding-top:.1em}
#content h1:hover>a.anchor,#content h1>a.anchor:hover,h2:hover>a.anchor,h2>a.anchor:hover,h3:hover>a.anchor,#toctitle:hover>a.anchor,.sidebarblock>.content>.title:hover>a.anchor,h3>a.anchor:hover,#toctitle>a.anchor:hover,.sidebarblock>.content>.title>a.anchor:hover,h4:hover>a.anchor,h4>a.anchor:hover,h5:hover>a.anchor,h5>a.anchor:hover,h6:hover>a.anchor,h6>a.anchor:hover{visibility:visible}
#content h1>a.link,h2>a.link,h3>a.link,#toctitle>a.link,.sidebarblock>.content>.title>a.link,h4>a.link,h5>a.link,h6>a.link{color:#ba3925;text-decoration:none}
#content h1>a.link:hover,h2>a.link:hover,h3>a.link:hover,#toctitle>a.link:hover,.sidebarblock>.content>.title>a.link:hover,h4>a.link:hover,h5>a.link:hover,h6>a.link:hover{color:#a53221}
details,.audioblock,.imageblock,.literalblock,.listingblock,.stemblock,.videoblock{margin-bottom:1.25em}
details{margin-left:1.25rem}
details>summary{cursor:pointer;display:block;position:relative;line-height:1.6;margin-bottom:.625rem;outline:none;-webkit-tap-highlight-color:transparent}
details>summary::-webkit-details-marker{display:none}
details>summary::before{content:"";border:solid transparent;border-left:solid;border-width:.3em 0 .3em .5em;position:absolute;top:.5em;left:-1.25rem;transform:translateX(15%)}
details[open]>summary::before{border:solid transparent;border-top:solid;border-width:.5em .3em 0;transform:translateY(15%)}
details>summary::after{content:"";width:1.25rem;height:1em;position:absolute;top:.3em;left:-1.25rem}
.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{text-rendering:optimizeLegibility;text-align:left;font-family:"Noto Serif","DejaVu Serif",serif;font-size:1rem;font-style:italic}
table.tableblock.fit-content>caption.title{white-space:nowrap;width:0}
.paragraph.lead>p,#preamble>.sectionbody>[class=paragraph]:first-of-type p{font-size:1.21875em;line-height:1.6;color:rgba(0,0,0,.85)}
.admonitionblock>table{border-collapse:separate;border:0;background:none;width:100%}
.admonitionblock>table td.icon{text-align:center;width:80px}
.admonitionblock>table td.icon img{max-width:none}
.admonitionblock>table td.icon .title{font-weight:bold;font-family:"Open Sans","DejaVu Sans",sans-serif;text-transform:uppercase}
.admonitionblock>table td.content{padding-left:1.125em;padding-right:1.25em;border-left:1px solid #dddddf;color:rgba(0,0,0,.6);word-wrap:anywhere}
.admonitionblock>table td.content>:last-child>:last-child{margin-bottom:0}
.exampleblock>.content{border:1px solid #e6e6e6;margin-bottom:1.25em;padding:1.25em;background:#fff;border-radius:4px}
.sidebarblock{border:1px solid #dbdbd6;margin-bottom:1.25em;padding:1.25em;background:#f3f3f2;border-radius:4px}
.sidebarblock>.content>.title{color:#7a2518;margin-top:0;text-align:center}
.exampleblock>.content>:first-child,.sidebarblock>.content>:first-child{margin-top:0}
.exampleblock>.content>:last-child,.exampleblock>.content>:last-child>:last-child,.exampleblock>.content .olist>ol>li:last-child>:last-child,.exampleblock>.content .ulist>ul>li:last-child>:last-child,.exampleblock>.content .qlist>ol>li:last-child>:last-child,.sidebarblock>.content>:last-child,.sidebarblock>.content>:last-child>:last-child,.sidebarblock>.content .olist>ol>li:last-child>:last-child,.sidebarblock>.content .ulist>ul>li:last-child>:last-child,.sidebarblock>.content .qlist>ol>li:last-child>:last-child{margin-bottom:0}
.literalblock pre,.listingblock>.content>pre{border-radius:4px;overflow-x:auto;padding:1em;font-size:.8125em}
@media screen and (min-width:768px){.literalblock pre,.listingblock>.content>pre{font-size:.90625em}}
@media screen and (min-width:1280px){.literalblock pre,.listingblock>.content>pre{font-size:1em}}
.literalblock pre,.listingblock>.content>pre:not(.highlight),.listingblock>.content>pre[class=highlight],.listingblock>.content>pre[class^="highlight "]{background:#f7f7f8}
.literalblock.output pre{color:#f7f7f8;background:rgba(0,0,0,.9)}
.listingblock>.content{position:relative}
.listingblock code[data-lang]::before{display:none;content:attr(data-lang);position:absolute;font-size:.75em;top:.425rem;right:.5rem;line-height:1;text-transform:uppercase;color:inherit;opacity:.5}
.listingblock:hover code[data-lang]::before{display:block}
.listingblock.terminal pre .command::before{content:attr(data-prompt);padding-right:.5em;color:inherit;opacity:.5}
.listingblock.terminal pre .command:not([data-prompt])::before{content:"$"}
.listingblock pre.highlightjs{padding:0}
.listingblock pre.highlightjs>code{padding:1em;border-radius:4px}
.listingblock pre.prettyprint{border-width:0}
.prettyprint{background:#f7f7f8}
pre.prettyprint .linenums{line-height:1.45;margin-left:2em}
pre.prettyprint li{background:none;list-style-type:inherit;padding-left:0}
pre.prettyprint li code[data-lang]::before{opacity:1}
pre.prettyprint li:not(:first-child) code[data-lang]::before{display:none}
table.linenotable{border-collapse:separate;border:0;margin-bottom:0;background:none}
table.linenotable td[class]{color:inherit;vertical-align:top;padding:0;line-height:inherit;white-space:normal}
table.linenotable td.code{padding-left:.75em}
table.linenotable td.linenos,pre.pygments .linenos{border-right:1px solid;opacity:.35;padding-right:.5em;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}
pre.pygments span.linenos{display:inline-block;margin-right:.75em}
.quoteblock{margin:0 1em 1.25em 1.5em;display:table}
.quoteblock:not(.excerpt)>.title{margin-left:-1.5em;margin-bottom:.75em}
.quoteblock blockquote,.quoteblock p{color:rgba(0,0,0,.85);font-size:1.15rem;line-height:1.75;word-spacing:.1em;letter-spacing:0;font-style:italic;text-align:justify}
.quoteblock blockquote{margin:0;padding:0;border:0}
.quoteblock blockquote::before{content:"\201c";float:left;font-size:2.75em;font-weight:bold;line-height:.6em;margin-left:-.6em;color:#7a2518;text-shadow:0 1px 2px rgba(0,0,0,.1)}
.quoteblock blockquote>.paragraph:last-child p{margin-bottom:0}
.quoteblock .attribution{margin-top:.75em;margin-right:.5ex;text-align:right}
.verseblock{margin:0 1em 1.25em}
.verseblock pre{font-family:"Open Sans","DejaVu Sans",sans-serif;font-size:1.15rem;color:rgba(0,0,0,.85);font-weight:300;text-rendering:optimizeLegibility}
.verseblock pre strong{font-weight:400}
.verseblock .attribution{margin-top:1.25rem;margin-left:.5ex}
.quoteblock .attribution,.verseblock .attribution{font-size:.9375em;line-height:1.45;font-style:italic}
.quoteblock .attribution br,.verseblock .attribution br{display:none}
.quoteblock .attribution cite,.verseblock .attribution cite{display:block;letter-spacing:-.025em;color:rgba(0,0,0,.6)}
.quoteblock.abstract blockquote::before,.quoteblock.excerpt blockquote::before,.quoteblock .quoteblock blockquote::before{display:none}
.quoteblock.abstract blockquote,.quoteblock.abstract p,.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{line-height:1.6;word-spacing:0}
.quoteblock.abstract{margin:0 1em 1.25em;display:block}
.quoteblock.abstract>.title{margin:0 0 .375em;font-size:1.15em;text-align:center}
.quoteblock.excerpt>blockquote,.quoteblock .quoteblock{padding:0 0 .25em 1em;border-left:.25em solid #dddddf}
.quoteblock.excerpt,.quoteblock .quoteblock{margin-left:0}
.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{color:inherit;font-size:1.0625rem}
.quoteblock.excerpt .attribution,.quoteblock .quoteblock .attribution{color:inherit;font-size:.85rem;text-align:left;margin-right:0}
p.tableblock:last-child{margin-bottom:0}
td.tableblock>.content{margin-bottom:1.25em;word-wrap:anywhere}
td.tableblock>.content>:last-child{margin-bottom:-1.25em}
table.tableblock,th.tableblock,td.tableblock{border:0 solid #dedede}
table.grid-all>*>tr>*{border-width:1px}
table.grid-cols>*>tr>*{border-width:0 1px}
table.grid-rows>*>tr>*{border-width:1px 0}
table.frame-all{border-width:1px}
table.frame-ends{border-width:1px 0}
table.frame-sides{border-width:0 1px}
table.frame-none>colgroup+*>:first-child>*,table.frame-sides>colgroup+*>:first-child>*{border-top-width:0}
table.frame-none>:last-child>:last-child>*,table.frame-sides>:last-child>:last-child>*{border-bottom-width:0}
table.frame-none>*>tr>:first-child,table.frame-ends>*>tr>:first-child{border-left-width:0}
table.frame-none>*>tr>:last-child,table.frame-ends>*>tr>:last-child{border-right-width:0}
table.stripes-all>*>tr,table.stripes-odd>*>tr:nth-of-type(odd),table.stripes-even>*>tr:nth-of-type(even),table.stripes-hover>*>tr:hover{background:#f8f8f7}
th.halign-left,td.halign-left{text-align:left}
th.halign-right,td.halign-right{text-align:right}
th.halign-center,td.halign-center{text-align:center}
th.valign-top,td.valign-top{vertical-align:top}
th.valign-bottom,td.valign-bottom{vertical-align:bottom}
th.valign-middle,td.valign-middle{vertical-align:middle}
table thead th,table tfoot th{font-weight:bold}
tbody tr th{background:#f7f8f7}
tbody tr th,tbody tr th p,tfoot tr th,tfoot tr th p{color:rgba(0,0,0,.8);font-weight:bold}
p.tableblock>code:only-child{background:none;padding:0}
p.tableblock{font-size:1em}
ol{margin-left:1.75em}
ul li ol{margin-left:1.5em}
dl dd{margin-left:1.125em}
dl dd:last-child,dl dd:last-child>:last-child{margin-bottom:0}
li p,ul dd,ol dd,.olist .olist,.ulist .ulist,.ulist .olist,.olist .ulist{margin-bottom:.625em}
ul.checklist,ul.none,ol.none,ul.no-bullet,ol.no-bullet,ol.unnumbered,ul.unstyled,ol.unstyled{list-style-type:none}
ul.no-bullet,ol.no-bullet,ol.unnumbered{margin-left:.625em}
ul.unstyled,ol.unstyled{margin-left:0}
li>p:empty:only-child::before{content:"";display:inline-block}
ul.checklist>li>p:first-child{margin-left:-1em}
ul.checklist>li>p:first-child>.fa-square-o:first-child,ul.checklist>li>p:first-child>.fa-check-square-o:first-child{width:1.25em;font-size:.8em;position:relative;bottom:.125em}
ul.checklist>li>p:first-child>input[type=checkbox]:first-child{margin-right:.25em}
ul.inline{display:flex;flex-flow:row wrap;list-style:none;margin:0 0 .625em -1.25em}
ul.inline>li{margin-left:1.25em}
.unstyled dl dt{font-weight:400;font-style:normal}
ol.arabic{list-style-type:decimal}
ol.decimal{list-style-type:decimal-leading-zero}
ol.loweralpha{list-style-type:lower-alpha}
ol.upperalpha{list-style-type:upper-alpha}
ol.lowerroman{list-style-type:lower-roman}
ol.upperroman{list-style-type:upper-roman}
ol.lowergreek{list-style-type:lower-greek}
.hdlist>table,.colist>table{border:0;background:none}
.hdlist>table>tbody>tr,.colist>table>tbody>tr{background:none}
td.hdlist1,td.hdlist2{vertical-align:top;padding:0 .625em}
td.hdlist1{font-weight:bold;padding-bottom:1.25em}
td.hdlist2{word-wrap:anywhere}
.literalblock+.colist,.listingblock+.colist{margin-top:-.5em}
.colist td:not([class]):first-child{padding:.4em .75em 0;line-height:1;vertical-align:top}
.colist td:not([class]):first-child img{max-width:none}
.colist td:not([class]):last-child{padding:.25em 0}
.thumb,.th{line-height:0;display:inline-block;border:4px solid #fff;box-shadow:0 0 0 1px #ddd}
.imageblock.left{margin:.25em .625em 1.25em 0}
.imageblock.right{margin:.25em 0 1.25em .625em}
.imageblock>.title{margin-bottom:0}
.imageblock.thumb,.imageblock.th{border-width:6px}
.imageblock.thumb>.title,.imageblock.th>.title{padding:0 .125em}
.image.left,.image.right{margin-top:.25em;margin-bottom:.25em;display:inline-block;line-height:0}
.image.left{margin-right:.625em}
.image.right{margin-left:.625em}
a.image{text-decoration:none;display:inline-block}
a.image object{pointer-events:none}
sup.footnote,sup.footnoteref{font-size:.875em;position:static;vertical-align:super}
sup.footnote a,sup.footnoteref a{text-decoration:none}
sup.footnote a:active,sup.footnoteref a:active{text-decoration:underline}
#footnotes{padding-top:.75em;padding-bottom:.75em;margin-bottom:.625em}
#footnotes hr{width:20%;min-width:6.25em;margin:-.25em 0 .75em;border-width:1px 0 0}
#footnotes .footnote{padding:0 .375em 0 .225em;line-height:1.3334;font-size:.875em;margin-left:1.2em;margin-bottom:.2em}
#footnotes .footnote a:first-of-type{font-weight:bold;text-decoration:none;margin-left:-1.05em}
#footnotes .footnote:last-of-type{margin-bottom:0}
#content #footnotes{margin-top:-.625em;margin-bottom:0;padding:.75em 0}
div.unbreakable{page-break-inside:avoid}
.big{font-size:larger}
.small{font-size:smaller}
.underline{text-decoration:underline}
.overline{text-decoration:overline}
.line-through{text-decoration:line-through}
.aqua{color:#00bfbf}
.aqua-background{background:#00fafa}
.black{color:#000}
.black-background{background:#000}
.blue{color:#0000bf}
.blue-background{background:#0000fa}
.fuchsia{color:#bf00bf}
.fuchsia-background{background:#fa00fa}
.gray{color:#606060}
.gray-background{background:#7d7d7d}
.green{color:#006000}
.green-background{background:#007d00}
.lime{color:#00bf00}
.lime-background{background:#00fa00}
.maroon{color:#600000}
.maroon-background{background:#7d0000}
.navy{color:#000060}
.navy-background{background:#00007d}
.olive{color:#606000}
.olive-background{background:#7d7d00}
.purple{color:#600060}
.purple-background{background:#7d007d}
.red{color:#bf0000}
.red-background{background:#fa0000}
.silver{color:#909090}
.silver-background{background:#bcbcbc}
.teal{color:#006060}
.teal-background{background:#007d7d}
.white{color:#bfbfbf}
.white-background{background:#fafafa}
.yellow{color:#bfbf00}
.yellow-background{background:#fafa00}
span.icon>.fa{cursor:default}
a span.icon>.fa{cursor:inherit}
.admonitionblock td.icon [class^="fa icon-"]{font-size:2.5em;text-shadow:1px 1px 2px rgba(0,0,0,.5);cursor:default}
.admonitionblock td.icon .icon-note::before{content:"\f05a";color:#19407c}
.admonitionblock td.icon .icon-tip::before{content:"\f0eb";text-shadow:1px 1px 2px rgba(155,155,0,.8);color:#111}
.admonitionblock td.icon .icon-warning::before{content:"\f071";color:#bf6900}
.admonitionblock td.icon .icon-caution::before{content:"\f06d";color:#bf3400}
.admonitionblock td.icon .icon-important::before{content:"\f06a";color:#bf0000}
.conum[data-value]{display:inline-block;color:#fff!important;background:rgba(0,0,0,.8);border-radius:50%;text-align:center;font-size:.75em;width:1.67em;height:1.67em;line-height:1.67em;font-family:"Open Sans","DejaVu Sans",sans-serif;font-style:normal;font-weight:bold}
.conum[data-value] *{color:#fff!important}
.conum[data-value]+b{display:none}
.conum[data-value]::after{content:attr(data-value)}
pre .conum[data-value]{position:relative;top:-.125em}
b.conum *{color:inherit!important}
.conum:not([data-value]):empty{display:none}
dt,th.tableblock,td.content,div.footnote{text-rendering:optimizeLegibility}
h1,h2,p,td.content,span.alt,summary{letter-spacing:-.01em}
p strong,td.content strong,div.footnote strong{letter-spacing:-.005em}
p,blockquote,dt,td.content,td.hdlist1,span.alt,summary{font-size:1.0625rem}
p{margin-bottom:1.25rem}
.sidebarblock p,.sidebarblock dt,.sidebarblock td.content,p.tableblock{font-size:1em}
.exampleblock>.content{background:#fffef7;border-color:#e0e0dc;box-shadow:0 1px 4px #e0e0dc}
.print-only{display:none!important}
@page{margin:1.25cm .75cm}
@media print{*{box-shadow:none!important;text-shadow:none!important}
html{font-size:80%}
a{color:inherit!important;text-decoration:underline!important}
a.bare,a[href^="#"],a[href^="mailto:"]{text-decoration:none!important}
a[href^="http:"]:not(.bare)::after,a[href^="https:"]:not(.bare)::after{content:"(" attr(href) ")";display:inline-block;font-size:.875em;padding-left:.25em}
abbr[title]{border-bottom:1px dotted}
abbr[title]::after{content:" (" attr(title) ")"}
pre,blockquote,tr,img,object,svg{page-break-inside:avoid}
thead{display:table-header-group}
svg{max-width:100%}
p,blockquote,dt,td.content{font-size:1em;orphans:3;widows:3}
h2,h3,#toctitle,.sidebarblock>.content>.title{page-break-after:avoid}
#header,#content,#footnotes,#footer{max-width:none}
#toc,.sidebarblock,.exampleblock>.content{background:none!important}
#toc{border-bottom:1px solid #dddddf!important;padding-bottom:0!important}
body.book #header{text-align:center}
body.book #header>h1:first-child{border:0!important;margin:2.5em 0 1em}
body.book #header .details{border:0!important;display:block;padding:0!important}
body.book #header .details span:first-child{margin-left:0!important}
body.book #header .details br{display:block}
body.book #header .details br+span::before{content:none!important}
body.book #toc{border:0!important;text-align:left!important;padding:0!important;margin:0!important}
body.book #toc,body.book #preamble,body.book h1.sect0,body.book .sect1>h2{page-break-before:always}
.listingblock code[data-lang]::before{display:block}
#footer{padding:0 .9375em}
.hide-on-print{display:none!important}
.print-only{display:block!important}
.hide-for-print{display:none!important}
.show-for-print{display:inherit!important}}
@media amzn-kf8,print{#header>h1:first-child{margin-top:1.25rem}
.sect1{padding:0!important}
.sect1+.sect1{border:0}
#footer{background:none}
#footer-text{color:rgba(0,0,0,.6);font-size:.9em}}
@media amzn-kf8{#header,#content,#footnotes,#footer{padding:0}}
</style>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
<style>
pre.pygments .hll { background-color: #ffffcc }
pre.pygments { background: #f8f8f8; }
pre.pygments .tok-c { color: #3D7B7B; font-style: italic } /* Comment */
pre.pygments .tok-err { border: 1px solid #FF0000 } /* Error */
pre.pygments .tok-k { color: #008000; font-weight: bold } /* Keyword */
pre.pygments .tok-o { color: #666666 } /* Operator */
pre.pygments .tok-ch { color: #3D7B7B; font-style: italic } /* Comment.Hashbang */
pre.pygments .tok-cm { color: #3D7B7B; font-style: italic } /* Comment.Multiline */
pre.pygments .tok-cp { color: #9C6500 } /* Comment.Preproc */
pre.pygments .tok-cpf { color: #3D7B7B; font-style: italic } /* Comment.PreprocFile */
pre.pygments .tok-c1 { color: #3D7B7B; font-style: italic } /* Comment.Single */
pre.pygments .tok-cs { color: #3D7B7B; font-style: italic } /* Comment.Special */
pre.pygments .tok-gd { color: #A00000 } /* Generic.Deleted */
pre.pygments .tok-ge { font-style: italic } /* Generic.Emph */
pre.pygments .tok-gr { color: #E40000 } /* Generic.Error */
pre.pygments .tok-gh { color: #000080; font-weight: bold } /* Generic.Heading */
pre.pygments .tok-gi { color: #008400 } /* Generic.Inserted */
pre.pygments .tok-go { color: #717171 } /* Generic.Output */
pre.pygments .tok-gp { color: #000080; font-weight: bold } /* Generic.Prompt */
pre.pygments .tok-gs { font-weight: bold } /* Generic.Strong */
pre.pygments .tok-gu { color: #800080; font-weight: bold } /* Generic.Subheading */
pre.pygments .tok-gt { color: #0044DD } /* Generic.Traceback */
pre.pygments .tok-kc { color: #008000; font-weight: bold } /* Keyword.Constant */
pre.pygments .tok-kd { color: #008000; font-weight: bold } /* Keyword.Declaration */
pre.pygments .tok-kn { color: #008000; font-weight: bold } /* Keyword.Namespace */
pre.pygments .tok-kp { color: #008000 } /* Keyword.Pseudo */
pre.pygments .tok-kr { color: #008000; font-weight: bold } /* Keyword.Reserved */
pre.pygments .tok-kt { color: #B00040 } /* Keyword.Type */
pre.pygments .tok-m { color: #666666 } /* Literal.Number */
pre.pygments .tok-s { color: #BA2121 } /* Literal.String */
pre.pygments .tok-na { color: #687822 } /* Name.Attribute */
pre.pygments .tok-nb { color: #008000 } /* Name.Builtin */
pre.pygments .tok-nc { color: #0000FF; font-weight: bold } /* Name.Class */
pre.pygments .tok-no { color: #880000 } /* Name.Constant */
pre.pygments .tok-nd { color: #AA22FF } /* Name.Decorator */
pre.pygments .tok-ni { color: #717171; font-weight: bold } /* Name.Entity */
pre.pygments .tok-ne { color: #CB3F38; font-weight: bold } /* Name.Exception */
pre.pygments .tok-nf { color: #0000FF } /* Name.Function */
pre.pygments .tok-nl { color: #767600 } /* Name.Label */
pre.pygments .tok-nn { color: #0000FF; font-weight: bold } /* Name.Namespace */
pre.pygments .tok-nt { color: #008000; font-weight: bold } /* Name.Tag */
pre.pygments .tok-nv { color: #19177C } /* Name.Variable */
pre.pygments .tok-ow { color: #AA22FF; font-weight: bold } /* Operator.Word */
pre.pygments .tok-w { color: #bbbbbb } /* Text.Whitespace */
pre.pygments .tok-mb { color: #666666 } /* Literal.Number.Bin */
pre.pygments .tok-mf { color: #666666 } /* Literal.Number.Float */
pre.pygments .tok-mh { color: #666666 } /* Literal.Number.Hex */
pre.pygments .tok-mi { color: #666666 } /* Literal.Number.Integer */
pre.pygments .tok-mo { color: #666666 } /* Literal.Number.Oct */
pre.pygments .tok-sa { color: #BA2121 } /* Literal.String.Affix */
pre.pygments .tok-sb { color: #BA2121 } /* Literal.String.Backtick */
pre.pygments .tok-sc { color: #BA2121 } /* Literal.String.Char */
pre.pygments .tok-dl { color: #BA2121 } /* Literal.String.Delimiter */
pre.pygments .tok-sd { color: #BA2121; font-style: italic } /* Literal.String.Doc */
pre.pygments .tok-s2 { color: #BA2121 } /* Literal.String.Double */
pre.pygments .tok-se { color: #AA5D1F; font-weight: bold } /* Literal.String.Escape */
pre.pygments .tok-sh { color: #BA2121 } /* Literal.String.Heredoc */
pre.pygments .tok-si { color: #A45A77; font-weight: bold } /* Literal.String.Interpol */
pre.pygments .tok-sx { color: #008000 } /* Literal.String.Other */
pre.pygments .tok-sr { color: #A45A77 } /* Literal.String.Regex */
pre.pygments .tok-s1 { color: #BA2121 } /* Literal.String.Single */
pre.pygments .tok-ss { color: #19177C } /* Literal.String.Symbol */
pre.pygments .tok-bp { color: #008000 } /* Name.Builtin.Pseudo */
pre.pygments .tok-fm { color: #0000FF } /* Name.Function.Magic */
pre.pygments .tok-vc { color: #19177C } /* Name.Variable.Class */
pre.pygments .tok-vg { color: #19177C } /* Name.Variable.Global */
pre.pygments .tok-vi { color: #19177C } /* Name.Variable.Instance */
pre.pygments .tok-vm { color: #19177C } /* Name.Variable.Magic */
pre.pygments .tok-il { color: #666666 } /* Literal.Number.Integer.Long */
</style>
</head>
<body class="book toc2 toc-left">
<div id="header">
<h1>Introdução ao Raku</h1>
<div class="details">
<span id="author" class="author">Naoum Hankache</span><br>
<span id="email" class="email"><a href="mailto:naoum@hankache.com">naoum@hankache.com</a></span><br>
<span id="author2" class="author">Breno de Oliveira</span><br>
<span id="email2" class="email"><a href="mailto:garu@cpan.org">garu@cpan.org</a></span><br>
<span id="author3" class="author">Humberto Massa</span><br>
<span id="email3" class="email"><a href="mailto:massa@cpan.org">massa@cpan.org</a></span><br>
</div>
<div id="toc" class="toc2">
<div id="toctitle">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#_introdução">1. Introdução</a>
<ul class="sectlevel2">
<li><a href="#_o_que_é_raku">1.1. O que é Raku</a></li>
<li><a href="#_jargão">1.2. Jargão</a></li>
<li><a href="#_instalando_raku">1.3. Instalando Raku</a></li>
<li><a href="#_executando_código_em_raku">1.4. Executando código em Raku</a></li>
<li><a href="#_editores">1.5. Editores</a></li>
<li><a href="#_alô_mundo">1.6. Alô Mundo!</a></li>
<li><a href="#_visão_geral_da_sintaxe">1.7. Visão geral da sintaxe</a></li>
</ul>
</li>
<li><a href="#_operadores">2. Operadores</a>
<ul class="sectlevel2">
<li><a href="#_operadores_comuns">2.1. Operadores Comuns</a></li>
<li><a href="#_operadores_reversos">2.2. Operadores Reversos</a></li>
<li><a href="#_operadores_de_redução">2.3. Operadores de Redução</a></li>
</ul>
</li>
<li><a href="#_variáveis">3. Variáveis</a>
<ul class="sectlevel2">
<li><a href="#_scalars">3.1. Scalars</a></li>
<li><a href="#_arrays">3.2. Arrays</a></li>
<li><a href="#_hashes">3.3. Hashes</a></li>
<li><a href="#_tipos">3.4. Tipos</a></li>
<li><a href="#_introspecção">3.5. Introspecção</a></li>
<li><a href="#_escopo">3.6. Escopo</a></li>
<li><a href="#_atribuição_x_vinculação_binding">3.7. Atribuição x Vinculação (Binding)</a></li>
</ul>
</li>
<li><a href="#_funções_e_modificadores_mutators">4. Funções e modificadores (mutators)</a></li>
<li><a href="#_laços_loops_e_condicionais">5. Laços (loops) e condicionais</a>
<ul class="sectlevel2">
<li><a href="#_if">5.1. if</a></li>
<li><a href="#_unless">5.2. unless</a></li>
<li><a href="#_with">5.3. with</a></li>
<li><a href="#_for">5.4. for</a></li>
<li><a href="#_given">5.5. given</a></li>
<li><a href="#_loop">5.6. loop</a></li>
</ul>
</li>
<li><a href="#_io">6. I/O</a>
<ul class="sectlevel2">
<li><a href="#_io_básica_usando_o_terminal">6.1. I/O básica usando o Terminal</a></li>
<li><a href="#_executando_comandos_externos">6.2. Executando Comandos Externos</a></li>
<li><a href="#_io_de_arquivos">6.3. I/O de Arquivos</a></li>
<li><a href="#_trabalhando_com_arquivos_e_diretórios">6.4. Trabalhando com arquivos e diretórios</a></li>
</ul>
</li>
<li><a href="#_sub_rotinas">7. Sub-rotinas</a>
<ul class="sectlevel2">
<li><a href="#_definição">7.1. Definição</a></li>
<li><a href="#_assinaturas">7.2. Assinaturas</a></li>
<li><a href="#_despacho_múltiplo_multimétodos">7.3. Despacho Múltiplo (Multimétodos)</a></li>
<li><a href="#_argumentos_padrão_e_opcionais">7.4. Argumentos Padrão e Opcionais</a></li>
<li><a href="#_valores_de_retorno">7.5. Valores de Retorno</a></li>
</ul>
</li>
<li><a href="#_programação_funcional">8. Programação Funcional</a>
<ul class="sectlevel2">
<li><a href="#_funções_são_cidadãs_de_primeira_classe">8.1. Funções são cidadãs de primeira classe</a></li>
<li><a href="#_closures_clausuras">8.2. Closures (clausuras)</a></li>
<li><a href="#_funções_anônimas">8.3. Funções Anônimas</a></li>
<li><a href="#_encadeamento_chaining">8.4. Encadeamento (Chaining)</a></li>
<li><a href="#_operador_de_alimentação_feed_operator">8.5. Operador de Alimentação (Feed Operator)</a></li>
<li><a href="#_hiperoperador">8.6. Hiperoperador</a></li>
<li><a href="#_junctions_junções">8.7. Junctions (Junções)</a></li>
<li><a href="#_listas_preguiçosas_lazy_lists">8.8. Listas Preguiçosas (Lazy Lists)</a></li>
</ul>
</li>
<li><a href="#_classes_objetos">9. Classes &amp; Objetos</a>
<ul class="sectlevel2">
<li><a href="#_introdução_2">9.1. Introdução</a></li>
<li><a href="#_encapsulamento">9.2. Encapsulamento</a></li>
<li><a href="#_argumentos_por_nome_vs_por_posição">9.3. Argumentos por Nome vs. por Posição</a></li>
<li><a href="#_métodos">9.4. Métodos</a></li>
<li><a href="#_atributos_de_classe">9.5. Atributos de Classe</a></li>
<li><a href="#_tipos_de_acesso">9.6. Tipos de Acesso</a></li>
<li><a href="#_herança">9.7. Herança</a></li>
<li><a href="#_herança_múltipla">9.8. Herança Múltipla</a></li>
<li><a href="#_roles">9.9. Roles</a></li>
<li><a href="#_introspecção_2">9.10. Introspecção</a></li>
</ul>
</li>
<li><a href="#_tratamento_de_exceções">10. Tratamento de Exceções</a>
<ul class="sectlevel2">
<li><a href="#_capturando_exceções">10.1. Capturando Exceções</a></li>
<li><a href="#_lançando_exceções">10.2. Lançando Exceções</a></li>
</ul>
</li>
<li><a href="#_expressões_regulares">11. Expressões Regulares</a>
<ul class="sectlevel2">
<li><a href="#_definição_de_regex">11.1. Definição de regex</a></li>
<li><a href="#_casando_caracteres">11.2. Casando caracteres</a></li>
<li><a href="#_casando_categorias_de_caracteres">11.3. Casando categorias de caracteres</a></li>
<li><a href="#_propriedades_unicode">11.4. Propriedades Unicode</a></li>
<li><a href="#_curingas">11.5. Curingas</a></li>
<li><a href="#_quantificadores">11.6. Quantificadores</a></li>
<li><a href="#_resultados">11.7. Resultados</a></li>
<li><a href="#_exemplo">11.8. Exemplo</a></li>
</ul>
</li>
<li><a href="#_módulos_em_raku">12. Módulos em Raku</a>
<ul class="sectlevel2">
<li><a href="#_usando_módulos">12.1. Usando Módulos</a></li>
</ul>
</li>
<li><a href="#_unicode">13. Unicode</a>
<ul class="sectlevel2">
<li><a href="#_usando_unicode">13.1. Usando Unicode</a></li>
</ul>
</li>
<li><a href="#_paralelismo_concorrência_e_assincronicidade">14. Paralelismo, Concorrência e Assincronicidade</a>
<ul class="sectlevel2">
<li><a href="#_paralelismo">14.1. Paralelismo</a></li>
<li><a href="#_concorrência_e_assincronicidade">14.2. Concorrência e Assincronicidade</a></li>
</ul>
</li>
<li><a href="#_a_comunidade">15. A Comunidade</a></li>
</ul>
</div>
</div>
<div id="content">
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>Este documento tem como objetivo oferecer uma visão geral da linguagem de programação Raku.
Para quem é novo em Raku esse material deve te dar o necessário para começar.</p>
</div>
<div class="paragraph">
<p>Algumas seções desse documento referenciam outras partes (mais completas e precisas) da <a href="http://docs.raku.org">documentação do Raku</a>.
Leia-as se precisar de mais informações sobre um assunto específico.</p>
</div>
<div class="paragraph">
<p>Ao longo desse documento você encontrará exemplos para a maior parte dos assuntos discutidos.
Para melhor entendê-los, invista tempo reproduzindo todos os exemplos.</p>
</div>
<div class="paragraph">
<div class="title">License</div>
<p>Esse trabalho é licenciado sob a Creative Commons Attribution-ShareAlike 4.0 International License.
Para ver uma cópia dessa licença, visite</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="https://creativecommons.org/licenses/by-sa/4.0/" class="bare">https://creativecommons.org/licenses/by-sa/4.0/</a>.</p>
</li>
</ul>
</div>
<div class="paragraph">
<div class="title">Contribution</div>
<p>Para contribuir com esse documento acesse:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="https://github.com/hankache/rakuguide" class="bare">https://github.com/hankache/rakuguide</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<div class="title">Feedback</div>
<p>Todo feedback é bem-vindo:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="mailto:naoum@hankache.com">naoum@hankache.com</a></p>
</li>
<li>
<p><a href="mailto:garu@cpan.org">garu@cpan.org</a></p>
</li>
<li>
<p><a href="mailto:massa@cpan.org">massa@cpan.org</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Se você gostou desse trabalho, clique na <em>estrela</em> do repositório no <a href="https://github.com/hankache/rakuguide">Github</a>.</p>
</div>
<div class="ulist">
<div class="title">Traduções</div>
<ul>
<li>
<p>Inglês: <a href="https://raku.guide" class="bare">https://raku.guide</a></p>
</li>
<li>
<p>Alemão: <a href="https://raku.guide/de" class="bare">https://raku.guide/de</a></p>
</li>
<li>
<p>Búlgaro: <a href="https://raku.guide/bg" class="bare">https://raku.guide/bg</a></p>
</li>
<li>
<p>Chinês: <a href="https://raku.guide/zh" class="bare">https://raku.guide/zh</a></p>
</li>
<li>
<p>Espanhol: <a href="https://raku.guide/es" class="bare">https://raku.guide/es</a></p>
</li>
<li>
<p>Francês: <a href="https://raku.guide/fr" class="bare">https://raku.guide/fr</a></p>
</li>
<li>
<p>Holandês: <a href="https://raku.guide/nl" class="bare">https://raku.guide/nl</a></p>
</li>
<li>
<p>Indonésio: <a href="https://raku.guide/id" class="bare">https://raku.guide/id</a></p>
</li>
<li>
<p>Italiano: <a href="https://raku.guide/it" class="bare">https://raku.guide/it</a></p>
</li>
<li>
<p>Japonês: <a href="https://raku.guide/ja" class="bare">https://raku.guide/ja</a></p>
</li>
<li>
<p>Português: <a href="https://raku.guide/pt" class="bare">https://raku.guide/pt</a></p>
</li>
<li>
<p>Russo: <a href="https://raku.guide/ru" class="bare">https://raku.guide/ru</a></p>
</li>
<li>
<p>Turco: <a href="https://raku.guide/tr" class="bare">https://raku.guide/tr</a></p>
</li>
<li>
<p>Ucraniano: <a href="https://raku.guide/uk" class="bare">https://raku.guide/uk</a></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_introdução">1. Introdução</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_o_que_é_raku">1.1. O que é Raku</h3>
<div class="paragraph">
<p>Raku é uma linguagem de alto nível, uso geral e com tipagem gradual.
Raku é multi paradigma. Ela suporta programação Procedural, Orientada a Objetos e Funcional.</p>
</div>
<div class="ulist">
<div class="title">Lema do Raku:</div>
<ul>
<li>
<p>TMTOWTDI (Pronuncia-se Tim Toady): Existe mais de uma maneira de se fazer as coisas (there is more than one way to do it).</p>
</li>
<li>
<p>Coisas fáceis devem continuar fáceis, coisas difíceis deveriam se tornar mais fáceis, e coisas impossíveis deveriam ser só mais difíceis.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_jargão">1.2. Jargão</h3>
<div class="ulist">
<ul>
<li>
<p><strong>Raku</strong>: É a especificação da linguagem com uma suite de testes.
Implementações que passem na suite de testes da especificação são consideradas Raku.</p>
</li>
<li>
<p><strong>Rakudo</strong>: É um compilador para Raku.</p>
</li>
<li>
<p><strong>Rakudobrew</strong>: É um gerenciador de instalações para o Rakudo.</p>
</li>
<li>
<p><strong>Zef</strong>: É um instalador de módulos do Raku.</p>
</li>
<li>
<p><strong>Rakudo Star</strong>: É um pacote que inclui Rakudo, Zef, uma coleção de módulos Raku, e documentação.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_instalando_raku">1.3. Instalando Raku</h3>
<div class="paragraph">
<div class="title">Linux</div>
<p>Para instalar o Rakudo Star, execute os seguintes comandos no terminal:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="raku"><span></span><span class="tok-nb">mkdir</span> ~/<span class="tok-n">rakudo</span> &amp;&amp; <span class="tok-n">cd</span> <span class="tok-nv">$_</span>
<span class="tok-n">curl</span> -<span class="tok-n">LJO</span> <span class="tok-n">https:</span>//<span class="tok-n">rakudo</span>.<span class="tok-n">org</span><span class="tok-o">/</span><span class="tok-n">latest</span><span class="tok-o">/</span><span class="tok-n">star</span><span class="tok-o">/</span><span class="tok-n">src</span>
<span class="tok-n">tar</span> -<span class="tok-n">xzf</span> <span class="tok-n">rakudo-star-</span>*.<span class="tok-n">tar</span>.<span class="tok-n">gz</span>
<span class="tok-n">mv</span> <span class="tok-n">rakudo-star-</span>*/* .
<span class="tok-n">rm</span> -<span class="tok-n">fr</span> <span class="tok-n">rakudo-star-</span>*

./<span class="tok-n">bin</span><span class="tok-o">/</span><span class="tok-n">rstar</span> <span class="tok-n">install</span>

<span class="tok-n">echo</span> <span class="tok-s">&quot;export PATH=$(pwd)/bin/:$(pwd)/share/perl6/site/bin:$(pwd)/share/perl6/vendor/bin:$(pwd)/share/perl6/core/bin:\$PATH&quot;</span> &gt;&gt; ~/.<span class="tok-n">bashrc</span>
<span class="tok-nb">source</span> ~/.<span class="tok-n">bashrc</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>For other options, go to <a href="https://rakudo.org/star/source" class="bare">https://rakudo.org/star/source</a></p>
</div>
<div class="paragraph">
<div class="title">macOS</div>
<p>Quatro opções estão disponíveis:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Siga os mesmos passos listados para instalar no Linux</p>
</li>
<li>
<p>Instale com o homebrew: <code>brew install rakudo-star</code></p>
</li>
<li>
<p>Instale com o MacPorts: <code>sudo port install rakudo</code></p>
</li>
<li>
<p>Baixe o instalador (arquivo com extensão .dmg) mais recente em <a href="http://rakudo.org/downloads/star/" class="bare">http://rakudo.org/downloads/star/</a></p>
</li>
</ul>
</div>
<div class="olist arabic">
<div class="title">Windows</div>
<ol class="arabic">
<li>
<p>Baixe a última versão do instalador (arquivo com extensão .msi) em <a href="http://rakudo.org/downloads/star/" class="bare">http://rakudo.org/downloads/star/</a><br>
Se o seu sistema for 32 bits, baixe o arquivo x86; se for 64 bits, baixe o arquivo x86_64.</p>
</li>
<li>
<p>Após a instalação, certifique-se que <code>C:\rakudo\bin</code> está na sua variável PATH</p>
</li>
</ol>
</div>
<div class="olist arabic">
<div class="title">Docker</div>
<ol class="arabic">
<li>
<p>Pegue a imagem oficial do Docker <code>docker pull rakudo-star</code></p>
</li>
<li>
<p>Depois execute o container com a imagem <code>docker run -it rakudo-star</code></p>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="_executando_código_em_raku">1.4. Executando código em Raku</h3>
<div class="paragraph">
<p>Executar código Raku pode ser feito usando a REPL (Read-Eval-Print Loop).
Para isso, abra um terminal, digite <code>raku</code> na janela do terminal
e aperte [Enter]. Isso vai fazer com que um prompt de <code>&gt;</code> apareça.
Em seguida, digite uma linha de código e aperte [Enter]. A REPL vai
exibir o valor daquela linha. Você pode então digitar outra linha,
ou digitar <code>exit</code> e aperte [Enter] para sair da REPL.</p>
</div>
<div class="paragraph">
<p>Como alternativa, escreva seu código em um arquivo, salve e execute-o.
É recomendado que programas em Raku sejam gravados em arquivos com
a extensão <code>.raku</code>. Execute o arquivo digitando <code>raku nomedoarquivo.raku</code>
na janela do terminal e apertando [Enter]. Ao contrário da REPL, isso
não vai automaticamente imprimir o resultado de cada linha: o código
precisa ter um comando <code>say</code> para imprimir coisas.</p>
</div>
<div class="paragraph">
<p>A REPL é usada principalmente para experimentar algum código específico,
normalmente uma única linha. Para programas com mais de uma linha é
recomendado escrever em um arquivo e executá-lo.</p>
</div>
<div class="paragraph">
<p>Linhas individuais também podem ser executadas de modo não interativo
na linha de comando digitando <code>raku -e 'seu código aqui'</code> e apertando
[Enter].</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
<div class="paragraph">
<p>O pacote Rakudo Star inclui um editor de linhas que ajuda a obter o máximo da REPL.</p>
</div>
<div class="paragraph">
<p>Se você instalou apenas o Rakudo em vez do Rakudo Star você provavelmente não
tem os recursos de edição de linhas ativado (como usar as setas para cima e
para baixo para ver o histórico, esquerda e direita para editar a linha, e
auto completar com a tecla TAB).
Considere executar o seguinte comando e estará tudo pronto:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>zef install Linenoise</code> deve funcionar em Windows, Linux e OSX</p>
</li>
<li>
<p><code>zef install Readline</code> se estiver no Linux e preferir a biblioteca <em>Readline</em></p>
</li>
</ul>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_editores">1.5. Editores</h3>
<div class="paragraph">
<p>Como vamos passar um bom tempo escrevendo e gravando programas Raku em
arquivos, é bom termos um editor de textos decente que reconheça a sintaxe
do Raku.</p>
</div>
<div class="paragraph">
<p>Eu particularmente uso e recomendo o <a href="https://atom.io/">Atom</a>. É um editor de
textos moderno e já vem com reconhecimento de sintaxe em Raku.
<a href="https://atom.io/packages/language-rakufe">Raku-fe</a> é um reconhecedor de
sintaxe alternativo para o Atom, derivado do pacote original mas com muitas
correções e adições.</p>
</div>
<div class="paragraph">
<p>Outras pessoas na comunidade também usam <a href="http://www.vim.org/">Vim</a>,
<a href="https://www.gnu.org/software/emacs/">Emacs</a> ou <a href="http://padre.perlide.org/">Padre</a>.</p>
</div>
<div class="paragraph">
<p>Versões recentes do Vim já vem com reconhecimento de sintaxe. Emacs e Padre
precisam da instalação de pacotes adicionais.</p>
</div>
</div>
<div class="sect2">
<h3 id="_alô_mundo">1.6. Alô Mundo!</h3>
<div class="paragraph">
<p>Vamos começar com o ritual <code>alô mundo</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="raku"><span></span><span class="tok-nb">say</span> <span class="tok-s">&#39;hello world&#39;</span>;</code></pre>
</div>
</div>
<div class="paragraph">
<p>isso também pode ser escrito como:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="raku"><span></span><span class="tok-s">&#39;hello world&#39;</span>.<span class="tok-nb">say</span>;</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_visão_geral_da_sintaxe">1.7. Visão geral da sintaxe</h3>
<div class="paragraph">
<p>Raku tem <strong>forma livre</strong>: Você tem liberdade (na maioria dos casos) para usar
qualquer quantidade de espaços em branco.</p>
</div>
<div class="paragraph">
<p><strong>Declarações</strong> são normalmente uma linha lógica de código, e terminam com
um ponto-e-vírgula:
<code>say "Hello" if True;</code></p>
</div>
<div class="paragraph">
<p><strong>Expressões</strong> são um tipo especial de declaração que retorna um valor:
<code>1+2</code> retorna <code>3</code></p>
</div>
<div class="paragraph">
<p>Expressões são feitas por <strong>Termos</strong> e <strong>Operadores</strong>.</p>
</div>
<div class="paragraph">
<p><strong>Termos</strong> são:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Variáveis</strong>: Um valor que pode ser manipulado e modificado.</p>
</li>
<li>
<p><strong>Literais</strong>: Um valor constante como um número ou string (sequência de caracteres).</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>Operadores</strong> são classificados em tipos:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Tipo</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Explicação</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Exemplo</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Prefixo (Prefix)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Antes do termo.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>++1</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Infixo (Infix)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Entre termos</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>1+2</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Sufixo (Postfix)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Após o termo</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>1++</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Circunfixos (Circumfix)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Em torno do termo</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>(1)</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Pós circunfixos (Postcircumfix)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Após um termo, em torno de outro</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Array[1]</code></p></td>
</tr>
</tbody>
</table>
<div class="sect3">
<h4 id="_identificadores">1.7.1. Identificadores</h4>
<div class="paragraph">
<p>Identificadores são os nomes dados aos termos quando você os define.</p>
</div>
<div class="ulist">
<div class="title">Regras:</div>
<ul>
<li>
<p>Precisam começar com um caractere do alfabeto ou um underscore (sublinhado).</p>
</li>
<li>
<p>Precisam conter dígitos (exceto o primeiro caractere).</p>
</li>
<li>
<p>Podem conter hífens ou apóstrofes (exceto os primeiros e últimos caracteres),
contanto que haja um caractere alfabético à direita de cada hífen ou apóstrofe.</p>
</li>
</ul>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Válido</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Inválido</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>var1</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>1var</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>var-um</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>var-1</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>var&#8217;um</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>var'1</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>var1_</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>var1'</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>_var</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>-var</code></p></td>
</tr>
</tbody>
</table>
<div class="ulist">
<div class="title">Convenções para nomes:</div>
<ul>
<li>
<p>Camel case: <code>variableNo1</code></p>
</li>
<li>
<p>Kebab case: <code>variable-no1</code></p>
</li>
<li>
<p>Snake case: <code>variable_no1</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Você está livre para nomear seus identificadores como quiser, mas é uma boa
prática adotar uma convenção de forma consistente.</p>
</div>
<div class="paragraph">
<p>Usar nomes significativos vai facilitar a sua vida (e a de outros) programando.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>var1 = var2 * var3</code> é sintaticamente correto mas o propósito não é claro.</p>
</li>
<li>
<p><code>salario-mensal = taxa-diaria * dias-uteis</code> seria uma forma melhor de
nomear suas variáveis.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_comentários">1.7.2. Comentários</h4>
<div class="paragraph">
<p>Um comentário é um pedaço de texto ignorado pelo compilador e usado como
uma nota.</p>
</div>
<div class="paragraph">
<p>Comentários são divididos em 3 tipos:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Linha única:</p>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="raku"><span></span><span class="tok-c1"># Isso é uma linha de comentário</span></code></pre>
</div>
</div>
</li>
<li>
<p>Embutido:</p>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="raku"><span></span><span class="tok-nb">say</span> <span class="tok-cm">#`(Isso é um comentário embutido)</span> <span class="tok-s">&quot;Alô Mundo.&quot;</span></code></pre>
</div>
</div>
</li>
<li>
<p>Multi linhas:</p>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="raku"><span></span><span class="tok-cm">=begin comment</span>
<span class="tok-cm">Esse é um comentário de várias linhas.</span>
<span class="tok-cm">Comentário 1</span>
<span class="tok-cm">Comentário 2</span>
<span class="tok-cm">=end comment</span></code></pre>
</div>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_aspas_quotes">1.7.3. Aspas (Quotes)</h4>
<div class="paragraph">
<p>Strings precisam ser delimitadas por aspas duplas ou aspas simples.</p>
</div>
<div class="paragraph">
<p>Sempre use aspas duplas:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>se sua string contém uma apóstrofe (aspas simples).</p>
</li>
<li>
<p>se sua string contém uma variável que precisa ser interpolada.</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="raku"><span></span><span class="tok-nb">say</span> <span class="tok-s">&#39;Alô Mundo&#39;</span>;   <span class="tok-c1"># Alô Mundo</span>
<span class="tok-nb">say</span> <span class="tok-s">&quot;Alô Mundo&quot;</span>;   <span class="tok-c1"># Alô Mundo</span>
<span class="tok-nb">say</span> <span class="tok-s">&quot;Gota d&#39;água&quot;</span>; <span class="tok-c1"># Gota d&#39;água</span>
<span class="tok-k">my</span> <span class="tok-nv">$name</span> = <span class="tok-s">&#39;Maria Silva&#39;</span>;
<span class="tok-nb">say</span> <span class="tok-s">&#39;Alô $name&#39;</span>;   <span class="tok-c1"># Alô $name</span>
<span class="tok-nb">say</span> <span class="tok-s">&quot;Alô $name&quot;</span>;   <span class="tok-c1"># Alô Maria Silva</span></code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_operadores">2. Operadores</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_operadores_comuns">2.1. Operadores Comuns</h3>
<div class="paragraph">
<p>A tabela abaixo lista os operadores mais usados.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 7.1428%;">
<col style="width: 7.1428%;">
<col style="width: 28.5714%;">
<col style="width: 28.5714%;">
<col style="width: 28.5716%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-middle">Operador</th>
<th class="tableblock halign-center valign-middle">Tipo</th>
<th class="tableblock halign-left valign-middle">Descrição</th>
<th class="tableblock halign-left valign-middle">Exemplo</th>
<th class="tableblock halign-left valign-middle">Resultado</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>+</code></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>Infix</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">Adição</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>1 + 2</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>3</code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>-</code></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>Infix</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">Subtração</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>3 - 1</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>2</code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>*</code></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>Infix</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">Multiplicação</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>3 * 2</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>6</code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>**</code></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>Infix</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">Potência</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>3 ** 2</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>9</code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>/</code></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>Infix</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">Divisão</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>3 / 2</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>1.5</code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>div</code></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>Infix</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">Divisão inteira (arredonda para baixo)</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>3 div 2</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>1</code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>%</code></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>Infix</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">Módulo</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>7 % 4</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>3</code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle" rowspan="2"><p class="tableblock"><code>%%</code></p></td>
<td class="tableblock halign-center valign-middle" rowspan="2"><p class="tableblock"><code>Infix</code></p></td>
<td class="tableblock halign-left valign-middle" rowspan="2"><p class="tableblock">Divisibilidade</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>6 %% 4</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>False</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>6 %% 3</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>True</code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>gcd</code></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>Infix</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">Máximo denominador comum (mdc)</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>6 gcd 9</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>3</code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>lcm</code></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>Infix</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">Menor múltiplo comum (mmc)</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>6 lcm 9</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>18</code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>==</code></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>Infix</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">Igualdade numérica</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>9 == 7</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>False</code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>!=</code></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>Infix</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">Diferente numérico</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>9 != 7</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>True</code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>&lt;</code></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>Infix</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">Menor que</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>9 &lt; 7</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>False</code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>&gt;</code></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>Infix</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">Maior que</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>9 &gt; 7</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>True</code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>&lt;=</code></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>Infix</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">Menor ou igual a</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>7 &lt;= 7</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>True</code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>&gt;=</code></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>Infix</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">Maior ou igual a</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>9 &gt;= 7</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>True</code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>eq</code></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>Infix</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">Igualdade de string</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>"João" eq "João"</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>True</code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>ne</code></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>Infix</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">Diferença de string</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>"João" ne "Joana"</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>True</code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>=</code></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>Infix</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">Atribuição</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>my $var = 7</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>Atribui o valor <code>7</code> à variável <code>$var</code></code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle" rowspan="2"><p class="tableblock"><code>~</code></p></td>
<td class="tableblock halign-center valign-middle" rowspan="2"><p class="tableblock"><code>Infix</code></p></td>
<td class="tableblock halign-left valign-middle" rowspan="2"><p class="tableblock">Concatenação de strings</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>9 ~ 7</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>97</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>"Oi " ~ "pessoal"</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>Oi pessoal</code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle" rowspan="2"><p class="tableblock"><code>x</code></p></td>
<td class="tableblock halign-center valign-middle" rowspan="2"><p class="tableblock"><code>Infix</code></p></td>
<td class="tableblock halign-left valign-middle" rowspan="2"><p class="tableblock">Replicação de strings</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>13 x 3</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>131313</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>"Olá " x 3</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>Olá Olá Olá</code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle" rowspan="5"><p class="tableblock"><code>~~</code></p></td>
<td class="tableblock halign-center valign-middle" rowspan="5"><p class="tableblock"><code>Infix</code></p></td>
<td class="tableblock halign-left valign-middle" rowspan="5"><p class="tableblock">Smart match (equivalência inteligente)</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>2 ~~ 2</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>True</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>2 ~~ Int</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>True</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>"Raku" ~~ "Raku"</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>True</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>"Raku" ~~ Str</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>True</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>"iluminação" ~~ /ilumina/</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>｢ilumina｣</code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle" rowspan="2"><p class="tableblock"><code>++</code></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>Prefix</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">Incremento</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>my $var = 2; ++$var;</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>Incrementa em 1 o valor da variável e retorna o resultado (no caso, <code>3</code>)</code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>Postfix</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">Incremento</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>my $var = 2; $var++;</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>Retorna a variável (no caso, <code>2</code>) e só então incrementa seu valor</code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle" rowspan="2"><p class="tableblock"><code>--</code></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>Prefix</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">Decremento</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>my $var = 2; --$var;</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>Decrementa em 1 o valor da variável e retorna o resultado (no caso, <code>1</code>)</code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>Postfix</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">Decremento</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>my $var = 2; $var--;</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>Retorna a variável (no caso, <code>2</code>) e só então decrementa seu valor</code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle" rowspan="3"><p class="tableblock"><code>+</code></p></td>
<td class="tableblock halign-center valign-middle" rowspan="3"><p class="tableblock"><code>Prefix</code></p></td>
<td class="tableblock halign-left valign-middle" rowspan="3"><p class="tableblock">Força o operando para um valor numérico</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>+"3"</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>3</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>+True</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>1</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>+False</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>0</code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle" rowspan="3"><p class="tableblock"><code>-</code></p></td>
<td class="tableblock halign-center valign-middle" rowspan="3"><p class="tableblock"><code>Prefix</code></p></td>
<td class="tableblock halign-left valign-middle" rowspan="3"><p class="tableblock">Força o operando para um valor numérico e retorna sua negação</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>-"3"</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>-3</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>-True</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>-1</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>-False</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>0</code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle" rowspan="6"><p class="tableblock"><code>?</code></p></td>
<td class="tableblock halign-center valign-middle" rowspan="6"><p class="tableblock"><code>Prefix</code></p></td>
<td class="tableblock halign-left valign-middle" rowspan="6"><p class="tableblock">Força o operando para um valor booleano</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>?0</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>False</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>?9.8</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>True</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>?"Hello"</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>True</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>?""</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>False</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>my $var; ?$var;</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>False</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>my $var = 7; ?$var;</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>True</code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>!</code></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>Prefix</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">Força o operando para um valor booleano e retorna sua negação</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>!4</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>False</code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>..</code></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>Infix</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">Construtor de Sequências</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>0..5</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>Cria uma série de 0 a 5</code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>..^</code></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>Infix</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">Construtor de Sequências</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>0..^5</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>Cria uma série de 0 a 4</code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>^..</code></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>Infix</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">Construtor de Sequências</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>0^..5</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>Cria uma série de 1 a 5</code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>^..^</code></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>Infix</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">Construtor de Sequências</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>0^..^5</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>Cria uma série de 1 a 4</code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>^</code></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>Prefix</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">Construtor de Sequências</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>^5</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>Same as 0..^5 Cria uma série de 0 a 4</code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>&#8230;&#8203;</code></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>Infix</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">Construtor de Listas Preguiçosas (Lazy Lists)</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>0&#8230;&#8203;9999</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>Retorna os elementos só quando pedido</code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle" rowspan="2"><p class="tableblock"><code>|</code></p></td>
<td class="tableblock halign-center valign-middle" rowspan="2"><p class="tableblock"><code>Prefix</code></p></td>
<td class="tableblock halign-left valign-middle" rowspan="2"><p class="tableblock">Achatamento (Flattening)</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>|(0..5)</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>(0 1 2 3 4 5)</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>|(0^..^5)</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>(1 2 3 4)</code></p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="_operadores_reversos">2.2. Operadores Reversos</h3>
<div class="paragraph">
<p>Adicionar um <code>R</code> antes de qualquer operador tem o efeito de inverter seus operandos.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-middle">Operação Normal</th>
<th class="tableblock halign-left valign-middle">Resultado</th>
<th class="tableblock halign-left valign-middle">Operador Reverso</th>
<th class="tableblock halign-left valign-middle">Resultado</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>2 / 3</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>0.666667</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>2 R/ 3</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>1.5</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>2 - 1</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>1</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>2 R- 1</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>-1</code></p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="_operadores_de_redução">2.3. Operadores de Redução</h3>
<div class="paragraph">
<p>Operadores de redução trabalham com listas de valores.
Eles são formados colocando o operador entre colchetes <code>[]</code></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-middle">Operação Normal</th>
<th class="tableblock halign-left valign-middle">Resultado</th>
<th class="tableblock halign-left valign-middle">Operador de Redução</th>
<th class="tableblock halign-left valign-middle">Resultado</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>1 + 2 + 3 + 4 + 5</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>15</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>[+] 1,2,3,4,5</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>15</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>1 * 2 * 3 * 4 * 5</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>120</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>[*] 1,2,3,4,5</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>120</code></p></td>
</tr>
</tbody>
</table>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Para a lista completa de operadores, incluindo sua precedência, visite <a href="https://docs.raku.org/language/operators" class="bare">https://docs.raku.org/language/operators</a>
</td>
</tr>
</table>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_variáveis">3. Variáveis</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Variáveis em Raku são classificadas em 3 categorias: Scalars (escalares), Arrays e Hashes.</p>
</div>
<div class="paragraph">
<p>Um <strong>sigil</strong> (símbolo) é um caractere usado como prefixo para categorizar variáveis.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>$</code> é usado para scalars</p>
</li>
<li>
<p><code>@</code> é usado para arrays</p>
</li>
<li>
<p><code>%</code> é usado para hashes</p>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="_scalars">3.1. Scalars</h3>
<div class="paragraph">
<p>Um scalar guarda um valor ou uma referência.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="raku"><span></span><span class="tok-c1">#String</span>
<span class="tok-k">my</span> <span class="tok-nv">$nome</span> = <span class="tok-s">&#39;Maria Silva&#39;</span>;
<span class="tok-nb">say</span> <span class="tok-nv">$nome</span>;

<span class="tok-c1">#Número</span>
<span class="tok-k">my</span> <span class="tok-nv">$idade</span> = <span class="tok-mi">99</span>;
<span class="tok-nb">say</span> <span class="tok-nv">$idade</span>;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Um grupo específico de operações pode ser realizada em um scalar, dependendo
do valor que ele armazena.</p>
</div>
<div class="listingblock">
<div class="title">String</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="raku"><span></span><span class="tok-k">my</span> <span class="tok-nv">$nome</span> = <span class="tok-s">&#39;Maria Silva&#39;</span>;
<span class="tok-nb">say</span> <span class="tok-nv">$nome</span>.<span class="tok-nb">uc</span>;
<span class="tok-nb">say</span> <span class="tok-nv">$nome</span>.<span class="tok-nb">chars</span>;
<span class="tok-nb">say</span> <span class="tok-nv">$nome</span>.<span class="tok-nb">flip</span>;</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="raku"><span></span><span class="tok-n">MARIA</span> <span class="tok-n">SILVA</span>
<span class="tok-mi">11</span>
<span class="tok-n">avliS</span> <span class="tok-n">airaM</span></code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Para a lista completa de métodos aplicáveis a Strings, veja <a href="https://docs.raku.org/type/Str" class="bare">https://docs.raku.org/type/Str</a>
</td>
</tr>
</table>
</div>
<div class="listingblock">
<div class="title">Inteiros</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="raku"><span></span><span class="tok-k">my</span> <span class="tok-nv">$idade</span> = <span class="tok-mi">17</span>;
<span class="tok-nb">say</span> <span class="tok-nv">$idade</span>.<span class="tok-nb">is-prime</span>;</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="raku"><span></span><span class="tok-nb">True</span></code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Para a lista completa de métodos aplicáveis a Inteiros, visite <a href="https://docs.raku.org/type/Int" class="bare">https://docs.raku.org/type/Int</a>
</td>
</tr>
</table>
</div>
<div class="listingblock">
<div class="title">Números Racionais</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="raku"><span></span><span class="tok-k">my</span> <span class="tok-nv">$idade</span> = <span class="tok-mf">2.3</span>;
<span class="tok-nb">say</span> <span class="tok-nv">$idade</span>.<span class="tok-nb">numerator</span>;
<span class="tok-nb">say</span> <span class="tok-nv">$idade</span>.<span class="tok-nb">denominator</span>;
<span class="tok-nb">say</span> <span class="tok-nv">$idade</span>.<span class="tok-nb">nude</span>;</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="raku"><span></span><span class="tok-mi">23</span>
<span class="tok-mi">10</span>
(<span class="tok-mi">23</span> <span class="tok-mi">10</span>)</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Para a lista completa de métodos aplicáveis a Números Racionais, visite <a href="http://doc.raku.org/type/Rat" class="bare">http://doc.raku.org/type/Rat</a>
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_arrays">3.2. Arrays</h3>
<div class="paragraph">
<p>Arrays são listas contendo vários valores.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="raku"><span></span><span class="tok-k">my</span> <span class="tok-nv">@animais</span> = <span class="tok-s">&#39;camelo&#39;</span>,<span class="tok-s">&#39;lhama&#39;</span>,<span class="tok-s">&#39;coruja&#39;</span>;
<span class="tok-nb">say</span> <span class="tok-nv">@animais</span>;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Muitas operações podem ser feitas em arrays como mostrado no exemplo abaixo:</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
O til <code>~</code> é usado para concatenar strings.
</td>
</tr>
</table>
</div>
<div class="listingblock">
<div class="title"><code>Script</code></div>
<div class="content">
<pre class="pygments highlight"><code data-lang="raku"><span></span><span class="tok-k">my</span> <span class="tok-nv">@animais</span> = <span class="tok-s">&#39;camelo&#39;</span>,<span class="tok-s">&#39;vicunha&#39;</span>,<span class="tok-s">&#39;lhama&#39;</span>;
<span class="tok-nb">say</span> <span class="tok-s">&quot;O zoológico contém &quot;</span> ~ <span class="tok-nv">@animals</span>.<span class="tok-nb">elems</span> ~ <span class="tok-s">&quot; animais&quot;</span>;
<span class="tok-nb">say</span> <span class="tok-s">&quot;Os animais são: &quot;</span> ~ <span class="tok-nv">@animais</span>;
<span class="tok-nb">say</span> <span class="tok-s">&quot;Vou adotar uma coruja para o zoo&quot;</span>;
<span class="tok-nv">@animais</span>.<span class="tok-nb">push</span>(<span class="tok-s">&quot;coruja&quot;</span>);
<span class="tok-nb">say</span> <span class="tok-s">&quot;Agora o zoo tem: &quot;</span> ~ <span class="tok-nv">@animals</span>;
<span class="tok-nb">say</span> <span class="tok-s">&quot;O primeiro animal adotado foi o &quot;</span> ~ <span class="tok-nv">@animais</span>[<span class="tok-mi">0</span>];
<span class="tok-nv">@animais</span>.<span class="tok-nb">pop</span>;
<span class="tok-nb">say</span> <span class="tok-s">&quot;Infelizmente a coruja fugiu e ficamos com: &quot;</span> ~ <span class="tok-nv">@animais</span>;
<span class="tok-nb">say</span> <span class="tok-s">&quot;Vamos fechar o zoológico e manter apenas um animal&quot;</span>;
<span class="tok-nb">say</span> <span class="tok-s">&quot;Vamos soltar: &quot;</span> ~ <span class="tok-nv">@animais</span>.<span class="tok-nb">splice</span>(<span class="tok-mi">1</span>,<span class="tok-mi">2</span>) ~ <span class="tok-s">&quot; e ficar com o &quot;</span> ~ <span class="tok-nv">@animais</span>;</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title"><code>Saída</code></div>
<div class="content">
<pre class="pygments highlight"><code data-lang="raku"><span></span><span class="tok-n">O</span> <span class="tok-n">zoológico</span> <span class="tok-n">contém</span> <span class="tok-mi">3</span> <span class="tok-n">animais</span>
<span class="tok-n">Os</span> <span class="tok-n">animais</span> <span class="tok-n">são:</span> <span class="tok-n">camelo</span> <span class="tok-n">vicunha</span> <span class="tok-n">lhama</span>
<span class="tok-n">Vou</span> <span class="tok-n">adotar</span> <span class="tok-n">uma</span> <span class="tok-n">coruja</span> <span class="tok-n">para</span> <span class="tok-n">o</span> <span class="tok-n">zoo</span>
<span class="tok-n">Agora</span> <span class="tok-n">o</span> <span class="tok-n">zoo</span> <span class="tok-n">tem:</span> <span class="tok-n">camelo</span> <span class="tok-n">vicunha</span> <span class="tok-n">lhama</span> <span class="tok-n">coruja</span>
<span class="tok-n">O</span> <span class="tok-n">primeiro</span> <span class="tok-n">animal</span> <span class="tok-n">adotado</span> <span class="tok-n">foi</span> <span class="tok-n">o</span> <span class="tok-n">camelo</span>
<span class="tok-n">Infelizmente</span> <span class="tok-n">a</span> <span class="tok-n">coruja</span> <span class="tok-n">fugiu</span> <span class="tok-nb">e</span> <span class="tok-n">ficamos</span> <span class="tok-n">com:</span> <span class="tok-n">camelo</span> <span class="tok-n">vicunha</span> <span class="tok-n">lhama</span>
<span class="tok-n">Vamos</span> <span class="tok-n">fechar</span> <span class="tok-n">o</span> <span class="tok-n">zoológico</span> <span class="tok-nb">e</span> <span class="tok-n">manter</span> <span class="tok-n">apenas</span> <span class="tok-n">um</span> <span class="tok-n">animal</span>
<span class="tok-n">Vamos</span> <span class="tok-n">soltar:</span> <span class="tok-n">vicunha</span> <span class="tok-n">lhama</span> <span class="tok-nb">e</span> <span class="tok-n">ficar</span> <span class="tok-n">com</span> <span class="tok-n">o</span> <span class="tok-n">camelo</span></code></pre>
</div>
</div>
<div class="paragraph">
<div class="title">Explicação</div>
<p><code>.elems</code> retorna o número de elementos em um array.<br>
<code>.push()</code> adiciona um elemento no final do array.<br>
Podemos acessar um elemento específico do array especificando sua posição, como <code>@animals[0]</code>.<br>
<code>.pop</code> remove o último elemento do array.<br>
<code>.splice(a,b)</code> remove os <code>b</code> elementos que estão a partir da posição <code>a</code>.</p>
</div>
<div class="sect3">
<h4 id="_arrays_de_tamanho_fixo">3.2.1. Arrays de tamanho fixo</h4>
<div class="paragraph">
<p>Um array básico é declarado assim:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="raku"><span></span><span class="tok-k">my</span> <span class="tok-nv">@array</span>;</code></pre>
</div>
</div>
<div class="paragraph">
<p>O array básico pode ter qualquer tamanho e por isso é chamado de auto-extensível.<br>
Esses arrays aceitam qualquer quantidade de elementos sem restrição.</p>
</div>
<div class="paragraph">
<p>Por outro lado, também podemos criar arrays de tamanho fixo.<br>
Esses arrays não podem ser acessados em posições acima do seu tamanho predefinido.</p>
</div>
<div class="paragraph">
<p>Para declarar um array com tamanho fixo, especifique o número máximo de elementos entre chaves imediatamente após o nome:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="raku"><span></span><span class="tok-k">my</span> <span class="tok-nv">@array</span>[<span class="tok-mi">3</span>];</code></pre>
</div>
</div>
<div class="paragraph">
<p>Esse array será capaz de armazenar no máximo 3 valores, com índice de 0 a 2.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="raku"><span></span><span class="tok-k">my</span> <span class="tok-nv">@array</span>[<span class="tok-mi">3</span>];
<span class="tok-nv">@array</span>[<span class="tok-mi">0</span>] = <span class="tok-s">&quot;primeiro valor&quot;</span>;
<span class="tok-nv">@array</span>[<span class="tok-mi">1</span>] = <span class="tok-s">&quot;segundo valor&quot;</span>;
<span class="tok-nv">@array</span>[<span class="tok-mi">2</span>] = <span class="tok-s">&quot;terceiro valor&quot;</span>;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Você não conseguirá adicionar um quarto valor nesse array:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="raku"><span></span><span class="tok-k">my</span> <span class="tok-nv">@array</span>[<span class="tok-mi">3</span>];
<span class="tok-nv">@array</span>[<span class="tok-mi">0</span>] = <span class="tok-s">&quot;primeiro valor&quot;</span>;
<span class="tok-nv">@array</span>[<span class="tok-mi">1</span>] = <span class="tok-s">&quot;segundo valor&quot;</span>;
<span class="tok-nv">@array</span>[<span class="tok-mi">2</span>] = <span class="tok-s">&quot;terceiro valor&quot;</span>;
<span class="tok-nv">@array</span>[<span class="tok-mi">3</span>] = <span class="tok-s">&quot;quarto valor&quot;</span>;</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="raku"><span></span><span class="tok-n">Index</span> <span class="tok-mi">3</span> <span class="tok-k">for</span> <span class="tok-n">dimension</span> <span class="tok-mi">1</span> <span class="tok-n">out</span> <span class="tok-nb">of</span> <span class="tok-nb">range</span> (<span class="tok-n">must</span> <span class="tok-n">be</span> <span class="tok-mi">0</span><span class="tok-o">..</span><span class="tok-mi">2</span>)</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_arrays_multidimensionais">3.2.2. Arrays multidimensionais</h4>
<div class="paragraph">
<p>Os arrays que vimos até agora são unidimensionais.<br>
Felizmente, podemos definir arrays multidimensionais em Raku.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="raku"><span></span><span class="tok-k">my</span> <span class="tok-nv">@tbl</span>[<span class="tok-mi">3</span>;<span class="tok-mi">2</span>];</code></pre>
</div>
</div>
<div class="paragraph">
<p>Esse array é bidimensional.
A primeira dimensão pode ter até 3 valores e a segunda dimensão até 2 valores.</p>
</div>
<div class="paragraph">
<p>Pense nele como uma matriz 3x2</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="raku"><span></span><span class="tok-k">my</span> <span class="tok-nv">@tbl</span>[<span class="tok-mi">3</span>;<span class="tok-mi">2</span>];
<span class="tok-nv">@tbl</span>[<span class="tok-mi">0</span>;<span class="tok-mi">0</span>] = <span class="tok-mi">1</span>;
<span class="tok-nv">@tbl</span>[<span class="tok-mi">0</span>;<span class="tok-mi">1</span>] = <span class="tok-s">&quot;x&quot;</span>;
<span class="tok-nv">@tbl</span>[<span class="tok-mi">1</span>;<span class="tok-mi">0</span>] = <span class="tok-mi">2</span>;
<span class="tok-nv">@tbl</span>[<span class="tok-mi">1</span>;<span class="tok-mi">1</span>] = <span class="tok-s">&quot;y&quot;</span>;
<span class="tok-nv">@tbl</span>[<span class="tok-mi">2</span>;<span class="tok-mi">0</span>] = <span class="tok-mi">3</span>;
<span class="tok-nv">@tbl</span>[<span class="tok-mi">2</span>;<span class="tok-mi">1</span>] = <span class="tok-s">&quot;z&quot;</span>;
<span class="tok-nb">say</span> <span class="tok-nv">@tbl</span></code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="raku"><span></span>[[<span class="tok-mi">1</span> <span class="tok-nb">x</span>] [<span class="tok-mi">2</span> <span class="tok-n">y</span>] [<span class="tok-mi">3</span> <span class="tok-nb">z</span>]]</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Representação visual do array:</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="raku"><span></span>[<span class="tok-mi">1</span> <span class="tok-nb">x</span>]
[<span class="tok-mi">2</span> <span class="tok-n">y</span>]
[<span class="tok-mi">3</span> <span class="tok-nb">z</span>]</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Para uma referência completa sobre Arrays, veja <a href="https://docs.raku.org/type/Array" class="bare">https://docs.raku.org/type/Array</a>
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_hashes">3.3. Hashes</h3>
<div class="listingblock">
<div class="title">Um Hash é um conjunto de pares de Chave/Valor.</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="raku"><span></span><span class="tok-k">my</span> <span class="tok-nv">%capitais</span> = (<span class="tok-s">&#39;Inglaterra&#39;</span>,<span class="tok-s">&#39;Londres&#39;</span>,<span class="tok-s">&#39;Alemanha&#39;</span>,<span class="tok-s">&#39;Berlim&#39;</span>);
<span class="tok-nb">say</span> <span class="tok-nv">%capitais</span>;</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Outra forma sucinta de popular um hash:</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="raku"><span></span><span class="tok-k">my</span> <span class="tok-nv">%capitais</span> = (<span class="tok-n">Inglaterra</span> =&gt; <span class="tok-s">&#39;Londres&#39;</span>, <span class="tok-n">Alemanha</span> =&gt; <span class="tok-s">&#39;Berlim&#39;</span>);
<span class="tok-nb">say</span> <span class="tok-nv">%capitais</span>;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Alguns métodos que podem ser chamados em hashes são:</p>
</div>
<div class="listingblock">
<div class="title"><code>Script</code></div>
<div class="content">
<pre class="pygments highlight"><code data-lang="raku"><span></span><span class="tok-k">my</span> <span class="tok-nv">%capitais</span> = (<span class="tok-n">Inglaterra</span> =&gt; <span class="tok-s">&#39;Londres&#39;</span>, <span class="tok-n">Alemanha</span> =&gt; <span class="tok-s">&#39;Berlim&#39;</span>);
<span class="tok-nv">%capitais</span>.<span class="tok-n">push:</span> (<span class="tok-n">França</span> =&gt; <span class="tok-s">&#39;Paris&#39;</span>);
<span class="tok-nb">say</span> <span class="tok-nv">%capitais</span>.<span class="tok-nb">kv</span>;
<span class="tok-nb">say</span> <span class="tok-nv">%capitais</span>.<span class="tok-nb">keys</span>;
<span class="tok-nb">say</span> <span class="tok-nv">%capitais</span>.<span class="tok-nb">values</span>;
<span class="tok-nb">say</span> <span class="tok-s">&quot;A capital da França é: &quot;</span> ~ <span class="tok-nv">%capitais&lt;França&gt;</span>;</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title"><code>Saída</code></div>
<div class="content">
<pre class="pygments highlight"><code data-lang="raku"><span></span>(<span class="tok-n">França</span> <span class="tok-n">Paris</span> <span class="tok-n">Alemanha</span> <span class="tok-n">Berlim</span> <span class="tok-n">Inglaterra</span> <span class="tok-n">Londres</span>)
(<span class="tok-n">França</span> <span class="tok-n">Alemanha</span> <span class="tok-n">Inglaterra</span>)
(<span class="tok-n">Paris</span> <span class="tok-n">Berlim</span> <span class="tok-n">Londres</span>)
<span class="tok-n">A</span> <span class="tok-n">capital</span> <span class="tok-n">da</span> <span class="tok-n">França</span> <span class="tok-n">é:</span> <span class="tok-n">Paris</span></code></pre>
</div>
</div>
<div class="paragraph">
<div class="title">Explicação</div>
<p><code>.push: (chave =&gt; 'Valor')</code> adiciona um novo par chave/valor.<br>
<code>.kv</code> retorna uma lista contendo todas as chaves e valores.<br>
<code>.keys</code> retorna uma lista contendo todas as chaves.<br>
<code>.values</code> retorna uma lista contendo todos os valores.<br>
Podemos acessar um valor específico no hash especificando sua chave <code>%hash&lt;chave&gt;</code></p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Para uma referência completa sobre Hashes, veja <a href="https://docs.raku.org/type/Hash" class="bare">https://docs.raku.org/type/Hash</a>
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_tipos">3.4. Tipos</h3>
<div class="paragraph">
<p>Nos exemplos anteriores, nós não especificamos o tipo dos valores que as variáveis devem conter.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
<code>.WHAT</code> retorna o tipo do valor contido em uma variável.
</td>
</tr>
</table>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="raku"><span></span><span class="tok-k">my</span> <span class="tok-nv">$var</span> = <span class="tok-s">&#39;Texto&#39;</span>;
<span class="tok-nb">say</span> <span class="tok-nv">$var</span>;
<span class="tok-nb">say</span> <span class="tok-nv">$var</span>.<span class="tok-nb">WHAT</span>;

<span class="tok-nv">$var</span> = <span class="tok-mi">123</span>;
<span class="tok-nb">say</span> <span class="tok-nv">$var</span>;
<span class="tok-nb">say</span> <span class="tok-nv">$var</span>.<span class="tok-nb">WHAT</span>;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Como você pode ver no exemplo acima, o tipo do valor em <code>$var</code> foi primeiro (Str) e depois (Int).</p>
</div>
<div class="paragraph">
<p>Esse estilo de programação é chamado tipagem dinâmica. Dinâmico no sentido de que as variáveis podem conter valores de qualquer tipo.</p>
</div>
<div class="paragraph">
<p>Agora tente executar o seguinte exemplo:<br>
Note o <code>Int</code> antes do nome da variável.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="raku"><span></span><span class="tok-k">my</span> <span class="tok-nb">Int</span> <span class="tok-nv">$var</span> = <span class="tok-s">&#39;Texto&#39;</span>;
<span class="tok-nb">say</span> <span class="tok-nv">$var</span>;
<span class="tok-nb">say</span> <span class="tok-nv">$var</span>.<span class="tok-nb">WHAT</span>;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Ele vai falhar e retornar a mensagem de erro: <code>Type check failed in assignment to $var; expected Int but got Str</code> (Verificação de tipo falhou em atribuição a $var; esperava Int mas recebeu Str)</p>
</div>
<div class="paragraph">
<p>O que aconteceu foi que especificamos que aquela variável deve ser do tipo (Int).
Quando tentamos atribuír uma (Str) nela, a operação falhou.</p>
</div>
<div class="paragraph">
<p>Esse estilo de programação é chamado tipagem estática. Estática no sentido de que o tipo das variáveis é definido antes das atribuições e não pode mudar.</p>
</div>
<div class="paragraph">
<p>Raku é classificado como uma linguagem com <strong>tipagem gradual</strong>; ela permite tanto tipagem <strong>estática</strong> quanto <strong>dinâmica</strong>.</p>
</div>
<div class="listingblock">
<div class="title">Arrays e hashes também podem ser tipados estaticamente:</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="raku"><span></span><span class="tok-k">my</span> <span class="tok-nb">Int</span> <span class="tok-nv">@array</span> = <span class="tok-mi">1</span>,<span class="tok-mi">2</span>,<span class="tok-mi">3</span>;
<span class="tok-nb">say</span> <span class="tok-nv">@array</span>;
<span class="tok-nb">say</span> <span class="tok-nv">@array</span>.<span class="tok-nb">WHAT</span>;

<span class="tok-k">my</span> <span class="tok-nb">Str</span> <span class="tok-nv">@multilingual</span> = <span class="tok-s">&quot;Alô&quot;</span>,<span class="tok-s">&quot;Hello&quot;</span>,<span class="tok-s">&quot;Salut&quot;</span>,<span class="tok-s">&quot;Hallo&quot;</span>,<span class="tok-s">&quot;您好&quot;</span>,<span class="tok-s">&quot;안녕하세요&quot;</span>,<span class="tok-s">&quot;こんにちは&quot;</span>;
<span class="tok-nb">say</span> <span class="tok-nv">@multilingual</span>;
<span class="tok-nb">say</span> <span class="tok-nv">@multilingual</span>.<span class="tok-nb">WHAT</span>;

<span class="tok-k">my</span> <span class="tok-nb">Str</span> <span class="tok-nv">%capitais</span> = (<span class="tok-n">Inglaterra</span> =&gt; <span class="tok-s">&#39;Londres&#39;</span>, <span class="tok-n">Alemanha</span> =&gt; <span class="tok-s">&#39;Berlim&#39;</span>);
<span class="tok-nb">say</span> <span class="tok-nv">%capitais</span>;
<span class="tok-nb">say</span> <span class="tok-nv">%capitais</span>.<span class="tok-nb">WHAT</span>;

<span class="tok-k">my</span> <span class="tok-nb">Int</span> <span class="tok-nv">%código-geográfico</span> = (<span class="tok-n">Inglaterra</span> =&gt; <span class="tok-mi">44</span>, <span class="tok-n">Alemanha</span> =&gt; <span class="tok-mi">49</span>);
<span class="tok-nb">say</span> <span class="tok-nv">%código-geográfico</span>;
<span class="tok-nb">say</span> <span class="tok-nv">%código-geográfico</span>.<span class="tok-nb">WHAT</span>;</code></pre>
</div>
</div>
<div class="paragraph">
<div class="title">A seguir uma lista dos tipos mais comuns:</div>
<p>Você provavelmente nunca usará os dois primeiros, mas eles foram listados para fins informacionais.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 14.2857%;">
<col style="width: 42.8571%;">
<col style="width: 28.5714%;">
<col style="width: 14.2858%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code><strong>Tipo</strong></code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code><strong>Descrição</strong></code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code><strong>Exemplo</strong></code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code><strong>Resultado</strong></code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>Mu</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>A raiz da hierarquia de tipos em Raku</code></p></td>
<td class="tableblock halign-left valign-middle"></td>
<td class="tableblock halign-left valign-middle"></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>Any</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>classe base padrão para novas classes e para a maioria das classes predefinidas</code></p></td>
<td class="tableblock halign-left valign-middle"></td>
<td class="tableblock halign-left valign-middle"></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>Cool</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>Valor que pode ser tratado como string ou número intercaladamente</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>my Cool $var = 31; say $var.flip; say $var * 2;</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>13 62</code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>Str</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>String de caracteres</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>my Str $var = "NEON"; say $var.flip;</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>NOEN</code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>Int</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>Inteiro (precisão arbitrária)</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>7 + 7</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>14</code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>Rat</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>Número racional (precisão limitada)</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>0.1 + 0.2</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>0.3</code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>Bool</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>Booleano</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>!True</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>False</code></p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="_introspecção">3.5. Introspecção</h3>
<div class="paragraph">
<p>Introspec&#8217;ão é o processo de obter informações sobre as propriedades de um objeto, como seu tipo.<br>
Em um dos exemplos acima usamos <code>.WHAT</code> para retornar o tipo de uma variável.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="raku"><span></span><span class="tok-k">my</span> <span class="tok-nb">Int</span> <span class="tok-nv">$var</span>;
<span class="tok-nb">say</span> <span class="tok-nv">$var</span>.<span class="tok-nb">WHAT</span>;    <span class="tok-c1"># (Int)</span>
<span class="tok-k">my</span> <span class="tok-nv">$var2</span>;
<span class="tok-nb">say</span> <span class="tok-nv">$var2</span>.<span class="tok-nb">WHAT</span>;   <span class="tok-c1"># (Any)</span>
<span class="tok-nv">$var2</span> = <span class="tok-mi">1</span>;
<span class="tok-nb">say</span> <span class="tok-nv">$var2</span>.<span class="tok-nb">WHAT</span>;   <span class="tok-c1"># (Int)</span>
<span class="tok-nv">$var2</span> = <span class="tok-s">&quot;Alô&quot;</span>;
<span class="tok-nb">say</span> <span class="tok-nv">$var2</span>.<span class="tok-nb">WHAT</span>;   <span class="tok-c1"># (Str)</span>
<span class="tok-nv">$var2</span> = <span class="tok-nb">True</span>;
<span class="tok-nb">say</span> <span class="tok-nv">$var2</span>.<span class="tok-nb">WHAT</span>;   <span class="tok-c1"># (Bool)</span>
<span class="tok-nv">$var2</span> = <span class="tok-nb">Nil</span>;
<span class="tok-nb">say</span> <span class="tok-nv">$var2</span>.<span class="tok-nb">WHAT</span>;   <span class="tok-c1"># (Any)</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>O tipo de uma variável armazenando determinado valor é correlacionado ao valor em si.<br>
O tipo de uma variável vazia fortemente declarada é o tipo com que foi declarada.<br>
O tipo de uma variável vazia que não foi fortemente declarada é <code>(Any)</code><br>
Para limpar o valor de uma variável, atribua <code>Nil</code> a ela.</p>
</div>
</div>
<div class="sect2">
<h3 id="_escopo">3.6. Escopo</h3>
<div class="paragraph">
<p>Antes de usar uma variável pela primeira vez, ela precisa ser declarada.</p>
</div>
<div class="paragraph">
<p>Há muitas formas de se declarar variáveis em Raku, e <code>my</code> é a que utilizamos até agora em todos os exemplos acima.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="raku"><span></span><span class="tok-k">my</span> <span class="tok-nv">$var</span>=<span class="tok-mi">1</span>;</code></pre>
</div>
</div>
<div class="paragraph">
<p>O declarador <code>my</code> dá à variável um escopo <strong>léxico</strong>.
Em outras palavras, a variável só será acessível no mesmo bloco em que foi declarada.</p>
</div>
<div class="paragraph">
<p>Um bloco em Raku é delimitado por <code>{ }</code>.
Se nenhum bloco é encontrado, a variável estará disponível em qualquer parte do programa Raku.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="raku"><span></span>{
  <span class="tok-k">my</span> <span class="tok-nb">Str</span> <span class="tok-nv">$var</span> = <span class="tok-s">&#39;Texto&#39;</span>;
  <span class="tok-nb">say</span> <span class="tok-nv">$var</span>; <span class="tok-c1"># está acessível</span>
}
<span class="tok-nb">say</span> <span class="tok-nv">$var</span>; <span class="tok-c1"># não está acessível, retorna erro</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Como uma variável só pode ser acessada no bloco em que é definida, outra variável com o mesmo nome pode ser definida em outro bloco.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="raku"><span></span>{
  <span class="tok-k">my</span> <span class="tok-nb">Str</span> <span class="tok-nv">$var</span> = <span class="tok-s">&#39;Texto&#39;</span>;
  <span class="tok-nb">say</span> <span class="tok-nv">$var</span>;
}
<span class="tok-k">my</span> <span class="tok-nb">Int</span> <span class="tok-nv">$var</span> = <span class="tok-mi">123</span>;
<span class="tok-nb">say</span> <span class="tok-nv">$var</span>;</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_atribuição_x_vinculação_binding">3.7. Atribuição x Vinculação (Binding)</h3>
<div class="paragraph">
<p>Vimos nos exemplos anteriores como <strong>atribuir</strong> valores a variáveis.<br>
<strong>Atribuições</strong> são feitas usando o operador <code>=</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="raku"><span></span><span class="tok-k">my</span> <span class="tok-nb">Int</span> <span class="tok-nv">$var</span> = <span class="tok-mi">123</span>;
<span class="tok-nb">say</span> <span class="tok-nv">$var</span>;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Podemos mudar o valor atribuido a uma variável:</p>
</div>
<div class="listingblock">
<div class="title">Atribuição</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="raku"><span></span><span class="tok-k">my</span> <span class="tok-nb">Int</span> <span class="tok-nv">$var</span> = <span class="tok-mi">123</span>;
<span class="tok-nb">say</span> <span class="tok-nv">$var</span>;
<span class="tok-nv">$var</span> = <span class="tok-mi">999</span>;
<span class="tok-nb">say</span> <span class="tok-nv">$var</span>;</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title"><code>Saída</code></div>
<div class="content">
<pre class="pygments highlight"><code data-lang="raku"><span></span><span class="tok-mi">123</span>
<span class="tok-mi">999</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Por outro lado, não podemos mudar valores <strong>vinculados</strong> a uma variável.<br>
<strong>Vinculação</strong> (ou "Binding") é feito usando o operador <code>:=</code>.</p>
</div>
<div class="listingblock">
<div class="title">Binding</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="raku"><span></span><span class="tok-k">my</span> <span class="tok-nb">Int</span> <span class="tok-nv">$var</span> := <span class="tok-mi">123</span>;
<span class="tok-nb">say</span> <span class="tok-nv">$var</span>;
<span class="tok-nv">$var</span> = <span class="tok-mi">999</span>;
<span class="tok-nb">say</span> <span class="tok-nv">$var</span>;</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title"><code>Saída</code></div>
<div class="content">
<pre class="pygments highlight"><code data-lang="raku"><span></span><span class="tok-mi">123</span>
<span class="tok-n">Cannot</span> <span class="tok-n">assign</span> <span class="tok-nb">to</span> <span class="tok-n">an</span> <span class="tok-n">immutable</span> <span class="tok-nb">value</span></code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Variáveis também podem ser vinculadas a outras variáveis:</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="raku"><span></span><span class="tok-k">my</span> <span class="tok-nv">$a</span>;
<span class="tok-k">my</span> <span class="tok-nv">$b</span>;
<span class="tok-nv">$b</span> := <span class="tok-nv">$a</span>;
<span class="tok-nv">$a</span> = <span class="tok-mi">7</span>;
<span class="tok-nb">say</span> <span class="tok-nv">$b</span>;
<span class="tok-nv">$b</span> = <span class="tok-mi">8</span>;
<span class="tok-nb">say</span> <span class="tok-nv">$a</span>;</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title"><code>Saída</code></div>
<div class="content">
<pre class="pygments highlight"><code data-lang="raku"><span></span><span class="tok-mi">7</span>
<span class="tok-mi">8</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Vinculação de variáveis, como você já percebeu, é bidirecional.<br>
<code>$a := $b</code> e <code>$b := $a</code> têm o mesmo efeito.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Para mais informações sobre variáveis, veja <a href="https://docs.raku.org/language/variables" class="bare">https://docs.raku.org/language/variables</a>
</td>
</tr>
</table>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_funções_e_modificadores_mutators">4. Funções e modificadores (mutators)</h2>
<div class="sectionbody">
<div class="paragraph">
<p>É importante diferenciar funções de modificadores.<br>
Funções não mudam o estado inicial do objeto onde foram chamadas.<br>
Já modificadores mudam o estado de um objeto ao serem invocados.</p>
</div>
<div class="listingblock">
<div class="title"><code>Script</code></div>
<div class="content">
<pre class="pygments highlight"><code data-lang="raku"><div class="lineno"><table class="linenotable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span></pre></div></td><td class="code"><div><pre><span></span><span class="tok-k">my</span> <span class="tok-nv">@números</span> = [<span class="tok-mi">7</span>,<span class="tok-mi">2</span>,<span class="tok-mi">4</span>,<span class="tok-mi">9</span>,<span class="tok-mi">11</span>,<span class="tok-mi">3</span>];

<span class="tok-nv">@números</span>.<span class="tok-nb">push</span>(<span class="tok-mi">99</span>);
<span class="tok-nb">say</span> <span class="tok-nv">@números</span>;      <span class="tok-c1">#1</span>

<span class="tok-nb">say</span> <span class="tok-nv">@números</span>.<span class="tok-nb">sort</span>; <span class="tok-c1">#2</span>
<span class="tok-nb">say</span> <span class="tok-nv">@números</span>;      <span class="tok-c1">#3</span>

<span class="tok-nv">@números</span>.=<span class="tok-nb">sort</span>;
<span class="tok-nb">say</span> <span class="tok-nv">@números</span>;      <span class="tok-c1">#4</span>
</pre></div></td></tr></table></div></code></pre>
</div>
</div>
<div class="listingblock">
<div class="title"><code>Saída</code></div>
<div class="content">
<pre class="pygments highlight"><code data-lang="raku"><span></span>[<span class="tok-mi">7</span> <span class="tok-mi">2</span> <span class="tok-mi">4</span> <span class="tok-mi">9</span> <span class="tok-mi">11</span> <span class="tok-mi">3</span> <span class="tok-mi">99</span>] <span class="tok-c1">#1</span>
(<span class="tok-mi">2</span> <span class="tok-mi">3</span> <span class="tok-mi">4</span> <span class="tok-mi">7</span> <span class="tok-mi">9</span> <span class="tok-mi">11</span> <span class="tok-mi">99</span>) <span class="tok-c1">#2</span>
[<span class="tok-mi">7</span> <span class="tok-mi">2</span> <span class="tok-mi">4</span> <span class="tok-mi">9</span> <span class="tok-mi">11</span> <span class="tok-mi">3</span> <span class="tok-mi">99</span>] <span class="tok-c1">#3</span>
[<span class="tok-mi">2</span> <span class="tok-mi">3</span> <span class="tok-mi">4</span> <span class="tok-mi">7</span> <span class="tok-mi">9</span> <span class="tok-mi">11</span> <span class="tok-mi">99</span>] <span class="tok-c1">#4</span></code></pre>
</div>
</div>
<div class="paragraph">
<div class="title">Explicação</div>
<p><code>.push</code> é um mutator, ele modifica o estado do array (#1)</p>
</div>
<div class="paragraph">
<p><code>.sort</code> é uma função, ela retorna uma lista ordenada mas não modifica o estado do array inicial:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>(#2) mostra que retornou um array ordenado.</p>
</li>
<li>
<p>(#3) mostra que o array inicial não foi modificado.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Para forçar uma função a agir como um modificador, usamos <code>.=</code> em vez de <code>.</code> (#4) (Linha 9 do script)</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_laços_loops_e_condicionais">5. Laços (loops) e condicionais</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Raku possui uma série de construções para loops e condicionais.</p>
</div>
<div class="sect2">
<h3 id="_if">5.1. if</h3>
<div class="paragraph">
<p>O código é executado somente se a condição foi atingida, ou em outras palavras se a expressão retornar <code>True</code> (verdadeiro).</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="raku"><span></span><span class="tok-k">my</span> <span class="tok-nv">$idade</span> = <span class="tok-mi">19</span>;

<span class="tok-k">if</span> <span class="tok-nv">$idade</span> &gt; <span class="tok-mi">18</span> {
  <span class="tok-nb">say</span> <span class="tok-s">&#39;Bem-vinda&#39;</span>
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Em Raku podemos inverter o código e a condição.<br>
Mesmo se o código e a condição estiverem invertidos, a condição é sempre avaliada antes.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="raku"><span></span><span class="tok-k">my</span> <span class="tok-nv">$idade</span> = <span class="tok-mi">19</span>;

<span class="tok-nb">say</span> <span class="tok-s">&#39;Bem-vinda&#39;</span> <span class="tok-k">if</span> <span class="tok-nv">$idade</span> &gt; <span class="tok-mi">18</span>;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Se a condição não foi atingida, podemos especificar blocos com alternativas usando:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>else</code></p>
</li>
<li>
<p><code>elsif</code></p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="raku"><span></span><span class="tok-c1"># experimente executar o mesmo código para diferentes valores da variável</span>
<span class="tok-k">my</span> <span class="tok-nv">$número-de-assentos</span> = <span class="tok-mi">9</span>;

<span class="tok-k">if</span> <span class="tok-nv">$número-de-assentos</span> &lt;= <span class="tok-mi">5</span> {
  <span class="tok-nb">say</span> <span class="tok-s">&#39;Sou um sedã&#39;</span>
} <span class="tok-k">elsif</span> <span class="tok-nv">$número-de-assentos</span> &lt;= <span class="tok-mi">7</span> {
  <span class="tok-nb">say</span> <span class="tok-s">&#39;Sou um carro de 7 lugares&#39;</span>
} <span class="tok-k">else</span> {
  <span class="tok-nb">say</span> <span class="tok-s">&#39;Sou uma van&#39;</span>
}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_unless">5.2. unless</h3>
<div class="paragraph">
<p>A negação de um if pode ser escrita usando <code>unless</code>.</p>
</div>
<div class="paragraph">
<p>O código a seguir:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="raku"><span></span><span class="tok-k">my</span> <span class="tok-nv">$sapatos-limpos</span> = <span class="tok-nb">False</span>;

<span class="tok-k">if</span> <span class="tok-nb">not</span> <span class="tok-nv">$sapatos-limpos</span> {
  <span class="tok-nb">say</span> <span class="tok-s">&#39;Limpe seus sapatos&#39;</span>
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>pode ser escrito como:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="raku"><span></span><span class="tok-k">my</span> <span class="tok-nv">$sapatos-limpos</span> = <span class="tok-nb">False</span>;

<span class="tok-k">unless</span> <span class="tok-nv">$sapatos-limpos</span> {
  <span class="tok-nb">say</span> <span class="tok-s">&#39;Limpe seus sapatos&#39;</span>
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Negação em Raku é feita usando <code>!</code> ou <code>not</code>.</p>
</div>
<div class="paragraph">
<p><code>unless (condição)</code> é usado em vez de <code>if not (condição)</code>.</p>
</div>
<div class="paragraph">
<p><code>unless</code> não pode ter bloco de <code>else</code>.</p>
</div>
</div>
<div class="sect2">
<h3 id="_with">5.3. with</h3>
<div class="paragraph">
<p><code>with</code> funciona como um <code>if</code>, mas verifica se a variável está definida.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="raku"><span></span><span class="tok-k">my</span> <span class="tok-nb">Int</span> <span class="tok-nv">$var</span>=<span class="tok-mi">1</span>;

<span class="tok-k">with</span> <span class="tok-nv">$var</span> {
  <span class="tok-nb">say</span> <span class="tok-s">&#39;Alô&#39;</span>
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Se você executar o código acima sem atribuir um valor para a variável, o bloco não será executado.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="raku"><span></span><span class="tok-k">my</span> <span class="tok-nb">Int</span> <span class="tok-nv">$var</span>;

<span class="tok-k">with</span> <span class="tok-nv">$var</span> {
  <span class="tok-nb">say</span> <span class="tok-s">&#39;Alô&#39;</span>
}</code></pre>
</div>
</div>
<div class="paragraph">
<p><code>without</code> é a versão negada de <code>with</code>. É como a relação do <code>if</code> com o <code>unless</code>.</p>
</div>
<div class="paragraph">
<p>Se a primeira condição de um <code>with</code> não for atingida, uma alternativa pode ser especificada usando <code>orwith</code>.<br>
<code>with</code> e <code>orwith</code> podem ser comparadas a <code>if</code> e <code>elsif</code>.</p>
</div>
</div>
<div class="sect2">
<h3 id="_for">5.4. for</h3>
<div class="paragraph">
<p>O laço <code>for</code> itera sobre vários valores.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="raku"><span></span><span class="tok-k">my</span> <span class="tok-nv">@array</span> = [<span class="tok-mi">1</span>,<span class="tok-mi">2</span>,<span class="tok-mi">3</span>];

<span class="tok-k">for</span> <span class="tok-nv">@array</span> -&gt; <span class="tok-nv">$item</span> {
  <span class="tok-nb">say</span> <span class="tok-nv">$item</span> * <span class="tok-mi">100</span>
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Note que criamos uma variável de iteração <code>$item</code> para realizar a operação <code>*100</code> em cada item do array.</p>
</div>
</div>
<div class="sect2">
<h3 id="_given">5.5. given</h3>
<div class="paragraph">
<p><code>given</code> é o equivalente em Raku da função "switch" de outras linguagens.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="raku"><span></span><span class="tok-k">my</span> <span class="tok-nv">$var</span> = <span class="tok-mi">42</span>;

<span class="tok-k">given</span> <span class="tok-nv">$var</span> {
    <span class="tok-k">when</span> <span class="tok-mi">0</span><span class="tok-o">..</span><span class="tok-mi">50</span> { <span class="tok-nb">say</span> <span class="tok-s">&#39;Menor ou igual a 50&#39;</span>}
    <span class="tok-k">when</span> <span class="tok-nb">Int</span> { <span class="tok-nb">say</span> <span class="tok-s">&quot;é um Int&quot;</span> }
    <span class="tok-k">when</span> <span class="tok-mi">42</span>  { <span class="tok-nb">say</span> <span class="tok-mi">42</span> }
    <span class="tok-k">default</span>  { <span class="tok-nb">say</span> <span class="tok-s">&quot;oi?&quot;</span> }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Ao casar com uma condição, ele para de testar as outras condições.</p>
</div>
<div class="paragraph">
<p>Como alternativa, usar <code>proceed</code> vai instruir o Raku a continuar tentando casar com outras condições mesmo após a execução da condição atual.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="raku"><span></span><span class="tok-k">my</span> <span class="tok-nv">$var</span> = <span class="tok-mi">42</span>;

<span class="tok-k">given</span> <span class="tok-nv">$var</span> {
    <span class="tok-k">when</span> <span class="tok-mi">0</span><span class="tok-o">..</span><span class="tok-mi">50</span> { <span class="tok-nb">say</span> <span class="tok-s">&#39;Menor ou igual a 50&#39;</span>;<span class="tok-k">proceed</span>}
    <span class="tok-k">when</span> <span class="tok-nb">Int</span> { <span class="tok-nb">say</span> <span class="tok-s">&quot;é um Int&quot;</span>;<span class="tok-k">proceed</span>}
    <span class="tok-k">when</span> <span class="tok-mi">42</span>  { <span class="tok-nb">say</span> <span class="tok-mi">42</span> }
    <span class="tok-k">default</span>  { <span class="tok-nb">say</span> <span class="tok-s">&quot;huh?&quot;</span> }
}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_loop">5.6. loop</h3>
<div class="paragraph">
<p><code>loop</code> é uma outra forma de fazer um laço do tipo <code>for</code>.</p>
</div>
<div class="paragraph">
<p>De fato, <code>loop</code> é como o <code>for</code> é escrito em linguagens da família do C.</p>
</div>
<div class="paragraph">
<p>Raku pertence à família de linguagens como C.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="raku"><span></span><span class="tok-k">loop</span> (<span class="tok-k">my</span> <span class="tok-nv">$i</span> = <span class="tok-mi">0</span>; <span class="tok-nv">$i</span> &lt; <span class="tok-mi">5</span>; <span class="tok-nv">$i</span>++) {
  <span class="tok-nb">say</span> <span class="tok-s">&quot;O valor atual é $i&quot;</span>
}</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Para mais informações sobre laços e condicionais, veja <a href="https://docs.raku.org/language/control" class="bare">https://docs.raku.org/language/control</a>
</td>
</tr>
</table>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_io">6. I/O</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Em Raku, as duas interfaces mais comuns para <em>Entrada/Saída</em> (<em>Input/Output</em> ou simplesmente I/O) são o <em>Terminal</em> e <em>Arquivos</em>.</p>
</div>
<div class="sect2">
<h3 id="_io_básica_usando_o_terminal">6.1. I/O básica usando o Terminal</h3>
<div class="sect3">
<h4 id="_say">6.1.1. say</h4>
<div class="paragraph">
<p><code>say</code> escreve na saída padrão, adicionando uma quebra de linha no final. Em outras palavras, a saída do código:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="raku"><span></span><span class="tok-nb">say</span> <span class="tok-s">&#39;Olá Senhora.&#39;</span>;
<span class="tok-nb">say</span> <span class="tok-s">&#39;Olá Senhor.&#39;</span>;</code></pre>
</div>
</div>
<div class="paragraph">
<p>será escrita em 2 linhas separadas.</p>
</div>
</div>
<div class="sect3">
<h4 id="_print">6.1.2. print</h4>
<div class="paragraph">
<p><code>print</code> por outro lado é como o <code>say</code> mas não adiciona a quebra de linha.</p>
</div>
<div class="paragraph">
<p>Experimente trocar <code>say</code> por <code>print</code> no programa acima e compare os dois resultados.</p>
</div>
</div>
<div class="sect3">
<h4 id="_get">6.1.3. get</h4>
<div class="paragraph">
<p><code>get</code> é usado para capturar a entrada do terminal.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="raku"><span></span><span class="tok-k">my</span> <span class="tok-nv">$nome</span>;

<span class="tok-nb">say</span> <span class="tok-s">&quot;Oi, qual o seu nome?&quot;</span>;
<span class="tok-nv">$name</span> = <span class="tok-nb">get</span>;

<span class="tok-nb">say</span> <span class="tok-s">&quot;Prezado(a) $name bem-vindo(a) ao Raku&quot;</span>;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Quando o código acima for executado, o terminal vai ficar esperando para que você coloque seu nome e aperte a tecla [Enter].
Depois disso, ele vai te cumprimentar.</p>
</div>
</div>
<div class="sect3">
<h4 id="_prompt">6.1.4. prompt</h4>
<div class="paragraph">
<p><code>prompt</code> é uma combinação de <code>print</code> e <code>get</code>.</p>
</div>
<div class="paragraph">
<p>O exemplo acima pode ser escrito assim:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="raku"><span></span><span class="tok-k">my</span> <span class="tok-nv">$name</span> = <span class="tok-nb">prompt</span> <span class="tok-s">&quot;Oi, qual o seu nome? &quot;</span>;

<span class="tok-nb">say</span> <span class="tok-s">&quot;Prezado(a) $name bem-vindo(a) ao Raku&quot;</span>;</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_executando_comandos_externos">6.2. Executando Comandos Externos</h3>
<div class="paragraph">
<p>Duas sub-rotinas podem ser usadas para executar comandos externos:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>run</code> Executa um comando externo sem envolver a shell</p>
</li>
<li>
<p><code>shell</code> Executa o comando pela shell do sistema. Depende, portanto, da plataforma e da shell utilizada.
Todos os metacaracteres da shell serão interpretados pela própria shell, incluindo pipes, redirecionamentos, substituições de variáveis de ambiente e assim por diante.</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="title">Execute isso se estiver usando Linux ou OSX</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="raku"><span></span><span class="tok-k">my</span> <span class="tok-nv">$name</span> = <span class="tok-s">&#39;Neo&#39;</span>;
<span class="tok-nb">run</span> <span class="tok-s">&#39;echo&#39;</span>, <span class="tok-s">&quot;olá $name&quot;</span>;
<span class="tok-nb">shell</span> <span class="tok-s">&quot;ls&quot;</span>;</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Execute isso se estiver no Windows</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="raku"><span></span><span class="tok-nb">shell</span> <span class="tok-s">&quot;dir&quot;</span>;</code></pre>
</div>
</div>
<div class="paragraph">
<p><code>echo</code> e <code>ls</code> são palavras chave comuns de shell em Linux.<br>
<code>echo</code> exibe texto no terminal (equivalente ao <code>print</code> no Raku)<br>
<code>ls</code> lista todos os arquivos e diretórios no diretório atual</p>
</div>
<div class="paragraph">
<p><code>dir</code> é o equivalente a <code>ls</code> no Windows.</p>
</div>
</div>
<div class="sect2">
<h3 id="_io_de_arquivos">6.3. I/O de Arquivos</h3>
<div class="sect3">
<h4 id="_slurp">6.3.1. slurp</h4>
<div class="paragraph">
<p><code>slurp</code> é usado para ler dados de arquivos.</p>
</div>
<div class="paragraph">
<p>Crie um arquivo de texto com o seguinte conteúdo:</p>
</div>
<div class="listingblock">
<div class="title">resultados.txt</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="raku"><span></span><span class="tok-n">João</span> <span class="tok-mi">9</span>
<span class="tok-n">José</span> <span class="tok-mi">7</span>
<span class="tok-n">Joana</span> <span class="tok-mi">8</span>
<span class="tok-n">Maria</span> <span class="tok-mi">7</span></code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="raku"><span></span><span class="tok-k">my</span> <span class="tok-nv">$data</span> = <span class="tok-nb">slurp</span> <span class="tok-s">&quot;resultados.txt&quot;</span>;
<span class="tok-nb">say</span> <span class="tok-nv">$data</span>;</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_spurt">6.3.2. spurt</h4>
<div class="paragraph">
<p><code>spurt</code> é usado para escrever dados em arquivos.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="raku"><span></span><span class="tok-k">my</span> <span class="tok-nv">$novos-dados</span> = <span class="tok-s">&quot;Novos resultados:</span>
<span class="tok-s">Paulo 10</span>
<span class="tok-s">Paulinho 9</span>
<span class="tok-s">Paulão 11&quot;</span>;

<span class="tok-nb">spurt</span> <span class="tok-s">&quot;novosresultados.txt&quot;</span>, <span class="tok-nv">$novos-dados</span>;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Após executar o código acima, um arquivo chamado <em>novosresultados.txt</em> será criado. Ele vai conter os novos resultados.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_trabalhando_com_arquivos_e_diretórios">6.4. Trabalhando com arquivos e diretórios</h3>
<div class="paragraph">
<p>Raku pode listar o conteúdo de um diretório sem precisar executar comandos da shell (usando <code>ls</code>) como visto em um exemplo anterior.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="raku"><span></span><span class="tok-nb">say</span> <span class="tok-nb">dir</span>;              <span class="tok-c1"># Lista arquivos e diretórios no diretório atual</span>
<span class="tok-nb">say</span> <span class="tok-nb">dir</span> <span class="tok-s">&quot;/Documents&quot;</span>; <span class="tok-c1"># Lista arquivos e diretórios no diretório especificado</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Você também pode criar e apagar diretórios.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="raku"><span></span><span class="tok-nb">mkdir</span> <span class="tok-s">&quot;novapasta&quot;</span>;
<span class="tok-nb">rmdir</span> <span class="tok-s">&quot;novapasta&quot;</span>;</code></pre>
</div>
</div>
<div class="paragraph">
<p><code>mkdir</code> cria um novo diretório.<br>
<code>rmdir</code> remove um diretório vazio. Retorna erro se não estiver vazio.</p>
</div>
<div class="paragraph">
<p>Você também pode verificar se um determinado caminho existe, se é um arquivo ou um diretório:</p>
</div>
<div class="paragraph">
<p>No diretório onde você vai executar o script abaixo, crie um diretório vazio <code>pasta123</code> e um arquivo vazio <code>script123.raku</code></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="raku"><span></span><span class="tok-nb">say</span> <span class="tok-s">&quot;script123.raku&quot;</span>.<span class="tok-nb">IO</span>.<span class="tok-nb">e</span>;
<span class="tok-nb">say</span> <span class="tok-s">&quot;folder123&quot;</span>.<span class="tok-nb">IO</span>.<span class="tok-nb">e</span>;

<span class="tok-nb">say</span> <span class="tok-s">&quot;script123.raku&quot;</span>.<span class="tok-nb">IO</span>.<span class="tok-nb">d</span>;
<span class="tok-nb">say</span> <span class="tok-s">&quot;folder123&quot;</span>.<span class="tok-nb">IO</span>.<span class="tok-nb">d</span>;

<span class="tok-nb">say</span> <span class="tok-s">&quot;script123.raku&quot;</span>.<span class="tok-nb">IO</span>.<span class="tok-nb">f</span>;
<span class="tok-nb">say</span> <span class="tok-s">&quot;folder123&quot;</span>.<span class="tok-nb">IO</span>.<span class="tok-nb">f</span>;</code></pre>
</div>
</div>
<div class="paragraph">
<p><code>IO.e</code> verifica se o diretório/arquivo existe.<br>
<code>IO.f</code> verifica se o caminho é um arquivo.<br>
<code>IO.d</code> verifica se o caminho é um diretório.</p>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
Usuários de Windows podem usar <code>/</code> ou <code>\\</code> para definir diretórios.<br>
<code>C:\\rakudo\\bin</code><br>
<code>C:/rakudo/bin</code><br>
</td>
</tr>
</table>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Para mais informação sobre I/O, veja <a href="https://docs.raku.org/type/IO" class="bare">https://docs.raku.org/type/IO</a>
</td>
</tr>
</table>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_sub_rotinas">7. Sub-rotinas</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_definição">7.1. Definição</h3>
<div class="paragraph">
<p><strong>Sub-rotinas</strong> (também chamadas de <strong>subs</strong> ou <strong>funções</strong>) são formas de agrupar um conjunto de funcionalidades.<br></p>
</div>
<div class="paragraph">
<p>A definição de uma sub-rotina começa com a palavra-chave <code>sub</code>. Após sua definição, elas podem ser chamadas pelo nome.<br>
Veja o exemplo abaixo:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="raku"><span></span><span class="tok-k">sub</span> <span class="tok-n">saudação-alienígena</span> {
  <span class="tok-nb">say</span> <span class="tok-s">&quot;Olá, terráqueos&quot;</span>;
}

<span class="tok-n">saudação-alienígena</span>;</code></pre>
</div>
</div>
<div class="paragraph">
<p>O exemplo anterior mostra uma sub-rotina que não recebe nenhum dado de entrada.</p>
</div>
</div>
<div class="sect2">
<h3 id="_assinaturas">7.2. Assinaturas</h3>
<div class="paragraph">
<p>Muitas sub-rotinas pedem alguma entrada para funcionar. Essa entrada é fornecida via <strong>argumentos</strong>.
O número e tipo de argumentos que essa sub-rotina aceita é chamada de <strong>assinatura</strong> da sub-rotina.</p>
</div>
<div class="paragraph">
<p>A sub-rotina abaixo aceita uma string como argumento.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="raku"><span></span><span class="tok-k">sub</span> <span class="tok-n">diga-oi</span> (<span class="tok-nb">Str</span> <span class="tok-nv">$nome</span>) {
    <span class="tok-nb">say</span> <span class="tok-s">&quot;Oi &quot;</span> ~ <span class="tok-nv">$nome</span> ~ <span class="tok-s">&quot;!!!!&quot;</span>
}
<span class="tok-n">diga-oi</span> <span class="tok-s">&quot;Paulo&quot;</span>;
<span class="tok-n">diga-oi</span> <span class="tok-s">&quot;Paula&quot;</span>;</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_despacho_múltiplo_multimétodos">7.3. Despacho Múltiplo (Multimétodos)</h3>
<div class="paragraph">
<p>É possível definir várias sub-rotinas com o mesmo nome mas com assinaturas diferentes.
Quando a sub-rotina é chamada, o ambiente de execução vai decidir qual versão usar dependendo do número e do tipo dos argumentos fornecidos.
Esse tipo de subrotina é definido exatamente como uma sub normal, apenas trocando a palavra <code>sub</code> por <code>multi</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="raku"><span></span><span class="tok-k">multi</span> <span class="tok-n">cumprimento</span>(<span class="tok-nv">$nome</span>) {
    <span class="tok-nb">say</span> <span class="tok-s">&quot;Bom dia $nome&quot;</span>;
}
<span class="tok-k">multi</span> <span class="tok-n">cumprimento</span>(<span class="tok-nv">$nome</span>, <span class="tok-nv">$título</span>) {
    <span class="tok-nb">say</span> <span class="tok-s">&quot;Bom dia $título $nome&quot;</span>;
}

<span class="tok-n">cumprimento</span> <span class="tok-s">&quot;João&quot;</span>;
<span class="tok-n">cumprimento</span> <span class="tok-s">&quot;Laura&quot;</span>,<span class="tok-s">&quot;Sra.&quot;</span>;</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_argumentos_padrão_e_opcionais">7.4. Argumentos Padrão e Opcionais</h3>
<div class="paragraph">
<p>Se uma sub-rotina é definida para aceitar um argumento, e fazemos a chamada sem fornecer o argumento, ela falha.</p>
</div>
<div class="paragraph">
<p>Como alternativa, o Raku nos dá a possibilidade de definir sub-rotinas com:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Argumentos opcionais</p>
</li>
<li>
<p>Argumentos padrão</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Argumentos opcionais são definidos colocando <code>?</code> no final do nome do argumento.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="raku"><span></span><span class="tok-k">sub</span> <span class="tok-n">diga-oi</span>(<span class="tok-nv">$nome</span>?) {
  <span class="tok-k">with</span> <span class="tok-nv">$nome</span> { <span class="tok-nb">say</span> <span class="tok-s">&quot;Oi &quot;</span> ~ <span class="tok-nv">$nome</span> }
  <span class="tok-k">else</span> { <span class="tok-nb">say</span> <span class="tok-s">&quot;Oi humano&quot;</span> }
}
<span class="tok-n">diga-oi</span>;
<span class="tok-n">diga-oi</span>(<span class="tok-s">&quot;Laura&quot;</span>);</code></pre>
</div>
</div>
<div class="paragraph">
<p>Se o usuário não fornece o argumento, ele pode ser definido com um valor padrão específico.<br>
Isso é feito atribuindo um valor ao argumento durante a definição da sub-rotina.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="raku"><span></span><span class="tok-k">sub</span> <span class="tok-n">diga-oi</span>(<span class="tok-nv">$nome</span>=<span class="tok-s">&quot;Miguel&quot;</span>) {
  <span class="tok-nb">say</span> <span class="tok-s">&quot;Oi &quot;</span> ~ <span class="tok-nv">$nome</span>;
}
<span class="tok-n">diga-oi</span>;
<span class="tok-n">diga-oi</span>(<span class="tok-s">&quot;Laura&quot;</span>);</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_valores_de_retorno">7.5. Valores de Retorno</h3>
<div class="paragraph">
<p>Todas as sub-rotinas que vimos até agora <strong>fazem alguma coisa</strong>, elas exibem algum texto no terminal.</p>
</div>
<div class="paragraph">
<p>Embora isso seja perfeitamente normal, às vezes queremos que a sub-rotina <strong>retorne</strong> um valor que possamos usar mais tarde no fluxo do nosso programa.</p>
</div>
<div class="paragraph">
<p>Em circunstâncias normais, a última linha de código de uma sub-rotina é considerada seu valor de retorno.</p>
</div>
<div class="listingblock">
<div class="title">Retorno implícito</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="raku"><span></span><span class="tok-k">sub</span> <span class="tok-n">ao-quadrado</span> (<span class="tok-nv">$x</span>) {
  <span class="tok-nv">$x</span> ** <span class="tok-mi">2</span>;
}
<span class="tok-nb">say</span> <span class="tok-s">&quot;7 ao quadrado é &quot;</span> ~ <span class="tok-n">ao-quadrado</span>(<span class="tok-mi">7</span>);</code></pre>
</div>
</div>
<div class="paragraph">
<p>A medida que nosso código vai ficando maior, pode ser uma boa ideia especificar <em>explicitamente</em> o que queremos retornar.
Isso pode ser feito usando a palavra-chave <code>return</code>.</p>
</div>
<div class="listingblock">
<div class="title">Retorno explícito</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="raku"><span></span><span class="tok-k">sub</span> <span class="tok-n">ao-quadrado</span> (<span class="tok-nv">$x</span>) {
  <span class="tok-k">return</span> <span class="tok-nv">$x</span> ** <span class="tok-mi">2</span>;
}
<span class="tok-nb">say</span> <span class="tok-s">&quot;7 ao quadrao é &quot;</span> ~ <span class="tok-n">ao-quadrado</span>(<span class="tok-mi">7</span>);</code></pre>
</div>
</div>
<div class="sect3">
<h4 id="_restringindo_valores_de_retorno">7.5.1. Restringindo valores de retorno</h4>
<div class="paragraph">
<p>Em um dos nossos exemplos anteriores, vimos como podemos aceitar somente argumentos de determinados tipos.
O mesmo pode ser feito com valores de retorno.</p>
</div>
<div class="paragraph">
<p>Para restringir o valor de retorno para um tipo específico, podemos usar tanto o atributo <code>returns</code> ou a notação de seta <code>--&gt;</code> na assinatura.</p>
</div>
<div class="listingblock">
<div class="title">Usando o atributo returns</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="raku"><span></span><span class="tok-k">sub</span> <span class="tok-n">ao-quadrado</span> (<span class="tok-nv">$x</span>) <span class="tok-k">returns</span> <span class="tok-nb">Int</span> {
  <span class="tok-k">return</span> <span class="tok-nv">$x</span> ** <span class="tok-mi">2</span>;
}
<span class="tok-nb">say</span> <span class="tok-s">&quot;1.2 ao quadrado é &quot;</span> ~ <span class="tok-n">ao-quadrado</span>(<span class="tok-mf">1.2</span>);</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Usando a seta</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="raku"><span></span><span class="tok-k">sub</span> <span class="tok-n">ao-quadrado</span> (<span class="tok-nv">$x</span> --&gt; <span class="tok-nb">Int</span>) {
  <span class="tok-k">return</span> <span class="tok-nv">$x</span> ** <span class="tok-mi">2</span>;
}
<span class="tok-nb">say</span> <span class="tok-s">&quot;1.2 ao quadrado é &quot;</span> ~ <span class="tok-n">ao-quadrado</span>(<span class="tok-mf">1.2</span>);</code></pre>
</div>
</div>
<div class="paragraph">
<p>Se o valor retornado não casar com o tipo especificado, um erro será lançado.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="raku"><span></span><span class="tok-n">Type</span> <span class="tok-n">check</span> <span class="tok-n">failed</span> <span class="tok-k">for</span> <span class="tok-k">return</span> <span class="tok-nb">value</span>; <span class="tok-nb">expected</span> <span class="tok-nb">Int</span> <span class="tok-k">but</span> <span class="tok-nb">got</span> <span class="tok-nb">Rat</span> (<span class="tok-mf">1.44</span>)</code></pre>
</div>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Restrições de tipo podem não só controlar o tipo dos valores de retorno, como também se o valor está definido ou não.</p>
</div>
<div class="paragraph">
<p>Nos exemplos anteriores, especificamos que o valor de retorno deve ser <code>Int</code>, independente de ser um valor definido ou não.
Em vez disso, poderíamos ter especificado que o <code>Int</code> retornado precisa ser definido ou indefinido usando as seguintes assinaturas:<br>
<code>-&#8594; Int:D</code> e <code>-&#8594; Int:U</code></p>
</div>
<div class="paragraph">
<p>Dito isso, é considerada boa prática usar esse tipo de restrição.<br>
Abaixo segue a versão modificada dos exemplos anteriores usando <code>:D</code> para forçar o <code>Int</code> retornado a estar definido.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="raku"><span></span><span class="tok-k">sub</span> <span class="tok-n">ao-quadrado</span> (<span class="tok-nv">$x</span> --&gt; <span class="tok-nb">Int:D</span>) {
  <span class="tok-k">return</span> <span class="tok-nv">$x</span> ** <span class="tok-mi">2</span>;
}
<span class="tok-nb">say</span> <span class="tok-s">&quot;1.2 ao quadrado é &quot;</span> ~ <span class="tok-n">ao-quadrado</span>(<span class="tok-mf">1.2</span>);</code></pre>
</div>
</div>
</td>
</tr>
</table>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Para mais informações sobre sub-rotinas e funções, veja <a href="http://doc.raku.org/language/functions" class="bare">http://doc.raku.org/language/functions</a>
</td>
</tr>
</table>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_programação_funcional">8. Programação Funcional</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Nesse capítulo vamos olhar para algumas das funcionalidades que facilitam Programação Funcional.</p>
</div>
<div class="sect2">
<h3 id="_funções_são_cidadãs_de_primeira_classe">8.1. Funções são cidadãs de primeira classe</h3>
<div class="paragraph">
<p>Funções e sub-rotinas são cidadãs de primeira classe:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Elas podem ser passadas como argumento</p>
</li>
<li>
<p>Elas podem ser retornadas por outra função</p>
</li>
<li>
<p>Elas podem ser atribuídas a uma variável</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Um bom exemplo para demonstrar esse conceito é a função <code>map</code>.<br>
<code>map</code> é uma <strong>função de ordem superior</strong> (higher-order function), que recebe outra função como argumento.</p>
</div>
<div class="listingblock">
<div class="title">Script</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="raku"><span></span><span class="tok-k">my</span> <span class="tok-nv">@array</span> = <span class="tok-s">&lt;1 2 3 4 5&gt;</span>;
<span class="tok-k">sub</span> <span class="tok-n">ao-quadrado</span>(<span class="tok-nv">$x</span>) {
  <span class="tok-nv">$x</span> ** <span class="tok-mi">2</span>
}
<span class="tok-nb">say</span> <span class="tok-n">map</span>(<span class="tok-nv">&amp;ao-quadrado</span>,<span class="tok-nv">@array</span>);</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Saída</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="raku"><span></span>(<span class="tok-mi">1</span> <span class="tok-mi">4</span> <span class="tok-mi">9</span> <span class="tok-mi">16</span> <span class="tok-mi">25</span>)</code></pre>
</div>
</div>
<div class="paragraph">
<div class="title">Explicação</div>
<p>Definimos a sub-rotina chamada <code>ao-quadrado</code>, que vai elevar a 2 qualquer número fornecido como argumento.<br>
Depois, usamos <code>map</code> uma função de ordem superior, e passamos dois argumentos, uma sub-rotina e um array.<br>
O resultado é uma lista com todos os elementos do array elevados ao quadrado.</p>
</div>
<div class="paragraph">
<p>Note que ao passar uma sub-rotina como argumento, precisamos prefixar seu nome com <code>&amp;</code>.</p>
</div>
</div>
<div class="sect2">
<h3 id="_closures_clausuras">8.2. Closures (clausuras)</h3>
<div class="paragraph">
<p>Todos os objetos no Raku são closures, o que significa que eles podem referenciar variáveis léxicas de escopos externos.</p>
</div>
</div>
<div class="sect2">
<h3 id="_funções_anônimas">8.3. Funções Anônimas</h3>
<div class="paragraph">
<p>Uma <strong>função anônima</strong> também é chamada de uma <strong>lambda</strong>.<br>
Uma função anônima não está associada a um identificador (ela não tem nome).</p>
</div>
<div class="paragraph">
<p>Vamos reescrever o exemplo do <code>map</code> usando uma função anônima</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="raku"><span></span><span class="tok-k">my</span> <span class="tok-nv">@array</span> = <span class="tok-s">&lt;1 2 3 4 5&gt;</span>;
<span class="tok-nb">say</span> <span class="tok-n">map</span>(-&gt; <span class="tok-nv">$x</span> {<span class="tok-nv">$x</span> ** <span class="tok-mi">2</span>},<span class="tok-nv">@array</span>);</code></pre>
</div>
</div>
<div class="paragraph">
<p>Note que em vez de declarar a sub-rotina e passá-la como argumento ao <code>map</code>, nós a definimos diretamente dentro do <code>map</code>.<br>
A sub-rotina anônima <code>-&gt; $x {$x ** 2}</code> não possui handle e não pode ser chamada.</p>
</div>
<div class="paragraph">
<p>No linguajar Raku chamamos essa notação de <strong>pointy block</strong> (bloco pontiagudo)</p>
</div>
<div class="listingblock">
<div class="title">Um pointy block também pode ser usado para atribuir funções à variáveis:</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="raku"><span></span><span class="tok-k">my</span> <span class="tok-nv">$ao-quadrado</span> = -&gt; <span class="tok-nv">$x</span> {
  <span class="tok-nv">$x</span> ** <span class="tok-mi">2</span>
}
<span class="tok-nb">say</span> <span class="tok-nv">$ao-quadrado</span>(<span class="tok-mi">9</span>);</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_encadeamento_chaining">8.4. Encadeamento (Chaining)</h3>
<div class="paragraph">
<p>Em Raku, métodos podem ser encadeados, você não precisa mais passar o resultado de um método para outro como argumento.</p>
</div>
<div class="paragraph">
<p>Vamos imaginar que você recebey um array de valores.
Pediram para que você retorne os valores únicos desse array, ordenados do maior para o menor.</p>
</div>
<div class="paragraph">
<p>Você pode tentar resolver esse problema escrevendo algo como isso:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="raku"><span></span><span class="tok-k">my</span> <span class="tok-nv">@array</span> = <span class="tok-s">&lt;7 8 9 0 1 2 4 3 5 6 7 8 9&gt;</span>;
<span class="tok-k">my</span> <span class="tok-nv">@array-final</span> = <span class="tok-nb">reverse</span>(<span class="tok-nb">sort</span>(<span class="tok-nb">unique</span>(<span class="tok-nv">@array</span>)));
<span class="tok-nb">say</span> <span class="tok-nv">@array-final</span>;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Primeiro chamamos a função <code>unique</code> em <code>@array</code>, então passamos o resultado como argumento para <code>sort</code> e depois passamos o resultado da ordenação para <code>reverse</code>.</p>
</div>
<div class="paragraph">
<p>Em contraste com o exemplo acima, o encadeamento de métodos é permitido em Raku.<br>
O exemplo acima pode ser escrito como a seguir, tirando vantagem do encadeamento de métodos (<strong>method chaining</strong>):</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="raku"><span></span><span class="tok-k">my</span> <span class="tok-nv">@array</span> = <span class="tok-s">&lt;7 8 9 0 1 2 4 3 5 6 7 8 9&gt;</span>;
<span class="tok-k">my</span> <span class="tok-nv">@array-final</span> = <span class="tok-nv">@array</span>.<span class="tok-nb">unique</span>.<span class="tok-nb">sort</span>.<span class="tok-nb">reverse</span>;
<span class="tok-nb">say</span> <span class="tok-nv">@array-final</span>;</code></pre>
</div>
</div>
<div class="paragraph">
<p>É fácil perceber que encadeamento de métodos é mais <em>agradável aos olhos</em>.</p>
</div>
</div>
<div class="sect2">
<h3 id="_operador_de_alimentação_feed_operator">8.5. Operador de Alimentação (Feed Operator)</h3>
<div class="paragraph">
<p>O <strong>operador de alimentação</strong>, chamado de <em>pipe</em> em algumas linguagens de programação funcional, permite uma visualização ainda melhor do encadeamento de métodos.</p>
</div>
<div class="listingblock">
<div class="title">Alimentação para frente</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="raku"><span></span><span class="tok-k">my</span> <span class="tok-nv">@array</span> = <span class="tok-s">&lt;7 8 9 0 1 2 4 3 5 6 7 8 9&gt;</span>;
<span class="tok-nv">@array</span> ==&gt; <span class="tok-nb">unique</span>()
       ==&gt; <span class="tok-nb">sort</span>()
       ==&gt; <span class="tok-nb">reverse</span>()
       ==&gt; <span class="tok-k">my</span> <span class="tok-nv">@array-final</span>;
<span class="tok-nb">say</span> <span class="tok-nv">@array-final</span>;</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Explicação</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="raku"><span></span><span class="tok-n">Comece</span> <span class="tok-n">com</span> `<span class="tok-nv">@array</span>` <span class="tok-n">então</span> <span class="tok-n">retorne</span> <span class="tok-n">uma</span> <span class="tok-n">lista</span> <span class="tok-n">de</span> <span class="tok-n">elementos</span> <span class="tok-n">únicos</span>
                    <span class="tok-n">então</span> <span class="tok-n">ordene</span> <span class="tok-n">a</span> <span class="tok-n">lista</span>
                    <span class="tok-n">então</span> <span class="tok-n">inverta</span> <span class="tok-n">a</span> <span class="tok-n">lista</span>
                    <span class="tok-n">então</span> <span class="tok-n">guarde</span> <span class="tok-n">o</span> <span class="tok-n">resultado</span> <span class="tok-n">em</span> <span class="tok-nv">@array-final</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Como você pode ver o fluxo das chamadas é de cima para baixo.</p>
</div>
<div class="listingblock">
<div class="title">Alimentação para trás</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="raku"><span></span><span class="tok-k">my</span> <span class="tok-nv">@array</span> = <span class="tok-s">&lt;7 8 9 0 1 2 4 3 5 6 7 8 9&gt;</span>;
<span class="tok-k">my</span> <span class="tok-nv">@array-final-v2</span> &lt;== <span class="tok-nb">reverse</span>()
                   &lt;== <span class="tok-nb">sort</span>()
                   &lt;== <span class="tok-nb">unique</span>()
                   &lt;== <span class="tok-nv">@array</span>;
<span class="tok-nb">say</span> <span class="tok-nv">@array-final-v2</span>;</code></pre>
</div>
</div>
<div class="paragraph">
<div class="title">Explicação</div>
<p>A alimentação para trás é como a alimentação para frente, mas escrita ao contrário.<br>
O fluxo das chamadas é de baixo para cima.</p>
</div>
</div>
<div class="sect2">
<h3 id="_hiperoperador">8.6. Hiperoperador</h3>
<div class="paragraph">
<p>O <strong>hiperoperador</strong> (hyper operator) <code>&gt;&gt;.</code> chama um método em todos os elementos de uma lista e retorna uma lista com todos os resultados.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="raku"><span></span><span class="tok-k">my</span> <span class="tok-nv">@array</span> = <span class="tok-s">&lt;0 1 2 3 4 5 6 7 8 9 10&gt;</span>;
<span class="tok-k">sub</span> <span class="tok-n">é-par</span>(<span class="tok-nv">$var</span>) { <span class="tok-nv">$var</span> %% <span class="tok-mi">2</span> };

<span class="tok-nb">say</span> <span class="tok-nv">@array</span>&gt;&gt;.<span class="tok-nb">is-prime</span>;
<span class="tok-nb">say</span> <span class="tok-nv">@array</span>&gt;&gt;.<span class="tok-nv">&amp;é-par</span>;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Usando o hiperoperador podemos chamar métodos já definidos no Raku, como <code>is-prime</code> que nos diz se um número é primo ou não.<br>
Além disso podemos definir novas sub-rotinas e chamá-las usando o hiperoperador. Nesse caso precisamos prefixar um <code>&amp;</code> ao nome do método. Por exemplo, <code>&amp;é-par</code></p>
</div>
<div class="paragraph">
<p>Isso é muito prático pois nos poupa de ter que escrever loops <code>for</code> para iterar sobre cada valor de um array.</p>
</div>
</div>
<div class="sect2">
<h3 id="_junctions_junções">8.7. Junctions (Junções)</h3>
<div class="paragraph">
<p>Uma <strong>junction</strong> é uma sobreposição lógica de valores.</p>
</div>
<div class="paragraph">
<p>No exemplo abaixo <code>1|2|3</code> é uma junction.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="raku"><span></span><span class="tok-k">my</span> <span class="tok-nv">$var</span> = <span class="tok-mi">2</span>;
<span class="tok-k">if</span> <span class="tok-nv">$var</span> == <span class="tok-mi">1</span><span class="tok-o">|</span><span class="tok-mi">2</span><span class="tok-o">|</span><span class="tok-mi">3</span> {
  <span class="tok-nb">say</span> <span class="tok-s">&quot;A variável é 1 ou 2 ou 3&quot;</span>
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>O uso de junctions normalmente ativa <strong>autothreading</strong>;
a operação é executada para cada elemento da junction, e todos os resultados são combinados em uma nova junction e retornados.</p>
</div>
</div>
<div class="sect2">
<h3 id="_listas_preguiçosas_lazy_lists">8.8. Listas Preguiçosas (Lazy Lists)</h3>
<div class="paragraph">
<p>Uma <strong>lista preguiçosa (lazy)</strong> é uma lista que é avaliada de forma preguiçosa.<br>
Avaliação preguiçosa atrasa a avaliação de uma expressão até ela ser necessária, e evita repetir avaliações armazenando resultados em uma tabela de referência.</p>
</div>
<div class="paragraph">
<p>Os benefícios incluem:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Aumento no desempenho evitando cálculos desnecessários</p>
</li>
<li>
<p>Capacidade de construir estruturas de dados potencialmente infinitas</p>
</li>
<li>
<p>Capacidade de definir um fluxo de controle</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Para construir uma lista preguiçosa usamos o operador infixo <code>&#8230;&#8203;</code><br>
Uma lista preguiçosa tem <strong>elementos iniciais</strong>, um <strong>gerador</strong> e um <strong>final</strong> (endpoint).</p>
</div>
<div class="listingblock">
<div class="title">Lista preguiçosa simples</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="raku"><span></span><span class="tok-k">my</span> <span class="tok-nv">$lazy</span> = (<span class="tok-mi">1</span> ... <span class="tok-mi">10</span>);
<span class="tok-nb">say</span> <span class="tok-nv">$lazy</span>;</code></pre>
</div>
</div>
<div class="paragraph">
<p>O elemento inicial é 1 e o final é 10. Nenhum gerador foi definido então o gerador padrão é o sucessor (+1)<br>
Em outras palavras essa lista preguiçosa pode retornar (se pedido) os seguintes elementos (1, 2, 3, 4, 5, 6, 7, 8, 9, 10)</p>
</div>
<div class="listingblock">
<div class="title">Listas preguiçosas infinitas</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="raku"><span></span><span class="tok-k">my</span> <span class="tok-nv">$lazy</span> = (<span class="tok-mi">1</span> ... <span class="tok-n">Inf</span>);
<span class="tok-nb">say</span> <span class="tok-nv">$lazy</span>;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Essa lista pode retornar (se pedido) qualquer inteiro entre 1 e infinito, em outras palavras qualquer número inteiro.</p>
</div>
<div class="listingblock">
<div class="title">Lista preguiçosa feita por gerador deduzido</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="raku"><span></span><span class="tok-k">my</span> <span class="tok-nv">$lazy</span> = (<span class="tok-mi">0</span>,<span class="tok-mi">2</span> ... <span class="tok-mi">10</span>);
<span class="tok-nb">say</span> <span class="tok-nv">$lazy</span>;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Os elementos iniciais são 0 e 2 e o final é 10.
Nenhum gerador foi definido, mas usando os elementos iniciais, Raku vai deduzir que o gerador é (+2)<br>
Essa lista preguiçosa pode retornar (se pedido) os seguintes elementos (0, 2, 4, 6, 8, 10)</p>
</div>
<div class="listingblock">
<div class="title">Lista preguiçosa feita por gerador definido</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="raku"><span></span><span class="tok-k">my</span> <span class="tok-nv">$lazy</span> = (<span class="tok-mi">0</span>, { <span class="tok-nv">$_</span> + <span class="tok-mi">3</span> } ... <span class="tok-mi">12</span>);
<span class="tok-nb">say</span> <span class="tok-nv">$lazy</span>;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Nesse exemplo, definimos explicitamente um gerador entre <code>{ }</code><br>
Essa lista preguiçosa pode retornar (se pedido) os seguintes elementos (0, 3, 6, 9, 12)</p>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Ao usar um gerador explícito, o elemento final deve ter um valor que o gerador possa retornar.<br>
Se reproduzirmos o exemplo acima com o final sendo 10 em vez de 12, ele não vai parar nunca.
O gerador <em>pula</em> o elemento final.</p>
</div>
<div class="paragraph">
<p>Como alternativa, você pode trocar <code>0 &#8230;&#8203; 10</code> por <code>0 &#8230;&#8203;^ * &gt; 10</code><br>
Você pode ler isso como: de 0 até o primeiro elemento maior que 10 (não inclusive)</p>
</div>
<div class="listingblock">
<div class="title">Isso não vai parar o gerador</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="raku"><span></span><span class="tok-k">my</span> <span class="tok-nv">$lazy</span> = (<span class="tok-mi">0</span>, { <span class="tok-nv">$_</span> + <span class="tok-mi">3</span> } ... <span class="tok-mi">10</span>);
<span class="tok-nb">say</span> <span class="tok-nv">$lazy</span>;</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Isso vai parar o gerador</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="raku"><span></span><span class="tok-k">my</span> <span class="tok-nv">$lazy</span> = (<span class="tok-mi">0</span>, { <span class="tok-nv">$_</span> + <span class="tok-mi">3</span> } ...^ * &gt; <span class="tok-mi">10</span>);
<span class="tok-nb">say</span> <span class="tok-nv">$lazy</span>;</code></pre>
</div>
</div>
</td>
</tr>
</table>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_classes_objetos">9. Classes &amp; Objetos</h2>
<div class="sectionbody">
<div class="paragraph">
<p>No capítulo anterior, aprendemos como Raku facilita Programação Funcional.<br>
Neste capítulo veremos programação Orientada a Objetos em Raku.</p>
</div>
<div class="sect2">
<h3 id="_introdução_2">9.1. Introdução</h3>
<div class="paragraph">
<p><em>Orientação a Objetos</em> é um dos paradigmas mais utilizados hoje em dia.<br>
Um <strong>objeto</strong> é um conjunto de variáveis e sub-rotinas agrupadas.<br>
As variáveis são chamadas <strong>atributos</strong> e as sub-rotinas são chamadas <strong>métodos</strong>.<br>
Atributos definem o <strong>estado</strong> de um objeto e métodos definem seu <strong>comportamento</strong>.</p>
</div>
<div class="paragraph">
<p>Uma <strong>classe</strong> define a estrutura de um grupo de <strong>objetos</strong>.<br></p>
</div>
<div class="paragraph">
<p>Para entender esse relacionamento considere o exemplo abaixo:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Há 4 pessoas em uma sala</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>objetos</strong> &#8658; 4 pessoas</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Essas 4 pessoas são humanas</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>classe</strong> &#8658; Humano</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Elas têm nomes, idades, sexos e nacionalidades diferentes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>atributos</strong> &#8658; nome, idade, sexo, nacionalidade</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>No linguajar de <em>orientação a objetos</em>, dizemos que objetos são <strong>instâncias</strong> de uma classe.</p>
</div>
<div class="paragraph">
<p>Considere o script abaixo:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="raku"><span></span><span class="tok-k">class</span> <span class="tok-n">Humano</span> {
  <span class="tok-k">has</span> <span class="tok-nv">$nome</span>;
  <span class="tok-k">has</span> <span class="tok-nv">$idade</span>;
  <span class="tok-k">has</span> <span class="tok-nv">$sexo</span>;
  <span class="tok-k">has</span> <span class="tok-nv">$nacionalidade</span>;
}

<span class="tok-k">my</span> <span class="tok-nv">$joão</span> = <span class="tok-n">Humano</span>.<span class="tok-nb">new</span>(<span class="tok-n">nome</span> =&gt; <span class="tok-s">&#39;João&#39;</span>, <span class="tok-n">idade</span> =&gt; <span class="tok-mi">23</span>, <span class="tok-n">sexo</span> =&gt; <span class="tok-s">&#39;M&#39;</span>, <span class="tok-n">nacionalidade</span> =&gt; <span class="tok-s">&#39;Brasileiro&#39;</span>);
<span class="tok-nb">say</span> <span class="tok-nv">$joão</span>;</code></pre>
</div>
</div>
<div class="paragraph">
<p>A palavra-chave <code>class</code> é usada para definir uma classe.<br>
A palavra-chave <code>has</code> é usada para definir atributos de uma classe.<br>
O método <code>.new()</code> é chamado de <strong>construtor</strong>. Ele cria um objeto como uma instância da classe que o chamou.</p>
</div>
<div class="paragraph">
<p>O script acima, uma nova variável <code>$joão</code> guarda uma referência para uma nova instância de "Humano" definida por <code>Humano.new()</code>.<br>
Os argumentos passados para o método <code>.new()</code> são usados para dar valores aos atributos do novo objeto.</p>
</div>
<div class="paragraph">
<p>Podemos dar <em>escopo léxico</em> a uma classe usando <code>my</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="raku"><span></span><span class="tok-k">my</span> <span class="tok-k">class</span> <span class="tok-n">Humano</span> {

}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_encapsulamento">9.2. Encapsulamento</h3>
<div class="paragraph">
<p>Encapsulamento é um conceito de orientação a objetos que agrupa um conjunto de dados e métodos.<br>
Os dados (atributos) dentro de um objeto devem ser <strong>privados</strong>. Em outras palavras, acessíveis somente de dentro do objeto.<br>
Para acessar os atributos de fora do objeto usamos métodos que chamamos de <strong>acessores</strong> (ou accessors, em inglês).</p>
</div>
<div class="paragraph">
<p>Os dois scripts abaixo fazem a mesma coisa.</p>
</div>
<div class="listingblock">
<div class="title">Acesso direto à variável:</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="raku"><span></span><span class="tok-k">my</span> <span class="tok-nv">$var</span> = <span class="tok-mi">7</span>;
<span class="tok-nb">say</span> <span class="tok-nv">$var</span>;</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Encapsulamento:</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="raku"><span></span><span class="tok-k">my</span> <span class="tok-nv">$var</span> = <span class="tok-mi">7</span>;
<span class="tok-k">sub</span> <span class="tok-n">sayvar</span> {
  <span class="tok-nv">$var</span>;
}
<span class="tok-nb">say</span> <span class="tok-n">sayvar</span>;</code></pre>
</div>
</div>
<div class="paragraph">
<p>O método <code>sayvar</code> é um accessor. Ele nos permite acessar o valor de uma variável de forma indireta.</p>
</div>
<div class="paragraph">
<p>Encapsulamento é facilitado em Raku pelo uso dos <strong>twigils</strong>.<br>
Twigils são <em>sigils</em> (símbolos) segundários. Eles vem entre o símbolo da variável e o nome do atributo.<br>
Dois twigils são usados em classes:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>!</code> é usado para declarar explicitamente que o atributo é privado.</p>
</li>
<li>
<p><code>.</code> é usado para gerar automaticamente um acessor para o atributo.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Por padrão, todos os atributos são privados, mas é considerado boa prática sempre usar o twigil <code>!</code>.</p>
</div>
<div class="paragraph">
<p>Considerando isso, deveríamos reescrever a classe acima de outro jeito:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="raku"><span></span><span class="tok-k">class</span> <span class="tok-n">Humano</span> {
  <span class="tok-k">has</span> <span class="tok-nv">$!nome</span>;
  <span class="tok-k">has</span> <span class="tok-nv">$!idade</span>;
  <span class="tok-k">has</span> <span class="tok-nv">$!sexo</span>;
  <span class="tok-k">has</span> <span class="tok-nv">$!nacionalidade</span>;
}

<span class="tok-k">my</span> <span class="tok-nv">$joão</span> = <span class="tok-n">Humano</span>.<span class="tok-nb">new</span>(<span class="tok-n">nome</span> =&gt; <span class="tok-s">&#39;João&#39;</span>, <span class="tok-n">idade</span> =&gt; <span class="tok-mi">23</span>, <span class="tok-n">sexo</span> =&gt; <span class="tok-s">&#39;M&#39;</span>, <span class="tok-n">nacionalidade</span> =&gt; <span class="tok-s">&#39;Brasileiro&#39;</span>);
<span class="tok-nb">say</span> <span class="tok-nv">$john</span>;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Adicione ao final desse script a declaração: <code>say $joão.idade;</code><br>
Ela vai retornar o seguinte erro: <code>Method 'idade' not found for invocant of class 'Humano'</code> ("Método 'idade' não encontrado para classe invocante 'Humano'")<br>
A razão é que <code>$!idade</code> é privado e só pode ser usado de dentro do objeto.
Tentar acessar atributos privados de fora do objeto vai retornar um erro.</p>
</div>
<div class="paragraph">
<p>Agora substitua <code>has $!idade</code> por <code>has $.idade</code> e veja o resultado de <code>say $joão.idade;</code></p>
</div>
</div>
<div class="sect2">
<h3 id="_argumentos_por_nome_vs_por_posição">9.3. Argumentos por Nome vs. por Posição</h3>
<div class="paragraph">
<p>Em Raku, todas as classes herdam o construtor padrão <code>.new()</code>.<br>
Ele pode ser usado para criar objetos chamando-o com alguns argumentos.<br>
O construtor padrão só aceita <strong>argumentos por nome</strong>.<br>
Considerando o exemplo acima, repare que todos os argumentos passados para <code>.new()</code> são definidos pelo próprio nome:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>nome =&gt; 'João'</p>
</li>
<li>
<p>idade =&gt; 23</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>E se não quiséssemos passar o nome de cada atributo ao criar um novo objeto?<br>
Para isso precisamos criar um outro construtor que aceite <strong>argumentos por posição</strong>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="raku"><span></span><span class="tok-k">class</span> <span class="tok-n">Humano</span> {
  <span class="tok-k">has</span> <span class="tok-nv">$.nome</span>;
  <span class="tok-k">has</span> <span class="tok-nv">$.idade</span>;
  <span class="tok-k">has</span> <span class="tok-nv">$.sexo</span>;
  <span class="tok-k">has</span> <span class="tok-nv">$.nacionalidade</span>;

  <span class="tok-c1">#novo construtor que sobrescreve o construtor padrão.</span>
  <span class="tok-k">method</span> <span class="tok-nb">new</span> (<span class="tok-nv">$nome</span>,<span class="tok-nv">$idade</span>,<span class="tok-nv">$sexo</span>,<span class="tok-nv">$nacionalidade</span>) {
    <span class="tok-nb">self</span>.<span class="tok-nb">bless</span>(:<span class="tok-nv">$nome</span>,:<span class="tok-nv">$idade</span>,:<span class="tok-nv">$sexo</span>,:<span class="tok-nv">$nacionalidade</span>);
  }
}

<span class="tok-k">my</span> <span class="tok-nv">$joão</span> = <span class="tok-n">Humano</span>.<span class="tok-nb">new</span>(<span class="tok-s">&#39;João&#39;</span>,<span class="tok-mi">23</span>,<span class="tok-s">&#39;M&#39;</span>,<span class="tok-s">&#39;Brasileiro&#39;</span>);
<span class="tok-nb">say</span> <span class="tok-nv">$joão</span>;</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_métodos">9.4. Métodos</h3>
<div class="sect3">
<h4 id="_introdução_3">9.4.1. Introdução</h4>
<div class="paragraph">
<p>Métodos são as <em>sub-rotinas</em> de um objeto.<br>
Como sub-rotinas normais, eles são a forma de agrupar um conjunto de funcionalidades, eles aceitam <strong>argumentos</strong>, possuem uma <strong>assinatura</strong> e podem ser definidos como <strong>multi</strong>.</p>
</div>
<div class="paragraph">
<p>Métodos são definidos usando a palavra-chave <code>method</code>.<br>
Em circunstâncias normais, métodos são necessários para fazer alguma ação com os atributos de um objeto.
Isso reforça o conceito de encapsulamento. Atributos de objetos só podem ser manipulados usando métodos.
O mundo externo só pode interagir com os métodos de um objeto, e não tem acesso direto aos seus atributos.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="raku"><span></span><span class="tok-k">class</span> <span class="tok-n">Humano</span> {
  <span class="tok-k">has</span> <span class="tok-nv">$.nome</span>;
  <span class="tok-k">has</span> <span class="tok-nv">$.idade</span>;
  <span class="tok-k">has</span> <span class="tok-nv">$.sexo</span>;
  <span class="tok-k">has</span> <span class="tok-nv">$.nacionalidade</span>;
  <span class="tok-k">has</span> <span class="tok-nv">$.maioridade</span>;

  <span class="tok-k">method</span> <span class="tok-n">avalia-maioridade</span> {
      <span class="tok-k">if</span> <span class="tok-nb">self</span>.<span class="tok-n">idade</span> &lt; <span class="tok-mi">21</span> {
        <span class="tok-nv">$!maioridade</span> = <span class="tok-s">&#39;Não&#39;</span>
      } <span class="tok-k">else</span> {
        <span class="tok-nv">$!maioridade</span> = <span class="tok-s">&#39;Sim&#39;</span>
      }
  }

}

<span class="tok-k">my</span> <span class="tok-nv">$joão</span> = <span class="tok-n">Humano</span>.<span class="tok-nb">new</span>(<span class="tok-n">nome</span> =&gt; <span class="tok-s">&#39;João&#39;</span>, <span class="tok-n">idade</span> =&gt; <span class="tok-mi">23</span>, <span class="tok-n">sexo</span> =&gt; <span class="tok-s">&#39;M&#39;</span>, <span class="tok-n">nacionalidade</span> =&gt; <span class="tok-s">&#39;Brasileiro&#39;</span>);
<span class="tok-nv">$joão</span>.<span class="tok-n">avalia-maioridade</span>;
<span class="tok-nb">say</span> <span class="tok-nv">$joão</span>.<span class="tok-n">maioridade</span>;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Depois que os métodos foram definidos em uma classe, eles podem ser chamados em um objeto usando a <em>notação de ponto</em>:<br>
<em>objeto</em> <strong>.</strong> <em>método</em> ou como no exemplo acima: <code>$joão.avalia-maioridade</code></p>
</div>
<div class="paragraph">
<p>Dentro da definição de um método, se precisamos referenciar o próprio objeto para chamar outro método usamos a palavra-chave <code>self</code>.<br></p>
</div>
<div class="paragraph">
<p>Dentro da definição de um método, se precisarmos referenciar um atributo usamos <code>!</code> mesmo que ele tenha sido definido com <code>.</code><br>
O raciocínio é que o que o <code>.</code> faz é declarar um atributo com <code>!</code> e criar um accessor automaticamente.</p>
</div>
<div class="paragraph">
<p>No exemplo acima <code>if self.idade &lt; 21</code> e <code>if $!idade &lt; 21</code> têm o mesmo efeito, mas são tecnicamente diferentes:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>self.idade</code> chama o método <code>.idade</code> (accessor)<br>
Pode ser escrito alternativamente como <code>$.idade</code></p>
</li>
<li>
<p><code>$!idade</code> é uma chamada direta à variável</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_métodos_privados">9.4.2. Métodos privados</h4>
<div class="paragraph">
<p>Métodos normais podem ser chamados em objetos do lado de fora da classe.</p>
</div>
<div class="paragraph">
<p><strong>Métodos privados</strong> são métodos que só podem ser chamados de dentro da classe.<br>
Um possível caso de uso seria um método que chama outro para uma ação específica.
O método que faz interface com o mundo externo é público enquanto o que é referenciado deve ficar privado.
Nós não queremos usuários chamando-o diretamente, então o declaramos como privado.</p>
</div>
<div class="paragraph">
<p>A declaração de um método privado exige o uso do twigil <code>!</code> antes do seu nome.<br>
Métodos privados são chamados com <code>!</code> em vez de <code>.</code></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="raku"><span></span><span class="tok-k">method</span> !<span class="tok-n">sou-privado</span> {
  <span class="tok-c1"># código entra aqui</span>
}

<span class="tok-k">method</span> <span class="tok-n">sou-público</span>{
  <span class="tok-nb">self</span><span class="tok-o">!</span><span class="tok-n">sou-privado</span>;
  <span class="tok-c1">#faça outras coisas</span>
}</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_atributos_de_classe">9.5. Atributos de Classe</h3>
<div class="paragraph">
<p><strong>Atributos de Classe</strong> são atributos que pertencem à própria classe e não aos seus objetos.<br>
Eles podem ser inicializados durante a definição.<br>
Atributos de Classe são declarados com <code>my</code> em vez de <code>has</code>.<br>
Eles são chamados na classe em si em vez de nos objetos.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="raku"><span></span><span class="tok-k">class</span> <span class="tok-n">Humano</span> {
  <span class="tok-k">has</span> <span class="tok-nv">$.nome</span>;
  <span class="tok-k">my</span> <span class="tok-nv">$.contador</span> = <span class="tok-mi">0</span>;
  <span class="tok-k">method</span> <span class="tok-nb">new</span>(<span class="tok-nv">$nome</span>) {
    <span class="tok-n">Humano</span>.<span class="tok-n">contador</span>++;
    <span class="tok-nb">self</span>.<span class="tok-nb">bless</span>(:<span class="tok-nv">$nome</span>);
  }
}
<span class="tok-k">my</span> <span class="tok-nv">$a</span> = <span class="tok-n">Humano</span>.<span class="tok-nb">new</span>(<span class="tok-s">&#39;a&#39;</span>);
<span class="tok-k">my</span> <span class="tok-nv">$b</span> = <span class="tok-n">Humano</span>.<span class="tok-nb">new</span>(<span class="tok-s">&#39;b&#39;</span>);

<span class="tok-nb">say</span> <span class="tok-n">Humano</span>.<span class="tok-n">contador</span>;</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_tipos_de_acesso">9.6. Tipos de Acesso</h3>
<div class="paragraph">
<p>Até agora todos os exemplos que vimos usaram accessors para obter informações dos atributos de objetos.</p>
</div>
<div class="paragraph">
<p>E se quiséssemos modificar o valor de um atributo?<br>
Precisamos classificar o atributo como <em>leitura/escrita</em> (read/write) usando as palavras-chave <code>is rw</code></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="raku"><span></span><span class="tok-k">class</span> <span class="tok-n">Humano</span> {
  <span class="tok-k">has</span> <span class="tok-nv">$.nome</span>;
  <span class="tok-k">has</span> <span class="tok-nv">$.idade</span> <span class="tok-k">is</span> <span class="tok-k">rw</span>;
}
<span class="tok-k">my</span> <span class="tok-nv">$joão</span> = <span class="tok-n">Humano</span>.<span class="tok-nb">new</span>(<span class="tok-n">nome</span> =&gt; <span class="tok-s">&#39;João&#39;</span>, <span class="tok-n">idade</span> =&gt; <span class="tok-mi">21</span>);
<span class="tok-nb">say</span> <span class="tok-nv">$joão</span>.<span class="tok-n">idade</span>;

<span class="tok-nv">$joão</span>.<span class="tok-n">idade</span> = <span class="tok-mi">23</span>;
<span class="tok-nb">say</span> <span class="tok-nv">$joão</span>.<span class="tok-n">idade</span>;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Por padrão, todos os atributos são declarados como <em>somente leitura</em> mas você pode fazer isso de forma explícita usando <code>is readonly</code></p>
</div>
</div>
<div class="sect2">
<h3 id="_herança">9.7. Herança</h3>
<div class="sect3">
<h4 id="_introdução_4">9.7.1. Introdução</h4>
<div class="paragraph">
<p><strong>Herança</strong> é outro conceito de programação orientada a objetos.</p>
</div>
<div class="paragraph">
<p>Ao definir classes, logo percebemos que alguns atributos/métodos são comuns a muitas classes.<br>
Deveríamos duplicar esse código?<br>
NÃO! Deveríamos usar <strong>herança</strong></p>
</div>
<div class="paragraph">
<p>Vamos considerar que queremos definir duas classes, uma classe para seres Humanos e uma classe para Empregados.<br>
Humanos tem 2 atributos: nome e idade.<br>
Empregados tem 4 atributos: nome, idade, empresa e salário</p>
</div>
<div class="paragraph">
<p>Podemos ficar tentados a definir essas classes assim:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="raku"><span></span><span class="tok-k">class</span> <span class="tok-n">Humano</span> {
  <span class="tok-k">has</span> <span class="tok-nv">$.nome</span>;
  <span class="tok-k">has</span> <span class="tok-nv">$.idade</span>;
}

<span class="tok-k">class</span> <span class="tok-n">Empregado</span> {
  <span class="tok-k">has</span> <span class="tok-nv">$.nome</span>;
  <span class="tok-k">has</span> <span class="tok-nv">$.idade</span>;
  <span class="tok-k">has</span> <span class="tok-nv">$.empresa</span>;
  <span class="tok-k">has</span> <span class="tok-nv">$.salário</span>;
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Embora tecnicamente correto, o código acima é considerado conceitualmente pobre.</p>
</div>
<div class="paragraph">
<p>Uma forma melhor de escrevê-lo é assim:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="raku"><span></span><span class="tok-k">class</span> <span class="tok-n">Humano</span> {
  <span class="tok-k">has</span> <span class="tok-nv">$.nome</span>;
  <span class="tok-k">has</span> <span class="tok-nv">$.idade</span>;
}

<span class="tok-k">class</span> <span class="tok-n">Empregado</span> <span class="tok-k">is</span> <span class="tok-n">Humano</span> {
  <span class="tok-k">has</span> <span class="tok-nv">$.empresa</span>;
  <span class="tok-k">has</span> <span class="tok-nv">$.salário</span>;
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>A palavra-chave <code>is</code> define herança.<br>
Em linguajar de orientação a objetos dizemos que a classe Empregado é <strong>filha</strong> (child) de Humano, e Humano é <strong>pai</strong> (parent) de Empregado.</p>
</div>
<div class="paragraph">
<p>Todas as classes filhas herdam os atributos e métodos da classe pai, então não precisamos redefini-los.</p>
</div>
</div>
<div class="sect3">
<h4 id="_sobrescrevendo_overriding">9.7.2. Sobrescrevendo (Overriding)</h4>
<div class="paragraph">
<p>Classes herdam todos os atributos e métodos das classes pai.<br>
Há casos em que precisamos que o método da classe filha se comporte de forma diferente do método herdado.<br>
Para isso, redefinimos o método na classe filha.<br>
Esse conceito é chamado <strong>overriding</strong> (sobrescrever).</p>
</div>
<div class="paragraph">
<p>No exemplo abaixo, o método <code>apresente-se</code> é herdado pela classe Empregado.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="raku"><span></span><span class="tok-k">class</span> <span class="tok-n">Humano</span> {
  <span class="tok-k">has</span> <span class="tok-nv">$.nome</span>;
  <span class="tok-k">has</span> <span class="tok-nv">$.idade</span>;
  <span class="tok-k">method</span> <span class="tok-n">apresente-se</span> {
    <span class="tok-nb">say</span> <span class="tok-s">&#39;Olá, eu sou um humano e meu nome é &#39;</span> ~ <span class="tok-nb">self</span>.<span class="tok-n">nome</span>;
  }
}

<span class="tok-k">class</span> <span class="tok-n">Empregado</span> <span class="tok-k">is</span> <span class="tok-n">Humano</span> {
  <span class="tok-k">has</span> <span class="tok-nv">$.empresa</span>;
  <span class="tok-k">has</span> <span class="tok-nv">$.salário</span>;
}

<span class="tok-k">my</span> <span class="tok-nv">$joão</span> = <span class="tok-n">Humano</span>.<span class="tok-nb">new</span>(<span class="tok-n">nome</span> =&gt;<span class="tok-s">&#39;João&#39;</span>, <span class="tok-n">idade</span> =&gt; <span class="tok-mi">23</span>,);
<span class="tok-k">my</span> <span class="tok-nv">$joana</span> = <span class="tok-n">Empregado</span>.<span class="tok-nb">new</span>(<span class="tok-n">nome</span> =&gt;<span class="tok-s">&#39;Joana&#39;</span>, <span class="tok-n">idade</span> =&gt; <span class="tok-mi">25</span>, <span class="tok-n">empresa</span> =&gt; <span class="tok-s">&#39;Acme&#39;</span>, <span class="tok-n">salário</span> =&gt; <span class="tok-mi">4000</span>);

<span class="tok-nv">$joão</span>.<span class="tok-n">apresente-se</span>;
<span class="tok-nv">$joana</span>.<span class="tok-n">apresente-se</span>;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Overriding funciona da seguinte maneira:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="raku"><span></span><span class="tok-k">class</span> <span class="tok-n">Humano</span> {
  <span class="tok-k">has</span> <span class="tok-nv">$.nome</span>;
  <span class="tok-k">has</span> <span class="tok-nv">$.idade</span>;
  <span class="tok-k">method</span> <span class="tok-n">apresente-se</span> {
    <span class="tok-nb">say</span> <span class="tok-s">&#39;Olá, eu sou um humano e meu nome é &#39;</span> ~ <span class="tok-nb">self</span>.<span class="tok-n">nome</span>;
  }
}

<span class="tok-k">class</span> <span class="tok-n">Empregado</span> <span class="tok-k">is</span> <span class="tok-n">Humano</span> {
  <span class="tok-k">has</span> <span class="tok-nv">$.empresa</span>;
  <span class="tok-k">has</span> <span class="tok-nv">$.salário</span>;
  <span class="tok-k">method</span> <span class="tok-n">apresente-se</span> {
    <span class="tok-nb">say</span> <span class="tok-s">&#39;Olá, eu sou um empregado, meu nome é &#39;</span> ~ <span class="tok-nb">self</span>.<span class="tok-n">nome</span> ~ <span class="tok-s">&#39; e eu trabalho na &#39;</span> ~ <span class="tok-nb">self</span>.<span class="tok-n">empresa</span>;
  }
}

<span class="tok-k">my</span> <span class="tok-nv">$joão</span> = <span class="tok-n">Humano</span>.<span class="tok-nb">new</span>(<span class="tok-n">nome</span> =&gt;<span class="tok-s">&#39;João&#39;</span>, <span class="tok-n">idade</span> =&gt; <span class="tok-mi">23</span>,);
<span class="tok-k">my</span> <span class="tok-nv">$joana</span> = <span class="tok-n">Empregado</span>.<span class="tok-nb">new</span>(<span class="tok-n">nome</span> =&gt;<span class="tok-s">&#39;Joana&#39;</span>, <span class="tok-n">idade</span> =&gt; <span class="tok-mi">25</span>, <span class="tok-n">empresa</span> =&gt; <span class="tok-s">&#39;Acme&#39;</span>, <span class="tok-n">salário</span> =&gt; <span class="tok-mi">4000</span>);

<span class="tok-nv">$joão</span>.<span class="tok-n">apresente-se</span>;
<span class="tok-nv">$joana</span>.<span class="tok-n">apresente-se</span>;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Dependendo de que classe o objeto é, o método certo será chamado.</p>
</div>
</div>
<div class="sect3">
<h4 id="_submétodos">9.7.3. Submétodos</h4>
<div class="paragraph">
<p><strong>Submétodos</strong> são um tipo de método que não é herdado por classes filhas.<br>
Eles só são acessíveis pela classe que os declarou.<br>
São definidos usando a palavra-chave <code>submethod</code>.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_herança_múltipla">9.8. Herança Múltipla</h3>
<div class="paragraph">
<p>Herança múltipla é permitida em Raku. Uma classe pode herdar de várias outras classes.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="raku"><span></span><span class="tok-k">class</span> <span class="tok-n">gráfico-de-barras</span> {
  <span class="tok-k">has</span> <span class="tok-nb">Int</span> <span class="tok-nv">@.valores-das-barras</span>;
  <span class="tok-k">method</span> <span class="tok-n">exibir</span> {
    <span class="tok-nb">say</span> <span class="tok-nv">@.valores-das-barras</span>;
  }
}

<span class="tok-k">class</span> <span class="tok-n">gráfico-de-linhas</span> {
  <span class="tok-k">has</span> <span class="tok-nb">Int</span> <span class="tok-nv">@.valores-das-linhas</span>;
  <span class="tok-k">method</span> <span class="tok-n">exibir</span> {
    <span class="tok-nb">say</span> <span class="tok-nv">@.valores-das-linhas</span>;
  }
}

<span class="tok-k">class</span> <span class="tok-n">gráfico-combinado</span> <span class="tok-k">is</span> <span class="tok-n">gráfico-de-barras</span> <span class="tok-k">is</span> <span class="tok-n">gráfico-de-linhas</span> {
}

<span class="tok-k">my</span> <span class="tok-nv">$vendas-reais</span> = <span class="tok-n">gráfico-de-barras</span>.<span class="tok-nb">new</span>(<span class="tok-n">valores-das-barras</span> =&gt; [<span class="tok-mi">10</span>,<span class="tok-mi">9</span>,<span class="tok-mi">11</span>,<span class="tok-mi">8</span>,<span class="tok-mi">7</span>,<span class="tok-mi">10</span>]);
<span class="tok-k">my</span> <span class="tok-nv">$vendas-previstas</span> = <span class="tok-n">gráfico-de-linhas</span>.<span class="tok-nb">new</span>(<span class="tok-n">valores-das-linhas</span> =&gt; [<span class="tok-mi">9</span>,<span class="tok-mi">8</span>,<span class="tok-mi">10</span>,<span class="tok-mi">7</span>,<span class="tok-mi">6</span>,<span class="tok-mi">9</span>]);

<span class="tok-k">my</span> <span class="tok-nv">$real-vs-previsto</span> = <span class="tok-n">gráfico-combinado</span>.<span class="tok-nb">new</span>(<span class="tok-n">valores-das-barras</span> =&gt; [<span class="tok-mi">10</span>,<span class="tok-mi">9</span>,<span class="tok-mi">11</span>,<span class="tok-mi">8</span>,<span class="tok-mi">7</span>,<span class="tok-mi">10</span>],
                                             <span class="tok-n">valores-das-linhas</span> =&gt; [<span class="tok-mi">9</span>,<span class="tok-mi">8</span>,<span class="tok-mi">10</span>,<span class="tok-mi">7</span>,<span class="tok-mi">6</span>,<span class="tok-mi">9</span>]);
<span class="tok-nb">say</span> <span class="tok-s">&quot;Vendas reais:&quot;</span>;
<span class="tok-nv">$vendas-reais</span>.<span class="tok-n">exibir</span>;
<span class="tok-nb">say</span> <span class="tok-s">&quot;Vendas previstas:&quot;</span>;
<span class="tok-nv">$vendas-previstas</span>.<span class="tok-n">exibir</span>;
<span class="tok-nb">say</span> <span class="tok-s">&quot;Reais vs Previstas:&quot;</span>;
<span class="tok-nv">$real-vs-previsto</span>.<span class="tok-n">exibir</span>;</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title"><code>Saída</code></div>
<div class="content">
<pre class="pygments highlight"><code data-lang="raku"><span></span><span class="tok-n">Vendas</span> <span class="tok-n">reais:</span>
[<span class="tok-mi">10</span> <span class="tok-mi">9</span> <span class="tok-mi">11</span> <span class="tok-mi">8</span> <span class="tok-mi">7</span> <span class="tok-mi">10</span>]
<span class="tok-n">Vendas</span> <span class="tok-n">previstas:</span>
[<span class="tok-mi">9</span> <span class="tok-mi">8</span> <span class="tok-mi">10</span> <span class="tok-mi">7</span> <span class="tok-mi">6</span> <span class="tok-mi">9</span>]
<span class="tok-n">Reais</span> <span class="tok-n">vs</span> <span class="tok-n">Previstas:</span>
[<span class="tok-mi">10</span> <span class="tok-mi">9</span> <span class="tok-mi">11</span> <span class="tok-mi">8</span> <span class="tok-mi">7</span> <span class="tok-mi">10</span>]</code></pre>
</div>
</div>
<div class="paragraph">
<div class="title">Explicação</div>
<p>A classe <code>gráfico-combinado</code> é capaz de guardar duas séries, uma para os valores reais em barra,
e outra para valores previstos em linha.<br>
Por isso que o definimos como filho de <code>gráfico-de-linhas</code> e <code>gráfico-de-barras</code>.<br>
Você deve ter reparado que chamar o método <code>exibir</code> em <code>gráfico-combinado</code> não gerou o resultado desejado.
Só uma das séries foi exibida.<br>
Por que isso aconteceu?<br>
<code>gráfico-combinado</code> herdou de <code>gráfico-de-linhas</code> e de <code>gráfico-de-barras</code>, e ambos possuem um método chamado <code>exibir</code>.
Quando chamamos esse método em <code>gráfico-combinado</code> o Raku vai tentar resolver esse conflito chamando um dos métodos herdados.</p>
</div>
<div class="paragraph">
<div class="title">Correção</div>
<p>Para que se comporte corretamente, devemos sobrescrever o método <code>exibir</code> em <code>gráfico-combinado</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="raku"><span></span><span class="tok-k">class</span> <span class="tok-n">gráfico-de-barras</span> {
  <span class="tok-k">has</span> <span class="tok-nb">Int</span> <span class="tok-nv">@.valores-das-barras</span>;
  <span class="tok-k">method</span> <span class="tok-n">exibir</span> {
    <span class="tok-nb">say</span> <span class="tok-nv">@.valores-das-barras</span>;
  }
}

<span class="tok-k">class</span> <span class="tok-n">gráfico-de-linhas</span> {
  <span class="tok-k">has</span> <span class="tok-nb">Int</span> <span class="tok-nv">@.valores-das-linhas</span>;
  <span class="tok-k">method</span> <span class="tok-n">exibir</span> {
    <span class="tok-nb">say</span> <span class="tok-nv">@.valores-das-linhas</span>;
  }
}

<span class="tok-k">class</span> <span class="tok-n">gráfico-combinado</span> <span class="tok-k">is</span> <span class="tok-n">gráfico-de-barras</span> <span class="tok-k">is</span> <span class="tok-n">gráfico-de-linhas</span> {
  <span class="tok-k">method</span> <span class="tok-n">exibir</span> {
    <span class="tok-nb">say</span> <span class="tok-nv">@.valores-das-barras</span>;
    <span class="tok-nb">say</span> <span class="tok-nv">@.valores-das-linhas</span>;
  }
}

<span class="tok-k">my</span> <span class="tok-nv">$vendas-reais</span> = <span class="tok-n">gráfico-de-barras</span>.<span class="tok-nb">new</span>(<span class="tok-n">valores-das-barras</span> =&gt; [<span class="tok-mi">10</span>,<span class="tok-mi">9</span>,<span class="tok-mi">11</span>,<span class="tok-mi">8</span>,<span class="tok-mi">7</span>,<span class="tok-mi">10</span>]);
<span class="tok-k">my</span> <span class="tok-nv">$vendas-previstas</span> = <span class="tok-n">gráfico-de-linhas</span>.<span class="tok-nb">new</span>(<span class="tok-n">valores-das-linhas</span> =&gt; [<span class="tok-mi">9</span>,<span class="tok-mi">8</span>,<span class="tok-mi">10</span>,<span class="tok-mi">7</span>,<span class="tok-mi">6</span>,<span class="tok-mi">9</span>]);

<span class="tok-k">my</span> <span class="tok-nv">$real-vs-previsto</span> = <span class="tok-n">gráfico-combinado</span>.<span class="tok-nb">new</span>(<span class="tok-n">valores-das-barras</span> =&gt; [<span class="tok-mi">10</span>,<span class="tok-mi">9</span>,<span class="tok-mi">11</span>,<span class="tok-mi">8</span>,<span class="tok-mi">7</span>,<span class="tok-mi">10</span>],
                                             <span class="tok-n">valores-das-linhas</span> =&gt; [<span class="tok-mi">9</span>,<span class="tok-mi">8</span>,<span class="tok-mi">10</span>,<span class="tok-mi">7</span>,<span class="tok-mi">6</span>,<span class="tok-mi">9</span>]);
<span class="tok-nb">say</span> <span class="tok-s">&quot;Vendas reais:&quot;</span>;
<span class="tok-nv">$vendas-reais</span>.<span class="tok-n">exibir</span>;
<span class="tok-nb">say</span> <span class="tok-s">&quot;Vendas previstas:&quot;</span>;
<span class="tok-nv">$vendas-previstas</span>.<span class="tok-n">exibir</span>;
<span class="tok-nb">say</span> <span class="tok-s">&quot;Reais vs Previstas:&quot;</span>;
<span class="tok-nv">$real-vs-previsto</span>.<span class="tok-n">exibir</span>;</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title"><code>Saída</code></div>
<div class="content">
<pre class="pygments highlight"><code data-lang="raku"><span></span><span class="tok-n">Vendas</span> <span class="tok-n">reais:</span>
[<span class="tok-mi">10</span> <span class="tok-mi">9</span> <span class="tok-mi">11</span> <span class="tok-mi">8</span> <span class="tok-mi">7</span> <span class="tok-mi">10</span>]
<span class="tok-n">Vendas</span> <span class="tok-n">previstas:</span>
[<span class="tok-mi">9</span> <span class="tok-mi">8</span> <span class="tok-mi">10</span> <span class="tok-mi">7</span> <span class="tok-mi">6</span> <span class="tok-mi">9</span>]
<span class="tok-n">Reais</span> <span class="tok-n">vs</span> <span class="tok-n">Previstas:</span>
[<span class="tok-mi">10</span> <span class="tok-mi">9</span> <span class="tok-mi">11</span> <span class="tok-mi">8</span> <span class="tok-mi">7</span> <span class="tok-mi">10</span>]
[<span class="tok-mi">9</span> <span class="tok-mi">8</span> <span class="tok-mi">10</span> <span class="tok-mi">7</span> <span class="tok-mi">6</span> <span class="tok-mi">9</span>]</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_roles">9.9. Roles</h3>
<div class="paragraph">
<p><strong>Roles</strong> (Papéis) são parecidos com classes no sentido de que são uma coleção de atributos e métodos.</p>
</div>
<div class="paragraph">
<p>Roles são declarados com a palavra-chave <code>role</code> e classes que quiserem implementar o role (o papel) podem fazer isso usando a palavra-chave <code>does</code> (faz).</p>
</div>
<div class="listingblock">
<div class="title">Vamos reescrever o exemplo de herança múltipla usando roles:</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="raku"><span></span><span class="tok-k">role</span> <span class="tok-n">gráfico-de-barras</span> {
  <span class="tok-k">has</span> <span class="tok-nb">Int</span> <span class="tok-nv">@.valores-das-barras</span>;
  <span class="tok-k">method</span> <span class="tok-n">exibir</span> {
    <span class="tok-nb">say</span> <span class="tok-nv">@.valores-das-barras</span>;
  }
}

<span class="tok-k">role</span> <span class="tok-n">gráfico-de-linhas</span> {
  <span class="tok-k">has</span> <span class="tok-nb">Int</span> <span class="tok-nv">@.valores-das-linhas</span>;
  <span class="tok-k">method</span> <span class="tok-n">exibir</span> {
    <span class="tok-nb">say</span> <span class="tok-nv">@.valores-das-linhas</span>;
  }
}

<span class="tok-k">class</span> <span class="tok-n">gráfico-combinado</span> <span class="tok-k">does</span> <span class="tok-n">gráfico-de-barras</span> <span class="tok-k">does</span> <span class="tok-n">gráfico-de-linhas</span> {
  <span class="tok-k">method</span> <span class="tok-n">exibir</span> {
    <span class="tok-nb">say</span> <span class="tok-nv">@.valores-das-barras</span>;
    <span class="tok-nb">say</span> <span class="tok-nv">@.valores-das-linhas</span>;
  }
}

<span class="tok-k">my</span> <span class="tok-nv">$vendas-reais</span> = <span class="tok-n">gráfico-de-barras</span>.<span class="tok-nb">new</span>(<span class="tok-n">valores-das-barras</span> =&gt; [<span class="tok-mi">10</span>,<span class="tok-mi">9</span>,<span class="tok-mi">11</span>,<span class="tok-mi">8</span>,<span class="tok-mi">7</span>,<span class="tok-mi">10</span>]);
<span class="tok-k">my</span> <span class="tok-nv">$vendas-previstas</span> = <span class="tok-n">gráfico-de-linhas</span>.<span class="tok-nb">new</span>(<span class="tok-n">valores-das-linhas</span> =&gt; [<span class="tok-mi">9</span>,<span class="tok-mi">8</span>,<span class="tok-mi">10</span>,<span class="tok-mi">7</span>,<span class="tok-mi">6</span>,<span class="tok-mi">9</span>]);

<span class="tok-k">my</span> <span class="tok-nv">$real-vs-previsto</span> = <span class="tok-n">gráfico-combinado</span>.<span class="tok-nb">new</span>(<span class="tok-n">valores-das-barras</span> =&gt; [<span class="tok-mi">10</span>,<span class="tok-mi">9</span>,<span class="tok-mi">11</span>,<span class="tok-mi">8</span>,<span class="tok-mi">7</span>,<span class="tok-mi">10</span>],
                                             <span class="tok-n">valores-das-linahs</span> =&gt; [<span class="tok-mi">9</span>,<span class="tok-mi">8</span>,<span class="tok-mi">10</span>,<span class="tok-mi">7</span>,<span class="tok-mi">6</span>,<span class="tok-mi">9</span>]);
<span class="tok-nb">say</span> <span class="tok-s">&quot;Vendas reais:&quot;</span>;
<span class="tok-nv">$vendas-reais</span>.<span class="tok-n">exibir</span>;
<span class="tok-nb">say</span> <span class="tok-s">&quot;Vendas previstas:&quot;</span>;
<span class="tok-nv">$vendas-previstas</span>.<span class="tok-n">exibir</span>;
<span class="tok-nb">say</span> <span class="tok-s">&quot;Real vs Previsto:&quot;</span>;
<span class="tok-nv">$real-vs-previsto</span>.<span class="tok-n">exibir</span>;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Execute o script acima e você verá que o resultado é o mesmo.</p>
</div>
<div class="paragraph">
<p>Agora você deve estar se perguntando; se roles se comportam igual a classes, qual o seu propósito?<br>
Para responder essa pergunta modifique o primeiro script usado para demonstrar herança múltipla,
aquele em que <em>esquecemos</em> de sobrescrever o método <code>exibir</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="raku"><span></span><span class="tok-k">role</span> <span class="tok-n">gráfico-de-barras</span> {
  <span class="tok-k">has</span> <span class="tok-nb">Int</span> <span class="tok-nv">@.valores-das-barras</span>;
  <span class="tok-k">method</span> <span class="tok-n">exibir</span> {
    <span class="tok-nb">say</span> <span class="tok-nv">@.valores-das-barras</span>;
  }
}

<span class="tok-k">role</span> <span class="tok-n">gráfico-de-linhas</span> {
  <span class="tok-k">has</span> <span class="tok-nb">Int</span> <span class="tok-nv">@.valores-das-linhas</span>;
  <span class="tok-k">method</span> <span class="tok-n">exibir</span> {
    <span class="tok-nb">say</span> <span class="tok-nv">@.valores-das-linhas</span>;
  }
}

<span class="tok-k">class</span> <span class="tok-n">gráfico-combinado</span> <span class="tok-k">does</span> <span class="tok-n">gráfico-de-barras</span> <span class="tok-k">does</span> <span class="tok-n">gráfico-de-linhas</span> {
}

<span class="tok-k">my</span> <span class="tok-nv">$vendas-reais</span> = <span class="tok-n">gráfico-de-barras</span>.<span class="tok-nb">new</span>(<span class="tok-n">valores-das-barras</span> =&gt; [<span class="tok-mi">10</span>,<span class="tok-mi">9</span>,<span class="tok-mi">11</span>,<span class="tok-mi">8</span>,<span class="tok-mi">7</span>,<span class="tok-mi">10</span>]);
<span class="tok-k">my</span> <span class="tok-nv">$vendas-previstas</span> = <span class="tok-n">gráfico-de-linhas</span>.<span class="tok-nb">new</span>(<span class="tok-n">valores-das-linhas</span> =&gt; [<span class="tok-mi">9</span>,<span class="tok-mi">8</span>,<span class="tok-mi">10</span>,<span class="tok-mi">7</span>,<span class="tok-mi">6</span>,<span class="tok-mi">9</span>]);

<span class="tok-k">my</span> <span class="tok-nv">$real-vs-previsto</span> = <span class="tok-n">gráfico-combinado</span>.<span class="tok-nb">new</span>(<span class="tok-n">valores-das-barras</span> =&gt; [<span class="tok-mi">10</span>,<span class="tok-mi">9</span>,<span class="tok-mi">11</span>,<span class="tok-mi">8</span>,<span class="tok-mi">7</span>,<span class="tok-mi">10</span>],
                                             <span class="tok-n">valores-das-linhas</span> =&gt; [<span class="tok-mi">9</span>,<span class="tok-mi">8</span>,<span class="tok-mi">10</span>,<span class="tok-mi">7</span>,<span class="tok-mi">6</span>,<span class="tok-mi">9</span>]);
<span class="tok-nb">say</span> <span class="tok-s">&quot;Vendas reais:&quot;</span>;
<span class="tok-nv">$vendas-reais</span>.<span class="tok-n">exibir</span>;
<span class="tok-nb">say</span> <span class="tok-s">&quot;Vendas previstas:&quot;</span>;
<span class="tok-nv">$vendas-previstas</span>.<span class="tok-n">exibir</span>;
<span class="tok-nb">say</span> <span class="tok-s">&quot;Reais vs Previstas:&quot;</span>;
<span class="tok-nv">$real-vs-previsto</span>.<span class="tok-n">exibir</span>;</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title"><code>Saída</code></div>
<div class="content">
<pre class="pygments highlight"><code data-lang="raku"><span></span>===<span class="tok-n">SORRY</span>!===
<span class="tok-nb">Method</span> <span class="tok-s">&#39;exibir&#39;</span> <span class="tok-n">must</span> <span class="tok-n">be</span> <span class="tok-n">resolved</span> <span class="tok-n">by</span> <span class="tok-k">class</span> <span class="tok-n">gráfico-combinado</span> <span class="tok-n">because</span> <span class="tok-n">it</span> <span class="tok-n">exists</span> <span class="tok-nb">in</span> <span class="tok-n">multiple</span> <span class="tok-n">roles</span> (<span class="tok-n">gráfico-de-linhas</span>, <span class="tok-n">gráfico-de-barras</span>)</code></pre>
</div>
</div>
<div class="paragraph">
<div class="title">Explicação</div>
<p>Se múltiplos roles são aplicados à mesma classe, e um conflito surge, um erro em tempo de compilação será gerado.<br>
Essa é uma abordagem muito mais segura que herança múltipla onde conflitos não são considerados erros e são simplesmente resolvidos em tempo de execução (runtime).</p>
</div>
<div class="paragraph">
<p>Roles vão te avisar quando houver um conflito.</p>
</div>
</div>
<div class="sect2">
<h3 id="_introspecção_2">9.10. Introspecção</h3>
<div class="paragraph">
<p><strong>Introspecção</strong> é o processo de obter informação sobre as propriedades de um objeto como seu tipo, seus atributos ou seus métodos.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="raku"><span></span><span class="tok-k">class</span> <span class="tok-n">Humano</span> {
  <span class="tok-k">has</span> <span class="tok-nv">$.nome</span>;
  <span class="tok-k">has</span> <span class="tok-nv">$.idade</span>;
  <span class="tok-k">method</span> <span class="tok-n">apresente-se</span> {
    <span class="tok-nb">say</span> <span class="tok-s">&#39;Olá, eu sou um humano e meu nome é &#39;</span> ~ <span class="tok-nb">self</span>.<span class="tok-n">nome</span>;
  }
}

<span class="tok-k">class</span> <span class="tok-n">Empregado</span> <span class="tok-k">is</span> <span class="tok-n">Humano</span> {
  <span class="tok-k">has</span> <span class="tok-nv">$.empresa</span>;
  <span class="tok-k">has</span> <span class="tok-nv">$.salário</span>;
  <span class="tok-k">method</span> <span class="tok-n">apresente-se</span> {
    <span class="tok-nb">say</span> <span class="tok-s">&#39;Olá, eu sou um empregado, meu nome é &#39;</span> ~ <span class="tok-nb">self</span>.<span class="tok-n">nome</span> ~ <span class="tok-s">&#39; e eu trabalho na &#39;</span> ~ <span class="tok-nb">self</span>.<span class="tok-n">empresa</span>;
  }
}

<span class="tok-k">my</span> <span class="tok-nv">$joão</span> = <span class="tok-n">Humano</span>.<span class="tok-nb">new</span>(<span class="tok-n">nome</span> =&gt;<span class="tok-s">&#39;João&#39;</span>, <span class="tok-n">idade</span> =&gt; <span class="tok-mi">23</span>,);
<span class="tok-k">my</span> <span class="tok-nv">$joana</span> = <span class="tok-n">Empregado</span>.<span class="tok-nb">new</span>(<span class="tok-n">nome</span> =&gt;<span class="tok-s">&#39;Joana&#39;</span>, <span class="tok-n">idade</span> =&gt; <span class="tok-mi">25</span>, <span class="tok-n">empresa</span> =&gt; <span class="tok-s">&#39;Acme&#39;</span>, <span class="tok-n">salário</span> =&gt; <span class="tok-mi">4000</span>);

<span class="tok-nb">say</span> <span class="tok-nv">$joão</span>.<span class="tok-nb">WHAT</span>;
<span class="tok-nb">say</span> <span class="tok-nv">$joana</span>.<span class="tok-nb">WHAT</span>;
<span class="tok-nb">say</span> <span class="tok-nv">$joão</span>.^<span class="tok-nb">attributes</span>;
<span class="tok-nb">say</span> <span class="tok-nv">$joana</span>.^<span class="tok-nb">attributes</span>;
<span class="tok-nb">say</span> <span class="tok-nv">$joão</span>.^<span class="tok-nb">methods</span>;
<span class="tok-nb">say</span> <span class="tok-nv">$joana</span>.^<span class="tok-nb">methods</span>;
<span class="tok-nb">say</span> <span class="tok-nv">$joana</span>.^<span class="tok-nb">parents</span>;
<span class="tok-k">if</span> <span class="tok-nv">$joana</span> ~~ <span class="tok-n">Humano</span> {<span class="tok-nb">say</span> <span class="tok-s">&#39;Joana é Humana&#39;</span>};</code></pre>
</div>
</div>
<div class="paragraph">
<p>Introspecção é facilitada por:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>.WHAT</code> retorna a classe da qual o objeto foi criado.</p>
</li>
<li>
<p><code>.^attributes</code> retorna uma lista contendo todos os atributos do objeto.</p>
</li>
<li>
<p><code>.^methods</code> retorna todos os métodos que podem ser chamados no objeto.</p>
</li>
<li>
<p><code>.^parents</code> retorna todas as classes pai as quais um objeto pertence.</p>
</li>
<li>
<p><code>~~</code> é chamado de operador smart-match (comparação inteligente).
Ele avalia como <em>True</em> (verdadeiro) se o objeto foi criado da mesma classe que está sendo comparada, ou qualquer uma de suas heranças.</p>
</li>
</ul>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Para mais informações sobre Programação Orientada a Objetos em Raku, veja:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="https://docs.raku.org/language/classtut" class="bare">https://docs.raku.org/language/classtut</a></p>
</li>
<li>
<p><a href="https://docs.raku.org/language/objects" class="bare">https://docs.raku.org/language/objects</a></p>
</li>
</ul>
</div>
</td>
</tr>
</table>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_tratamento_de_exceções">10. Tratamento de Exceções</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_capturando_exceções">10.1. Capturando Exceções</h3>
<div class="paragraph">
<p><strong>Exceções</strong> são um comportamento especial que acontece durante a execução quando algo dá errado.<br>
Dizemos que as exceções são <em>lançadas</em> (<em>thrown</em>).</p>
</div>
<div class="paragraph">
<p>Considere o script abaixo que roda corretamente:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="raku"><span></span><span class="tok-k">my</span> <span class="tok-nb">Str</span> <span class="tok-nv">$nome</span>;
<span class="tok-nv">$nome</span> = <span class="tok-s">&quot;Joana&quot;</span>;
<span class="tok-nb">say</span> <span class="tok-s">&quot;Olá &quot;</span> ~ <span class="tok-nv">$nome</span>;
<span class="tok-nb">say</span> <span class="tok-s">&quot;Como vai você hoje?&quot;</span></code></pre>
</div>
</div>
<div class="listingblock">
<div class="title"><code>Saída</code></div>
<div class="content">
<pre class="pygments highlight"><code data-lang="raku"><span></span><span class="tok-n">Olá</span> <span class="tok-n">Joana</span>
<span class="tok-n">Como</span> <span class="tok-n">vai</span> <span class="tok-n">você</span> <span class="tok-n">hoje</span>?</code></pre>
</div>
</div>
<div class="paragraph">
<p>Agora considere esse script que lança uma exceção:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="raku"><span></span><span class="tok-k">my</span> <span class="tok-nb">Str</span> <span class="tok-nv">$nome</span>;
<span class="tok-nv">$nome</span> = <span class="tok-mi">123</span>;
<span class="tok-nb">say</span> <span class="tok-s">&quot;Olá &quot;</span> ~ <span class="tok-nv">$nome</span>;
<span class="tok-nb">say</span> <span class="tok-s">&quot;Como vai você hoje?&quot;</span></code></pre>
</div>
</div>
<div class="listingblock">
<div class="title"><code>Saída</code></div>
<div class="content">
<pre class="pygments highlight"><code data-lang="raku"><span></span><span class="tok-n">Type</span> <span class="tok-n">check</span> <span class="tok-n">failed</span> <span class="tok-nb">in</span> <span class="tok-n">assignment</span> <span class="tok-nb">to</span> <span class="tok-nv">$nome</span>; <span class="tok-nb">expected</span> <span class="tok-nb">Str</span> <span class="tok-k">but</span> <span class="tok-nb">got</span> <span class="tok-nb">Int</span>
   <span class="tok-nb">in</span> <span class="tok-nb">block</span> <span class="tok-s">&lt;unit&gt;</span> <span class="tok-nb">at</span> <span class="tok-n">exceptions</span>.<span class="tok-n">raku:2</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Você deve ter percebido que sempre que um erro ocorre (nesse caso, atribuir um número a uma variável de string) o programa vai parar e outras linhas de código não serão avaliadas, mesmo que estejam corretas.</p>
</div>
<div class="paragraph">
<p><strong>Tratamento de exceções</strong> é o processo de <em>capturar</em> uma exceção que foi <em>lançada</em> para que o script continue funcionando.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="raku"><span></span><span class="tok-k">my</span> <span class="tok-nb">Str</span> <span class="tok-nv">$nome</span>;
<span class="tok-k">try</span> {
  <span class="tok-nv">$nome</span> = <span class="tok-mi">123</span>;
  <span class="tok-nb">say</span> <span class="tok-s">&quot;Olá &quot;</span> ~ <span class="tok-nv">$nome</span>;
  <span class="tok-k">CATCH</span> {
    <span class="tok-k">default</span> {
      <span class="tok-nb">say</span> <span class="tok-s">&quot;Pode dizer seu nome de novo? Não o encontramos nos registros.&quot;</span>;
    }
  }
}
<span class="tok-nb">say</span> <span class="tok-s">&quot;Como vai você hoje?&quot;</span>;</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title"><code>Saída</code></div>
<div class="content">
<pre class="pygments highlight"><code data-lang="raku"><span></span><span class="tok-n">Pode</span> <span class="tok-n">dizer</span> <span class="tok-n">seu</span> <span class="tok-n">nome</span> <span class="tok-n">de</span> <span class="tok-n">novo</span>? <span class="tok-n">Não</span> <span class="tok-n">o</span> <span class="tok-n">encontramos</span> <span class="tok-n">nos</span> <span class="tok-n">registros</span>.
<span class="tok-n">Como</span> <span class="tok-n">vai</span> <span class="tok-n">você</span> <span class="tok-n">hoje</span>?</code></pre>
</div>
</div>
<div class="paragraph">
<p>Tratamento de exceções é feito usando um bloco <code>try-catch</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="raku"><span></span><span class="tok-k">try</span> {
  <span class="tok-c1"># coloque algum código aqui</span>
  <span class="tok-c1"># se algo der errado, o script vai entrar para o bloco CATCH abaixo</span>
  <span class="tok-c1"># se nada der errado o bloco CATCH será ignorado</span>
  <span class="tok-k">CATCH</span> {
    <span class="tok-k">default</span> {
      <span class="tok-c1"># o código aqui dentro só será executado se uma exceção for lançada</span>
    }
  }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>O bloco <code>CATCH</code> pode ser definido da mesma forma que um bloco <code>given</code>.
Isso significa que podemos <em>capturar</em> e tratar de forma diferente muitos tipos de exceção.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="raku"><span></span><span class="tok-k">try</span> {
  <span class="tok-c1"># coloque algum código aqui</span>
  <span class="tok-c1"># se algo der errado, o script vai entrar para o bloco CATCH abaixo</span>
  <span class="tok-c1"># se nada der errado o bloco CATCH será ignorado</span>
  <span class="tok-k">CATCH</span> {
    <span class="tok-k">when</span> <span class="tok-o">X</span>::<span class="tok-n">AdHoc</span> { <span class="tok-c1"># faça algo quando uma exceção do tipo X::AdHoc for lançada }</span>
    <span class="tok-k">when</span> <span class="tok-o">X</span>::<span class="tok-n">IO</span> { <span class="tok-c1"># faça algo quando exceções do tipo X::IO forem lançadas }</span>
    <span class="tok-k">when</span> <span class="tok-o">X</span>::<span class="tok-n">OS</span> { <span class="tok-c1"># faça algo se uma exceção do tipo X::OS for lançada }</span>
    <span class="tok-k">default</span> { <span class="tok-c1"># faça algo se uma exceção for lançada que não seja dos tipos acima }</span>
  }
}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_lançando_exceções">10.2. Lançando Exceções</h3>
<div class="paragraph">
<p>Assim como capturar exceções, Raku também permite que você explicitamente lance exceções.<br>
Dois tipos de exceções podem ser lançados:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>exceções ad-hoc</p>
</li>
<li>
<p>exceções tipadas</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="title">ad-hoc</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="raku"><span></span><span class="tok-k">my</span> <span class="tok-nb">Int</span> <span class="tok-nv">$age</span> = <span class="tok-mi">21</span>;
<span class="tok-nb">die</span> <span class="tok-s">&quot;Erro!&quot;</span>;</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">tipada</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="raku"><span></span><span class="tok-k">my</span> <span class="tok-nb">Int</span> <span class="tok-nv">$age</span> = <span class="tok-mi">21</span>;
<span class="tok-o">X</span>::<span class="tok-n">AdHoc</span>.<span class="tok-nb">new</span>(<span class="tok-nb">payload</span> =&gt; <span class="tok-s">&#39;Erro!&#39;</span>).<span class="tok-nb">throw</span>;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Exceções ad-hoc são lançadas usando a sub-rotina <code>die</code> seguido da mensagem de exceção.</p>
</div>
<div class="paragraph">
<p>Exceções tipadas são objetos, por isso o uso do construtor <code>.new()</code> no exemplo acima.<br>
Todas as exceções tipadas descendem da classe <code>X</code>, abaixo seguem alguns exemplos:<br>
<code>X::AdHoc</code> é o tipo mais simples de exceção<br>
<code>X::IO</code> é para exceções relacionadas a erros de IO<br>
<code>X::OS</code> é para erros do sistema operacional (OS)<br>
<code>X::Str::Numeric</code> é relacionada a errors tentando converter strings em números</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Para uma lista completa de tipos de exceção e seus métodos associados visite <a href="https://docs.raku.org/type-exceptions.html" class="bare">https://docs.raku.org/type-exceptions.html</a>
</td>
</tr>
</table>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_expressões_regulares">11. Expressões Regulares</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Uma expressão regular, ou <em>regex</em>, é uma sequência de caracteres usada para identificação de padrões.<br>
A forma mais fácil de entender regexes é pensar nelas como padrões.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="raku"><span></span><span class="tok-k">if</span> <span class="tok-s">&#39;iluminação&#39;</span> ~~ <span class="tok-sr">m/ ilumina /</span> {
    <span class="tok-nb">say</span> <span class="tok-s">&quot;inluminação contém a palavra ilumina&quot;</span>;
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Nesse exemplo, o operador de comparação inteligente <code>~~</code> é usado para verificar se a string (iluminação) contém a palavra (ilumina).<br>
"Iluminação" casa com a regex <code>m/ ilumina /</code></p>
</div>
<div class="sect2">
<h3 id="_definição_de_regex">11.1. Definição de regex</h3>
<div class="paragraph">
<p>Uma expressão regular pode ser definida da seguinte maneira:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>/ilumina/</code></p>
</li>
<li>
<p><code>m/ilumina/</code></p>
</li>
<li>
<p><code>rx/ilumina/</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>A menos que você peça explicitamente, espaços em branco são irrelevantes, <code>m/ilumina/</code> e <code>m/ ilumina /</code> são iguais.</p>
</div>
</div>
<div class="sect2">
<h3 id="_casando_caracteres">11.2. Casando caracteres</h3>
<div class="paragraph">
<p>Caracteres alfanuméricos e o underscore <code>_</code> são escritos normalmente.<br>
Todos os outros caracteres precisam ser escapados usando contrabarra ou colocados entre aspas.</p>
</div>
<div class="listingblock">
<div class="title">Contrabarra</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="raku"><span></span><span class="tok-k">if</span> <span class="tok-s">&#39;Temperatura: 13&#39;</span> ~~ <span class="tok-sr">m/ \: /</span> {
    <span class="tok-nb">say</span> <span class="tok-s">&quot;A string fornecida contém dois-pontos :&quot;</span>;
}</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Aspas simples</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="raku"><span></span><span class="tok-k">if</span> <span class="tok-s">&#39;Idade = 13&#39;</span> ~~ <span class="tok-sr">m/ &#39;=&#39; /</span> {
    <span class="tok-nb">say</span> <span class="tok-s">&quot;A string fornecida contém o símbolo de igualdade =&quot;</span>;
}</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Aspas duplas</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="raku"><span></span><span class="tok-k">if</span> <span class="tok-s">&#39;nome@empresa.com&#39;</span> ~~ <span class="tok-sr">m/ &quot;@&quot; /</span> {
    <span class="tok-nb">say</span> <span class="tok-s">&quot;Esse é um email válido porque contém o caractere @&quot;</span>;
}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_casando_categorias_de_caracteres">11.3. Casando categorias de caracteres</h3>
<div class="paragraph">
<p>Caracteres podem ser classificados em categorias que podemos usar para casar.<br>
Também podemos casar com o inverso daquela categoria (tudo menos ela):</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Categoria</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Regex</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Inverso</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Regex</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Caractere de palavra (letra, dígito ou underscore)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">\w</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Qualquer caractere menos os de palavra</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">\W</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Dígito</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">\d</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Qualquer caractere menos dígitos</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">\D</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Espaços</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">\s</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Qualquer caractere menos espaços em branco</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">\S</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Espaço horizontal</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">\h</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Qualquer caractere menos espaços horizontais</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">\H</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Espaço vertical</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">\v</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Qualquer caractere menos espaços verticais</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">\V</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Tab</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">\t</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Qualquer caractere menos Tab</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">\T</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Quebra de linha</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">\n</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Qualquer caractere menos quebra de linha</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">\N</p></td>
</tr>
</tbody>
</table>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="raku"><span></span><span class="tok-k">if</span> <span class="tok-s">&quot;João123&quot;</span> ~~<span class="tok-sr"> / \d /</span> {
  <span class="tok-nb">say</span> <span class="tok-s">&quot;Nome inválido, números não são permitidos&quot;</span>;
} <span class="tok-k">else</span> {
  <span class="tok-nb">say</span> <span class="tok-s">&quot;Esse nome é válido&quot;</span>
}
<span class="tok-k">if</span> <span class="tok-s">&quot;João-Ninguém&quot;</span> ~~<span class="tok-sr"> / \s /</span> {
  <span class="tok-nb">say</span> <span class="tok-s">&quot;Essa string tem espaços&quot;</span>;
} <span class="tok-k">else</span> {
  <span class="tok-nb">say</span> <span class="tok-s">&quot;Essa string não tem espaços&quot;</span>
}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_propriedades_unicode">11.4. Propriedades Unicode</h3>
<div class="paragraph">
<p>Casar contra categorias de caracteres como vimos na seção anterior é conveniente.<br>
Dito isso, uma abordagem mais sistemática seria utilizarmos propriedades Unicode.<br>
Propriedades Unicode são definidas entre <code>&lt;:</code> e <code>&gt;</code></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="raku"><span></span><span class="tok-k">if</span> <span class="tok-s">&quot;João23&quot;</span> ~~<span class="tok-sr"> / &lt;:N&gt; /</span> {
  <span class="tok-nb">say</span> <span class="tok-s">&quot;Contém um número&quot;</span>;
} <span class="tok-k">else</span> {
  <span class="tok-nb">say</span> <span class="tok-s">&quot;Não contém um número&quot;</span>
}
<span class="tok-k">if</span> <span class="tok-s">&quot;João-Ninguém&quot;</span> ~~<span class="tok-sr"> / &lt;:Lu&gt; /</span> {
  <span class="tok-nb">say</span> <span class="tok-s">&quot;Contém letras em maiúsculas&quot;</span>;
} <span class="tok-k">else</span> {
  <span class="tok-nb">say</span> <span class="tok-s">&quot;Não contém letras em maiúsculas&quot;</span>
}
<span class="tok-k">if</span> <span class="tok-s">&quot;João-Ninguém&quot;</span> ~~<span class="tok-sr"> / &lt;:Pd&gt; /</span> {
  <span class="tok-nb">say</span> <span class="tok-s">&quot;Contém um traço&quot;</span>;
} <span class="tok-k">else</span> {
  <span class="tok-nb">say</span> <span class="tok-s">&quot;Não contém traços&quot;</span>
}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_curingas">11.5. Curingas</h3>
<div class="paragraph">
<p>Curingas também podem ser usados em uma regex.</p>
</div>
<div class="paragraph">
<p>O ponto <code>.</code> casa com qualquer caractere simples.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="raku"><span></span><span class="tok-k">if</span> <span class="tok-s">&#39;abc&#39;</span> ~~ <span class="tok-sr">m/ a.c /</span> {
    <span class="tok-nb">say</span> <span class="tok-s">&quot;Casou&quot;</span>;
}
<span class="tok-k">if</span> <span class="tok-s">&#39;a2c&#39;</span> ~~ <span class="tok-sr">m/ a.c /</span> {
    <span class="tok-nb">say</span> <span class="tok-s">&quot;Casou&quot;</span>;
}
<span class="tok-k">if</span> <span class="tok-s">&#39;ac&#39;</span> ~~ <span class="tok-sr">m/ a.c /</span> {
    <span class="tok-nb">say</span> <span class="tok-s">&quot;Casou&quot;</span>;
  } <span class="tok-k">else</span> {
    <span class="tok-nb">say</span> <span class="tok-s">&quot;Não Casou&quot;</span>;
}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_quantificadores">11.6. Quantificadores</h3>
<div class="paragraph">
<p>Quantificadores vem depois de um caractere e são usados para especificar quantas vezes o esperamos.</p>
</div>
<div class="paragraph">
<p>A interrogação <code>?</code> significa zero ou uma vez.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="raku"><span></span><span class="tok-k">if</span> <span class="tok-s">&#39;ac&#39;</span> ~~ <span class="tok-sr">m/ a?c /</span> {
    <span class="tok-nb">say</span> <span class="tok-s">&quot;Casou&quot;</span>;
  } <span class="tok-k">else</span> {
    <span class="tok-nb">say</span> <span class="tok-s">&quot;Não casou&quot;</span>;
}
<span class="tok-k">if</span> <span class="tok-s">&#39;c&#39;</span> ~~ <span class="tok-sr">m/ a?c /</span> {
    <span class="tok-nb">say</span> <span class="tok-s">&quot;Casou&quot;</span>;
  } <span class="tok-k">else</span> {
    <span class="tok-nb">say</span> <span class="tok-s">&quot;Não Casou&quot;</span>;
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>O asterisco <code>*</code> significa zero ou mais vezes.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="raku"><span></span><span class="tok-k">if</span> <span class="tok-s">&#39;az&#39;</span> ~~ <span class="tok-sr">m/ a*z /</span> {
    <span class="tok-nb">say</span> <span class="tok-s">&quot;Casou&quot;</span>;
  } <span class="tok-k">else</span> {
    <span class="tok-nb">say</span> <span class="tok-s">&quot;Não Casou&quot;</span>;
}
<span class="tok-k">if</span> <span class="tok-s">&#39;aaz&#39;</span> ~~ <span class="tok-sr">m/ a*z /</span> {
    <span class="tok-nb">say</span> <span class="tok-s">&quot;Casou&quot;</span>;
  } <span class="tok-k">else</span> {
    <span class="tok-nb">say</span> <span class="tok-s">&quot;Não Casou&quot;</span>;
}
<span class="tok-k">if</span> <span class="tok-s">&#39;aaaaaaaaaaz&#39;</span> ~~ <span class="tok-sr">m/ a*z /</span> {
    <span class="tok-nb">say</span> <span class="tok-s">&quot;Casou&quot;</span>;
  } <span class="tok-k">else</span> {
    <span class="tok-nb">say</span> <span class="tok-s">&quot;Não Casou&quot;</span>;
}
<span class="tok-k">if</span> <span class="tok-s">&#39;z&#39;</span> ~~ <span class="tok-sr">m/ a*z /</span> {
    <span class="tok-nb">say</span> <span class="tok-s">&quot;Casou&quot;</span>;
  } <span class="tok-k">else</span> {
    <span class="tok-nb">say</span> <span class="tok-s">&quot;Não Casou&quot;</span>;
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>O <code>+</code> significa pelo menos uma vez.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="raku"><span></span><span class="tok-k">if</span> <span class="tok-s">&#39;az&#39;</span> ~~ <span class="tok-sr">m/ a+z /</span> {
    <span class="tok-nb">say</span> <span class="tok-s">&quot;Casou&quot;</span>;
  } <span class="tok-k">else</span> {
    <span class="tok-nb">say</span> <span class="tok-s">&quot;Não Casou&quot;</span>;
}
<span class="tok-k">if</span> <span class="tok-s">&#39;aaz&#39;</span> ~~ <span class="tok-sr">m/ a+z /</span> {
    <span class="tok-nb">say</span> <span class="tok-s">&quot;Casou&quot;</span>;
  } <span class="tok-k">else</span> {
    <span class="tok-nb">say</span> <span class="tok-s">&quot;Não Casou&quot;</span>;
}
<span class="tok-k">if</span> <span class="tok-s">&#39;aaaaaaaaaaz&#39;</span> ~~ <span class="tok-sr">m/ a+z /</span> {
    <span class="tok-nb">say</span> <span class="tok-s">&quot;Casou&quot;</span>;
  } <span class="tok-k">else</span> {
    <span class="tok-nb">say</span> <span class="tok-s">&quot;Não Casou&quot;</span>;
}
<span class="tok-k">if</span> <span class="tok-s">&#39;z&#39;</span> ~~ <span class="tok-sr">m/ a+z /</span> {
    <span class="tok-nb">say</span> <span class="tok-s">&quot;Casou&quot;</span>;
  } <span class="tok-k">else</span> {
    <span class="tok-nb">say</span> <span class="tok-s">&quot;Não Casou&quot;</span>;
}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_resultados">11.7. Resultados</h3>
<div class="paragraph">
<p>Sempre que casamos uma string com uma regex, o resultado é armazenado na variável especial <code>$/</code></p>
</div>
<div class="listingblock">
<div class="title">Script</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="raku"><span></span><span class="tok-k">if</span> <span class="tok-s">&#39;Rakudo é um compilador de Raku.&#39;</span> ~~ <span class="tok-sr">m/:s Raku/</span> {
    <span class="tok-nb">say</span> <span class="tok-s">&quot;Casou com: &quot;</span> ~ <span class="tok-vg">$/</span>;
    <span class="tok-nb">say</span> <span class="tok-s">&quot;A string que veio antes foi: &quot;</span> ~ <span class="tok-vg">$/</span>.<span class="tok-nb">prematch</span>;
    <span class="tok-nb">say</span> <span class="tok-s">&quot;A string que veio depois foi: &quot;</span> ~ <span class="tok-vg">$/</span>.<span class="tok-nb">postmatch</span>;
    <span class="tok-nb">say</span> <span class="tok-s">&quot;A string encontrada começa na posição: &quot;</span> ~ <span class="tok-vg">$/</span>.<span class="tok-nb">from</span>;
    <span class="tok-nb">say</span> <span class="tok-s">&quot;A string encontrada termina na posição: &quot;</span> ~ <span class="tok-vg">$/</span>.<span class="tok-nb">to</span>;
}</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Saída</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="raku"><span></span><span class="tok-n">Casou</span> <span class="tok-n">com:</span> <span class="tok-n">Raku</span>
<span class="tok-n">A</span> <span class="tok-n">string</span> <span class="tok-n">que</span> <span class="tok-n">veio</span> <span class="tok-n">antes</span> <span class="tok-n">foi:</span> <span class="tok-n">Rakudo</span> <span class="tok-n">é</span> <span class="tok-n">um</span> <span class="tok-n">compilador</span> <span class="tok-n">de</span>
<span class="tok-n">A</span> <span class="tok-n">string</span> <span class="tok-n">que</span> <span class="tok-n">veio</span> <span class="tok-n">depois</span> <span class="tok-n">foi:</span> .
<span class="tok-n">A</span> <span class="tok-n">string</span> <span class="tok-n">encontrada</span> <span class="tok-n">começa</span> <span class="tok-n">na</span> <span class="tok-n">posição:</span> <span class="tok-mi">26</span>
<span class="tok-n">A</span> <span class="tok-n">string</span> <span class="tok-n">encontrada</span> <span class="tok-n">termina</span> <span class="tok-n">na</span> <span class="tok-n">posição:</span> <span class="tok-mi">32</span></code></pre>
</div>
</div>
<div class="paragraph">
<div class="title">Explicação</div>
<p><code>$/</code> retorna um <em>Objeto de Match</em> (a string que casa com a regex)<br>
Os seguintes métodos podem ser chamados no <em>Objeto de Match</em>:<br>
<code>.prematch</code> retorna a string que precede a sequência casada.<br>
<code>.postmatch</code> retorna a string que sucede a sequência casada.<br>
<code>.from</code> retorna a posição na string em que a sequência casada começa.<br>
<code>.to</code> retorna a posição na string em que a sequência casada termina.<br></p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
Por padrão os espaços em branco numa definição de regex são irrelevantes.<br>
Se queremos casar uma expressão regular contendo espaços temos que dizer isso explicitamente.<br>
O <code>:s</code> na regex <code>m/:s Raku/</code> força que espaços em branco sejam considerados e não descartados.<br>
Poderíamos ter escrito essa regex como <code>m/ Perl\s6 /</code> e usado <code>\s</code> que, como vimos antes, é um placeholder para espaços.<br>
Se uma regex contém mais de um espaço em branco, usar <code>:s</code> torna-se mais eficiente em vez de usar <code>\s</code> para cada caractere de espaço.
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_exemplo">11.8. Exemplo</h3>
<div class="paragraph">
<p>Vamos verificar se um email é válido ou não.<br>
Para esse exemplo vamos assumir que um email válido é formado por:<br>
primeiro nome [ponto] último nome [arroba] empresa [ponto] (com/org/net)</p>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
a regex usada nesse exemplo não é muito precisa para validação de emails.<br>
Seu único propósito é demonstrar a funcionalidade das regexes em Raku.<br>
Não use como está aqui em ambientes de produção.
</td>
</tr>
</table>
</div>
<div class="listingblock">
<div class="title">Script</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="raku"><span></span><span class="tok-k">my</span> <span class="tok-nv">$email</span> = <span class="tok-s">&#39;mario.silva@raku.org&#39;</span>;
<span class="tok-k">my</span> <span class="tok-nv">$regex</span> =<span class="tok-sr"> / &lt;:L&gt;+\.&lt;:L&gt;+\@&lt;:L+:N&gt;+\.&lt;:L&gt;+ /</span>;

<span class="tok-k">if</span> <span class="tok-nv">$email</span> ~~ <span class="tok-nv">$regex</span> {
  <span class="tok-nb">say</span> <span class="tok-vg">$/</span> ~ <span class="tok-s">&quot; é um email válido&quot;</span>;
} <span class="tok-k">else</span> {
  <span class="tok-nb">say</span> <span class="tok-s">&quot;Esse não é um email válido&quot;</span>;
}</code></pre>
</div>
</div>
<div class="paragraph">
<div class="title">Saída</div>
<p><code>mario.silva@raku.org é um email válido</code></p>
</div>
<div class="paragraph">
<div class="title">Explicação</div>
<p><code>&lt;:L&gt;</code> casa com uma letra<br>
<code>&lt;:L&gt;` casa com uma ou mais letras +
`\.` casa com um caractere de [ponto] +
`\@` casa com um caractere de [arroba] +
`&lt;:L:N&gt;</code> casa com uma letra e um número<br>
<code>&lt;:L+:N&gt;+</code> casa com uma ou mais (letras e números)<br></p>
</div>
<div class="paragraph">
<p>Essa regex pode ser decomposta da seguinte forma:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>primeiro nome</strong> <code>&lt;:L&gt;+</code></p>
</li>
<li>
<p><strong>[ponto]</strong> <code>\.</code></p>
</li>
<li>
<p><strong>último nome</strong> <code>&lt;:L&gt;+</code></p>
</li>
<li>
<p><strong>[arroba]</strong> <code>\@</code></p>
</li>
<li>
<p><strong>empresa</strong> <code>&lt;:L+:N&gt;+</code></p>
</li>
<li>
<p><strong>[ponto]</strong> <code>\.</code></p>
</li>
<li>
<p><strong>com/org/net</strong> <code>&lt;:L&gt;+</code></p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="title">A regex também pode ser dividida em múltiplas regexes rotuladas</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="raku"><span></span><span class="tok-k">my</span> <span class="tok-nv">$email</span> = <span class="tok-s">&#39;mario.silva@raku.org&#39;</span>;
<span class="tok-k">my</span> <span class="tok-k">regex</span><span class="tok-n"> muitas-letras</span> {<span class="tok-sr"> &lt;:L&gt;+ </span>};
<span class="tok-k">my</span> <span class="tok-k">regex</span><span class="tok-n"> ponto</span> {<span class="tok-sr"> \. </span>};
<span class="tok-k">my</span> <span class="tok-k">regex</span><span class="tok-n"> arroba</span> {<span class="tok-sr"> \@ </span>};
<span class="tok-k">my</span> <span class="tok-k">regex</span><span class="tok-n"> muitas-letras-e-numeros</span> {<span class="tok-sr"> &lt;:L+:N&gt;+ </span>};

<span class="tok-k">if</span> <span class="tok-nv">$email</span> ~~<span class="tok-sr"> / &lt;muitas-letras&gt; &lt;ponto&gt; &lt;muitas-letras&gt; &lt;arroba&gt; &lt;muitas-letras-e-numeros&gt; &lt;ponto&gt; &lt;muitas-letras&gt; /</span> {
  <span class="tok-nb">say</span> <span class="tok-vg">$/</span> ~ <span class="tok-s">&quot; é um email válido&quot;</span>;
} <span class="tok-k">else</span> {
  <span class="tok-nb">say</span> <span class="tok-s">&quot;Esse não é um email válido&quot;</span>;
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Uma regex rotulada é definida usando a seguinte sintaxe: <code>my regex nome-da-regex { definição da regex }</code><br>
Uma regex rotulada pode ser chamada usando a seguinte sintaxe: <code>&lt;nome-da-regex&gt;</code></p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Para mais informações sobre regexes, veja <a href="https://docs.raku.org/language/regexes" class="bare">https://docs.raku.org/language/regexes</a>
</td>
</tr>
</table>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_módulos_em_raku">12. Módulos em Raku</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Raku é uma linguagem de uso geral. Ela pode ser usada para resolver uma série de tarefas incluindo:
manipulação de textos, gráficos, web, bancos de dados, protocolos de rede, etc.</p>
</div>
<div class="paragraph">
<p>Reusabilidade é um conceito muito importante onde programadores não precisam reinventar a roda cada vez que querem fazer uma nova tarefa.</p>
</div>
<div class="paragraph">
<p>Raku permite a criação e redistribuição de <strong>módulos</strong>. Cada módulo é um conjunto de funcionalidades que pode ser reutilizado após instalado.</p>
</div>
<div class="paragraph">
<p><em>Zef</em> é uma ferramenta de gestão de módulos que vem com o Rakudo Star.</p>
</div>
<div class="paragraph">
<p>Para instalar um módulo específico, digite o comando abaixo no seu terminal:</p>
</div>
<div class="paragraph">
<p><code>zef install "nome do módulo"</code></p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
O diretório de módulos Raku pode ser encontrado em: <a href="https://modules.raku.org/" class="bare">https://modules.raku.org/</a>
</td>
</tr>
</table>
</div>
<div class="sect2">
<h3 id="_usando_módulos">12.1. Usando Módulos</h3>
<div class="paragraph">
<p>MD5 é uma função de hash criptográfico que produz um valor de 128 bits.<br>
MD5 tem uma variedade de aplicações como o armazenamento de senhas em um banco de dados.
Quando um usuário se cadastra, suas credenciais não são armazenadas em texto puro e sim na forma de um <em>hash</em>.
O raciocínio por trás disso é que se o banco de dados for comprometido, quem fez o ataque não conseguirá descobrir as senhas de acesso.</p>
</div>
<div class="paragraph">
<p>Digamos que você precise de um script que gere um hash MD5 de uma senha antes de guardá-la no banco de dados.</p>
</div>
<div class="paragraph">
<p>Felizmente existe um módulo em Raku que já implementa o algoritmo MD5. Vamos instalá-lo:<br>
<code>zef install Digest::MD5</code></p>
</div>
<div class="paragraph">
<p>Agora execute o script abaixo:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="raku"><span></span><span class="tok-k">use</span> <span class="tok-n">Digest::MD5</span>;
<span class="tok-k">my</span> <span class="tok-nv">$senha</span> = <span class="tok-s">&quot;senha123&quot;</span>;
<span class="tok-k">my</span> <span class="tok-nv">$hash-da-senha</span> = <span class="tok-n">Digest::MD5</span>.<span class="tok-nb">new</span>.<span class="tok-n">md5_hex</span>(<span class="tok-nv">$senha</span>);

<span class="tok-nb">say</span> <span class="tok-nv">$hash-da-senha</span>;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Para executar a função <code>md5_hex()</code> que cria os hashes MD5, precisamos carregar o módulo relacionado.<br>
A palavra-chave <code>use</code> carrega o módulo para ser usado no script.</p>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
O uso de hashing MD5 não é suficiente, porque é um método vulnerável a ataques de dicionário.<br>
Hashes de senhas devem ser "salgados" para mais segurança <a href="https://en.wikipedia.org/wiki/Salt_(cryptography)">https://en.wikipedia.org/wiki/Salt_(cryptography)</a>.
</td>
</tr>
</table>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_unicode">13. Unicode</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Unicode é o padrão para codificar e representar caracteres de texto que abrange o maior número de sistemas de escrita do mundo.<br>
UTF-8 é uma codificação de caracteres capaz de codificar todos os caracteres possíveis, ou code points, em Unicode.</p>
</div>
<div class="paragraph">
<p>Caracteres são definidos por:<br>
<strong>Grafema</strong> (grapheme): A representação visual.<br>
<strong>Code point</strong>: Um número atribuído a esse caractere.</p>
</div>
<div class="sect2">
<h3 id="_usando_unicode">13.1. Usando Unicode</h3>
<div class="listingblock">
<div class="title">Vejamos como podemos exibir caracteres usando Unicode</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="raku"><span></span><span class="tok-nb">say</span> <span class="tok-s">&quot;a&quot;</span>;
<span class="tok-nb">say</span> <span class="tok-s">&quot;\x0061&quot;</span>;
<span class="tok-nb">say</span> <span class="tok-s">&quot;\c[LATIN SMALL LETTER A]&quot;</span>;</code></pre>
</div>
</div>
<div class="paragraph">
<p>As 3 linhas acima mostram formas diferentes de se construir o mesmo caractere:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Escrevendo o caractere diretamente (grafema)</p>
</li>
<li>
<p>Usando <code>\x</code> e o code point</p>
</li>
<li>
<p>Usando <code>\c</code> e o nome do code point</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="title">Agora vamos exibir um smiley</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="raku"><span></span><span class="tok-nb">say</span> <span class="tok-s">&quot;☺&quot;</span>;
<span class="tok-nb">say</span> <span class="tok-s">&quot;\x263a&quot;</span>;
<span class="tok-nb">say</span> <span class="tok-s">&quot;\c[WHITE SMILING FACE]&quot;</span>;</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Outro exemplo combinando dois code points</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="raku"><span></span><span class="tok-nb">say</span> <span class="tok-s">&quot;á&quot;</span>;
<span class="tok-nb">say</span> <span class="tok-s">&quot;\x00e1&quot;</span>;
<span class="tok-nb">say</span> <span class="tok-s">&quot;\x0061\x0301&quot;</span>;
<span class="tok-nb">say</span> <span class="tok-s">&quot;\c[LATIN SMALL LETTER A WITH ACUTE]&quot;</span>;</code></pre>
</div>
</div>
<div class="paragraph">
<p>A letra <code>á</code> pode ser escrita:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>usando seu code point único <code>\x00e1</code></p>
</li>
<li>
<p>ou como uma combinação dos code points de <code>a</code> e de acento agudo <code>\x0061\x0301</code></p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="title">Alguns dos métodos que podem ser usados:</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="raku"><span></span><span class="tok-nb">say</span> <span class="tok-s">&quot;á&quot;</span>.<span class="tok-nb">NFC</span>;
<span class="tok-nb">say</span> <span class="tok-s">&quot;á&quot;</span>.<span class="tok-nb">NFD</span>;
<span class="tok-nb">say</span> <span class="tok-s">&quot;á&quot;</span>.<span class="tok-nb">uniname</span>;</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title"><code>Saída</code></div>
<div class="content">
<pre class="pygments highlight"><code data-lang="raku"><span></span><span class="tok-n">NFC:0x</span><span class="tok-s">&lt;00e1&gt;</span>
<span class="tok-n">NFD:0x</span><span class="tok-s">&lt;0061 0301&gt;</span>
<span class="tok-n">LATIN</span> <span class="tok-n">SMALL</span> <span class="tok-n">LETTER</span> <span class="tok-n">A</span> <span class="tok-n">WITH</span> <span class="tok-n">ACUTE</span></code></pre>
</div>
</div>
<div class="paragraph">
<p><code>NFC</code> retorna o code point único.<br>
<code>NFD</code> decompõe o caractere e retorna o code point de cada parte.<br>
<code>uniname</code> retorna o nome do code point.</p>
</div>
<div class="listingblock">
<div class="title">Letras em Unicode podem ser usadas como identificadores:</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="raku"><span></span><span class="tok-k">my</span> <span class="tok-nv">$Δ</span> = <span class="tok-mi">1</span>;
<span class="tok-nv">$Δ</span>++;
<span class="tok-nb">say</span> <span class="tok-nv">$Δ</span>;</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Unicode pode ser usado para operações matemáticas:</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="raku"><span></span><span class="tok-k">my</span> <span class="tok-nv">$var</span> = <span class="tok-mi">2</span> + <span class="tok-n">⅒</span>;
<span class="tok-nb">say</span> <span class="tok-nv">$var</span>;</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_paralelismo_concorrência_e_assincronicidade">14. Paralelismo, Concorrência e Assincronicidade</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_paralelismo">14.1. Paralelismo</h3>
<div class="paragraph">
<p>Em circunstâncias normais, todas as tarefas de um programa executam em sequência.<br>
Isso pode não ser um problema, a menos que o que esteja tentando fazer consuma muito tempo.</p>
</div>
<div class="paragraph">
<p>Raku possui recursos que permitem que você execute tarefas em paralelo.<br>
Nesse ponto, é importante notar que paralelismo pode significar uma dessas duas coisas:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Paralelismo de Tarefas</strong>: Duas (ou mais) expressões independentes executando em paralelo.</p>
</li>
<li>
<p><strong>Paralelismo de Dados</strong>: Uma única expressão iterando sobre uma lista de elementos em paralelo.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Vamos começar pelo segundo.</p>
</div>
<div class="sect3">
<h4 id="_paralelismo_de_dados">14.1.1. Paralelismo de Dados</h4>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="raku"><span></span><span class="tok-k">my</span> <span class="tok-nv">@array</span> = (<span class="tok-mi">0</span><span class="tok-o">..</span><span class="tok-mi">50000</span>);                     <span class="tok-c1"># Populando o array</span>
<span class="tok-k">my</span> <span class="tok-nv">@result</span> = <span class="tok-nv">@array</span>.<span class="tok-n">map</span>({ <span class="tok-nb">is-prime</span> <span class="tok-nv">$_</span> });   <span class="tok-c1"># chame is-prime para cada elemento do array</span>
<span class="tok-nb">say</span> <span class="tok-nb">now</span> - <span class="tok-k">INIT</span> <span class="tok-nb">now</span>;                         <span class="tok-c1"># Exibe o tempo que o script levou pra rodar</span></code></pre>
</div>
</div>
<div class="paragraph">
<div class="title">Considerando o exemplo acima:</div>
<p>Estamos apenas fazendo uma operação, <code>@array.map({ is-prime $_ })</code><br>
A sub-rotina <code>is-prime</code> está sendo chamada para cada elemento do array em sequência:<br>
<code>is-prime @array[0]</code> depois <code>is-prime @array[1]</code> depois <code>is-prime @array[2]</code> etc.</p>
</div>
<div class="listingblock">
<div class="title">Felizmente podemos chamar <code>is-prime</code> em múltiplos elementos do array ao mesmo tempo:</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="raku"><span></span><span class="tok-k">my</span> <span class="tok-nv">@array</span> = (<span class="tok-mi">0</span><span class="tok-o">..</span><span class="tok-mi">50000</span>);                         <span class="tok-c1"># Populando o array</span>
<span class="tok-k">my</span> <span class="tok-nv">@result</span> = <span class="tok-nv">@array</span>.<span class="tok-nb">race</span>.<span class="tok-n">map</span>({ <span class="tok-nb">is-prime</span> <span class="tok-nv">$_</span> });  <span class="tok-c1"># chame is-prime para cada elemento do array</span>
<span class="tok-nb">say</span> <span class="tok-nb">now</span> - <span class="tok-k">INIT</span> <span class="tok-nb">now</span>;                             <span class="tok-c1"># exiba o tempo que o script levou pra rodar</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Note o uso de <code>race</code> na expressão.
Esse método vai ativar a iteração em paralelo dos elementos do array.</p>
</div>
<div class="paragraph">
<p>Após executar ambos os exemplos (com e sem <code>race</code>), compare o tempo que levou para cada um dos scripts executar.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
<div class="paragraph">
<p><code>race</code> não vai preservar a ordem dos elementos. Para fazer isso, use <code>hyper</code>.</p>
</div>
<div class="listingblock">
<div class="title">race</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="raku"><span></span><span class="tok-k">my</span> <span class="tok-nv">@array</span> = (<span class="tok-mi">1</span><span class="tok-o">..</span><span class="tok-mi">1000</span>);
<span class="tok-k">my</span> <span class="tok-nv">@result</span> = <span class="tok-nv">@array</span>.<span class="tok-nb">race</span>.<span class="tok-n">map</span>( {<span class="tok-nv">$_</span> + <span class="tok-mi">1</span>} );
.<span class="tok-nb">say</span> <span class="tok-k">for</span> <span class="tok-nv">@result</span>;</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">hyper</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="raku"><span></span><span class="tok-k">my</span> <span class="tok-nv">@array</span> = (<span class="tok-mi">1</span><span class="tok-o">..</span><span class="tok-mi">1000</span>);
<span class="tok-k">my</span> <span class="tok-nv">@result</span> = <span class="tok-nv">@array</span>.<span class="tok-nb">hyper</span>.<span class="tok-n">map</span>( {<span class="tok-nv">$_</span> + <span class="tok-mi">1</span>} );
.<span class="tok-nb">say</span> <span class="tok-k">for</span> <span class="tok-nv">@result</span>;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Se você rodar os dois exemplos, verá que um está ordenado e o outro não.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="_paralelismo_de_tarefas">14.1.2. Paralelismo de Tarefas</h4>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="raku"><span></span><span class="tok-k">my</span> <span class="tok-nv">@array1</span> = (<span class="tok-mi">0</span><span class="tok-o">..</span><span class="tok-mi">49999</span>);
<span class="tok-k">my</span> <span class="tok-nv">@array2</span> = (<span class="tok-mi">2</span><span class="tok-o">..</span><span class="tok-mi">50001</span>);

<span class="tok-k">my</span> <span class="tok-nv">@result1</span> = <span class="tok-nv">@array1</span>.<span class="tok-n">map</span>( {<span class="tok-nb">is-prime</span>(<span class="tok-nv">$_</span> + <span class="tok-mi">1</span>)} );
<span class="tok-k">my</span> <span class="tok-nv">@result2</span> = <span class="tok-nv">@array2</span>.<span class="tok-n">map</span>( {<span class="tok-nb">is-prime</span>(<span class="tok-nv">$_</span> - <span class="tok-mi">1</span>)} );

<span class="tok-nb">say</span> <span class="tok-nv">@result1</span> <span class="tok-o">eqv</span> <span class="tok-nv">@result2</span>;

<span class="tok-nb">say</span> <span class="tok-nb">now</span> - <span class="tok-k">INIT</span> <span class="tok-nb">now</span>;</code></pre>
</div>
</div>
<div class="olist arabic">
<div class="title">Considere o exemplo acima:</div>
<ol class="arabic">
<li>
<p>Nós definimos 2 arrays</p>
</li>
<li>
<p>aplicamos uma operação diferente em cada array e guardamos os resultados</p>
</li>
<li>
<p>então verificamos se os dois resultados são iguais</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>O script espera até <code>@array1.map( {is-prime($_ + 1)} )</code> terminar<br>
e só então começa <code>@array2.map( {is-prime($_ - 1)} )</code></p>
</div>
<div class="paragraph">
<p>Só que as duas operações são aplicadas a arrays diferentes e não dependem uma da outra.</p>
</div>
<div class="listingblock">
<div class="title">Por que não executá-las em paralelo?</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="raku"><span></span><span class="tok-k">my</span> <span class="tok-nv">@array1</span> = (<span class="tok-mi">0</span><span class="tok-o">..</span><span class="tok-mi">49999</span>);
<span class="tok-k">my</span> <span class="tok-nv">@array2</span> = (<span class="tok-mi">2</span><span class="tok-o">..</span><span class="tok-mi">50001</span>);

<span class="tok-k">my</span> <span class="tok-nv">$promise1</span> = <span class="tok-nb">start</span> <span class="tok-nv">@array1</span>.<span class="tok-n">map</span>( {<span class="tok-nb">is-prime</span>(<span class="tok-nv">$_</span> + <span class="tok-mi">1</span>)} ).<span class="tok-nb">eager</span>;
<span class="tok-k">my</span> <span class="tok-nv">$promise2</span> = <span class="tok-nb">start</span> <span class="tok-nv">@array2</span>.<span class="tok-n">map</span>( {<span class="tok-nb">is-prime</span>(<span class="tok-nv">$_</span> - <span class="tok-mi">1</span>)} ).<span class="tok-nb">eager</span>;

<span class="tok-k">my</span> <span class="tok-nv">@result1</span> = <span class="tok-nb">await</span> <span class="tok-nv">$promise1</span>;
<span class="tok-k">my</span> <span class="tok-nv">@result2</span> = <span class="tok-nb">await</span> <span class="tok-nv">$promise2</span>;

<span class="tok-nb">say</span> <span class="tok-nv">@result1</span> <span class="tok-o">eqv</span> <span class="tok-nv">@result2</span>;

<span class="tok-nb">say</span> <span class="tok-nb">now</span> - <span class="tok-k">INIT</span> <span class="tok-nb">now</span>;</code></pre>
</div>
</div>
<div class="paragraph">
<div class="title">Explicação</div>
<p>O método <code>start</code> avalia o código e retorna <strong>um objeto do tipo promessa</strong> ou abreviadamente, uma <strong>promise</strong> (promessa).<br>
Se o código executar com sucesso, a <em>promessa</em> será <strong>mantida</strong>.<br>
Se o código lançar uma exceção, a <em>promessa</em> será <strong>quebrada</strong>.</p>
</div>
<div class="paragraph">
<p>O método <code>await</code> espera por uma <strong>promessa</strong>.<br>
Se ela for <strong>mantida</strong> o método obterá os valores retornados.<br>
Se ela for <strong>quebrada</strong> o método obterá a exceção lançada.</p>
</div>
<div class="paragraph">
<p>Observe o tempo que o script levou para executar.</p>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
Paralelismo sempre adiciona um custo (overhead) de threading. Se esse overhead não for compensado pelo ganho em velocidade computacional, o script pode parecer mais lento.<br>
É por isso que usar <code>race</code>, <code>hyper</code>, <code>start</code> and <code>await</code> para scripts muito simples pode de fato deixá-los mais lentos.
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_concorrência_e_assincronicidade">14.2. Concorrência e Assincronicidade</h3>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Para mais informações sobre Concorrência e Programação Assíncrona, veja <a href="https://docs.raku.org/language/concurrency" class="bare">https://docs.raku.org/language/concurrency</a>
</td>
</tr>
</table>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_a_comunidade">15. A Comunidade</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p>Canal de IRC <a href="https://web.libera.chat/#raku">#raku</a>. Muita discussão acontece no canal de IRC. Esse deve ser seu lugar de destino para qualquer questão: <a href="https://raku.org/community/irc" class="bare">https://raku.org/community/irc</a></p>
</li>
<li>
<p>Agregador de blogs <a href="http://pl6anet.org">pl6anet</a>. Fique em dia lendo blog posts com foco em Raku.</p>
</li>
<li>
<p><a href="https://www.reddit.com/r/raku/">/r/raku</a>. Assine a subreddit do Raku.</p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
Last updated 2024-05-15 01:16:02 +0300
</div>
</div>
</body>
</html>